<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Doxygen Awesome" />
<meta property="og:image" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta property="og:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<meta property="og:url" content="https://jothepro.github.io/doxygen-awesome-css/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta name="twitter:title" content="Doxygen Awesome" />
<meta name="twitter:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<!-- END twitter metadata -->
<title>XWOS API: 信号量</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/svg+xml" href="logo.svg"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript" src="toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom-alternative.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<a href="/" class="github-corner" title="返回首页">
  <svg viewBox="0 0 250 250" style="position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
    <path
      d="M 0 0 L 250 250 L 250 0 L 0 0 z M 181.19336 6.25 A 18.281986 19.638775 0 0 1 192.79297 10.798828 L 241.54492 54.201172 A 6.0939954 6.5462585 0 0 1 237.64453 65.787109 L 233.13477 65.787109 A 3.0469979 3.2731292 0 0 0 230.08789 69.060547 L 230.08789 111.61133 A 18.281986 19.638775 0 0 1 211.80664 131.25 L 205.71289 131.25 A 12.187991 13.092517 0 0 1 193.52344 118.1582 L 193.52344 98.519531 A 12.187991 13.092517 0 0 0 181.33594 85.425781 A 12.187991 13.092517 0 0 0 169.14844 98.519531 L 169.14844 118.1582 A 12.187991 13.092517 0 0 1 156.95898 131.25 L 150.86523 131.25 A 18.281986 19.638775 0 0 1 132.58398 111.61133 L 132.58398 68.994141 A 3.0469979 3.2731292 0 0 0 129.29297 65.722656 L 124.7832 65.722656 A 6.0939954 6.5462585 0 0 1 120.88281 54.201172 L 169.39258 10.798828 A 18.281986 19.638775 0 0 1 181.19336 6.25 z "/>
  </svg>
</a>
<style>.github-corner:hover</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">XWOS API
   &#160;<span id="projectnumber">3.0</span>
   </div>
   <div id="projectbrief">XWOS API参考手册</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__xwos__sync__sem.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">结构体</a> &#124;
<a href="#define-members">宏定义</a> &#124;
<a href="#func-members">函数</a>  </div>
  <div class="headertitle"><div class="title">信号量<div class="ingroups"><a class="el" href="group__xwos.html">XWOS内核</a> &raquo; <a class="el" href="group__xwos__sync.html">XWOS的同步机制</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
信号量 的协作图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__sync__sem.png" border="0" usemap="#agroup____xwos____sync____sem" alt=""/></div>
<map name="agroup____xwos____sync____sem" id="agroup____xwos____sync____sem">
<area shape="rect" href="group__xwos__sync.html" title=" " alt="" coords="5,5,133,31"/>
<area shape="rect" title=" " alt="" coords="181,5,243,31"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
结构体</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxwos__sem.html">xwos_sem</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：信号量对象  <a href="structxwos__sem.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxwos__sem__d.html">xwos_sem_d</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：信号量对象描述符  <a href="structxwos__sem__d.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
宏定义</h2></td></tr>
<tr class="memitem:ga5750ad9e8b8d0eb0726140e5c12bccb2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#ga5750ad9e8b8d0eb0726140e5c12bccb2">XWOS_SEM_NILD</a>&#160;&#160;&#160;((<a class="el" href="structxwos__sem__d.html">xwos_sem_d</a>){<a class="el" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0,})</td></tr>
<tr class="memdesc:ga5750ad9e8b8d0eb0726140e5c12bccb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：空的信号量对象描述符  <br /></td></tr>
<tr class="separator:ga5750ad9e8b8d0eb0726140e5c12bccb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:gaef37596ed9c49312579530b2218150ad"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#gaef37596ed9c49312579530b2218150ad">xwos_sem_init</a> (struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *sem, <a class="el" href="group__xwos__lib__type.html#ga89fd1295e4575443671eb9ae21c34567">xwssq_t</a> val, <a class="el" href="group__xwos__lib__type.html#ga89fd1295e4575443671eb9ae21c34567">xwssq_t</a> max)</td></tr>
<tr class="memdesc:gaef37596ed9c49312579530b2218150ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：静态方式初始化信号量对象  <br /></td></tr>
<tr class="separator:gaef37596ed9c49312579530b2218150ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91a3f44977a865f10e9a46f13e261d3a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#ga91a3f44977a865f10e9a46f13e261d3a">xwos_sem_fini</a> (struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *sem)</td></tr>
<tr class="memdesc:ga91a3f44977a865f10e9a46f13e261d3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：销毁静态方式初始化的信号量对象  <br /></td></tr>
<tr class="separator:ga91a3f44977a865f10e9a46f13e261d3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70b16e65e7f3b8bbb87435804f1829d3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#ga70b16e65e7f3b8bbb87435804f1829d3">xwos_sem_grab</a> (struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *sem)</td></tr>
<tr class="memdesc:ga70b16e65e7f3b8bbb87435804f1829d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：增加信号量对象的引用计数  <br /></td></tr>
<tr class="separator:ga70b16e65e7f3b8bbb87435804f1829d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83a3b567eb40632d954a35b98ecf1950"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#ga83a3b567eb40632d954a35b98ecf1950">xwos_sem_put</a> (struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *sem)</td></tr>
<tr class="memdesc:ga83a3b567eb40632d954a35b98ecf1950"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：减少信号量对象的引用计数  <br /></td></tr>
<tr class="separator:ga83a3b567eb40632d954a35b98ecf1950"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadebdd16a61933d67d2702355fcd543e2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#gadebdd16a61933d67d2702355fcd543e2">xwos_sem_create</a> (<a class="el" href="structxwos__sem__d.html">xwos_sem_d</a> *semd, <a class="el" href="group__xwos__lib__type.html#ga89fd1295e4575443671eb9ae21c34567">xwssq_t</a> val, <a class="el" href="group__xwos__lib__type.html#ga89fd1295e4575443671eb9ae21c34567">xwssq_t</a> max)</td></tr>
<tr class="memdesc:gadebdd16a61933d67d2702355fcd543e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：动态方式创建信号量对象  <br /></td></tr>
<tr class="separator:gadebdd16a61933d67d2702355fcd543e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5bac50165dee16acce035f3a88d96d1b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#ga5bac50165dee16acce035f3a88d96d1b">xwos_sem_delete</a> (<a class="el" href="structxwos__sem__d.html">xwos_sem_d</a> semd)</td></tr>
<tr class="memdesc:ga5bac50165dee16acce035f3a88d96d1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：删除动态方式创建的信号量对象  <br /></td></tr>
<tr class="separator:ga5bac50165dee16acce035f3a88d96d1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabd6b221831f9154af4061281e4de3bbe"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#gabd6b221831f9154af4061281e4de3bbe">xwos_sem_acquire</a> (<a class="el" href="structxwos__sem__d.html">xwos_sem_d</a> semd)</td></tr>
<tr class="memdesc:gabd6b221831f9154af4061281e4de3bbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：检查信号量对象的标签并增加引用计数  <br /></td></tr>
<tr class="separator:gabd6b221831f9154af4061281e4de3bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2fd69e5ea645814fa3a52241167a9e1e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#ga2fd69e5ea645814fa3a52241167a9e1e">xwos_sem_release</a> (<a class="el" href="structxwos__sem__d.html">xwos_sem_d</a> semd)</td></tr>
<tr class="memdesc:ga2fd69e5ea645814fa3a52241167a9e1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：检查对象的标签并减少引用计数  <br /></td></tr>
<tr class="separator:ga2fd69e5ea645814fa3a52241167a9e1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade0e96ecbf1aad9757255f2325134fa5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__xwos__lib__type.html#ga59fe68c80516b22de8dccb84275d23f2">xwsq_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#gade0e96ecbf1aad9757255f2325134fa5">xwos_sem_get_tik</a> (struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *sem)</td></tr>
<tr class="memdesc:gade0e96ecbf1aad9757255f2325134fa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：获取信号量对象的标签  <br /></td></tr>
<tr class="separator:gade0e96ecbf1aad9757255f2325134fa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga123daee1f11544e15a783367b4ffd413"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structxwos__sem__d.html">xwos_sem_d</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#ga123daee1f11544e15a783367b4ffd413">xwos_sem_get_d</a> (struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *sem)</td></tr>
<tr class="memdesc:ga123daee1f11544e15a783367b4ffd413"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：获取信号量对象描述符  <br /></td></tr>
<tr class="separator:ga123daee1f11544e15a783367b4ffd413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a04b2c6003ed59a0f82c7b8ed8c7f68"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#ga4a04b2c6003ed59a0f82c7b8ed8c7f68">xwos_sem_bind</a> (struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *sem, struct <a class="el" href="structxwos__sel.html">xwos_sel</a> *sel, <a class="el" href="group__xwos__lib__type.html#ga59fe68c80516b22de8dccb84275d23f2">xwsq_t</a> pos)</td></tr>
<tr class="memdesc:ga4a04b2c6003ed59a0f82c7b8ed8c7f68"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：绑定信号量对象到信号选择器  <br /></td></tr>
<tr class="separator:ga4a04b2c6003ed59a0f82c7b8ed8c7f68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4aab3913939aa6cfa040af1039e564d5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#ga4aab3913939aa6cfa040af1039e564d5">xwos_sem_unbind</a> (struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *sem, struct <a class="el" href="structxwos__sel.html">xwos_sel</a> *sel)</td></tr>
<tr class="memdesc:ga4aab3913939aa6cfa040af1039e564d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：从信号选择器上解绑信号量对象  <br /></td></tr>
<tr class="separator:ga4aab3913939aa6cfa040af1039e564d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f215ee967e9f3dbd1d7e34402109849"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#ga9f215ee967e9f3dbd1d7e34402109849">xwos_sem_freeze</a> (struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *sem)</td></tr>
<tr class="memdesc:ga9f215ee967e9f3dbd1d7e34402109849"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：冻结信号量对象  <br /></td></tr>
<tr class="separator:ga9f215ee967e9f3dbd1d7e34402109849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadbbb35963b95d865ddb392a97639ec87"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#gadbbb35963b95d865ddb392a97639ec87">xwos_sem_thaw</a> (struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *sem)</td></tr>
<tr class="memdesc:gadbbb35963b95d865ddb392a97639ec87"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：解冻信号量对象  <br /></td></tr>
<tr class="separator:gadbbb35963b95d865ddb392a97639ec87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf6f291eaa8c268dccb6ebc675a24755b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#gaf6f291eaa8c268dccb6ebc675a24755b">xwos_sem_post</a> (struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *sem)</td></tr>
<tr class="memdesc:gaf6f291eaa8c268dccb6ebc675a24755b"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：发布信号量  <br /></td></tr>
<tr class="separator:gaf6f291eaa8c268dccb6ebc675a24755b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a7b38f68e2fc5159909a1eb4b7db7a2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#ga5a7b38f68e2fc5159909a1eb4b7db7a2">xwos_sem_wait</a> (struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *sem)</td></tr>
<tr class="memdesc:ga5a7b38f68e2fc5159909a1eb4b7db7a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：等待并获取信号量  <br /></td></tr>
<tr class="separator:ga5a7b38f68e2fc5159909a1eb4b7db7a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab9fce6b4dc3add4c714dfa1c8041593f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#gab9fce6b4dc3add4c714dfa1c8041593f">xwos_sem_wait_to</a> (struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *sem, <a class="el" href="group__xwos__lib__type__time.html#ga3079bb70c0290f939f9c6896fe43ec61">xwtm_t</a> to)</td></tr>
<tr class="memdesc:gab9fce6b4dc3add4c714dfa1c8041593f"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：限时等待并获取信号量  <br /></td></tr>
<tr class="separator:gab9fce6b4dc3add4c714dfa1c8041593f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga794e05587874027d02d0e4c87f9c2893"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#ga794e05587874027d02d0e4c87f9c2893">xwos_sem_wait_unintr</a> (struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *sem)</td></tr>
<tr class="memdesc:ga794e05587874027d02d0e4c87f9c2893"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：等待并获取信号量，且等待不可被中断  <br /></td></tr>
<tr class="separator:ga794e05587874027d02d0e4c87f9c2893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga453bbb4747cdd5cc94ddb9b988ee0866"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#ga453bbb4747cdd5cc94ddb9b988ee0866">xwos_sem_trywait</a> (struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *sem)</td></tr>
<tr class="memdesc:ga453bbb4747cdd5cc94ddb9b988ee0866"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：尝试获取信号量  <br /></td></tr>
<tr class="separator:ga453bbb4747cdd5cc94ddb9b988ee0866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31696885ee6e7bfe699273225f061a7e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#ga31696885ee6e7bfe699273225f061a7e">xwos_sem_get_max</a> (struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *sem, <a class="el" href="group__xwos__lib__type.html#ga89fd1295e4575443671eb9ae21c34567">xwssq_t</a> *max)</td></tr>
<tr class="memdesc:ga31696885ee6e7bfe699273225f061a7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：获取信号量对象计数器的最大值  <br /></td></tr>
<tr class="separator:ga31696885ee6e7bfe699273225f061a7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25b85b8a30ba1f3f1453feecd7a71343"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__sync__sem.html#ga25b85b8a30ba1f3f1453feecd7a71343">xwos_sem_get_value</a> (struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *sem, <a class="el" href="group__xwos__lib__type.html#ga89fd1295e4575443671eb9ae21c34567">xwssq_t</a> *val)</td></tr>
<tr class="memdesc:ga25b85b8a30ba1f3f1453feecd7a71343"><td class="mdescLeft">&#160;</td><td class="mdescRight">XWOS API：获取信号量对象计数器的值  <br /></td></tr>
<tr class="separator:ga25b85b8a30ba1f3f1453feecd7a71343"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<p>技术参考手册： <a href="../docs/TechRefManual/Sync/Sem">信号量</a></p>
<h2><a class="anchor" id="autotoc_md74"></a>
信号量的静态初始化、销毁</h2>
<ul>
<li><code><a class="el" href="group__xwos__sync__sem.html#gaef37596ed9c49312579530b2218150ad" title="XWOS API：静态方式初始化信号量对象">xwos_sem_init()</a></code> ：静态初始化</li>
<li><code><a class="el" href="group__xwos__sync__sem.html#ga91a3f44977a865f10e9a46f13e261d3a" title="XWOS API：销毁静态方式初始化的信号量对象">xwos_sem_fini()</a></code> ：销毁</li>
</ul>
<h2><a class="anchor" id="autotoc_md75"></a>
信号量的动态创建、删除</h2>
<ul>
<li><code><a class="el" href="group__xwos__sync__sem.html#gadebdd16a61933d67d2702355fcd543e2" title="XWOS API：动态方式创建信号量对象">xwos_sem_create()</a></code> ：动态创建</li>
<li><code><a class="el" href="group__xwos__sync__sem.html#ga5bac50165dee16acce035f3a88d96d1b" title="XWOS API：删除动态方式创建的信号量对象">xwos_sem_delete()</a></code> ：删除</li>
</ul>
<h2><a class="anchor" id="autotoc_md76"></a>
发布信号量</h2>
<ul>
<li><code><a class="el" href="group__xwos__sync__sem.html#gaf6f291eaa8c268dccb6ebc675a24755b" title="XWOS API：发布信号量">xwos_sem_post()</a></code> ：发布信号量，可在 <b>任意</b> 上下文使用</li>
</ul>
<h2><a class="anchor" id="autotoc_md77"></a>
等待信号量</h2>
<ul>
<li><code><a class="el" href="group__xwos__sync__sem.html#ga5a7b38f68e2fc5159909a1eb4b7db7a2" title="XWOS API：等待并获取信号量">xwos_sem_wait()</a></code> ：等待信号量，只能在 <b>线程</b> 上下文使用</li>
<li><code><a class="el" href="group__xwos__sync__sem.html#gab9fce6b4dc3add4c714dfa1c8041593f" title="XWOS API：限时等待并获取信号量">xwos_sem_wait_to()</a></code> ：限时等待信号量，只能在 <b>线程</b> 上下文使用</li>
<li><code><a class="el" href="group__xwos__sync__sem.html#ga794e05587874027d02d0e4c87f9c2893" title="XWOS API：等待并获取信号量，且等待不可被中断">xwos_sem_wait_unintr()</a></code> ：不可中断地等待信号量，只能在 <b>线程</b> 上下文使用</li>
<li><code><a class="el" href="group__xwos__sync__sem.html#ga453bbb4747cdd5cc94ddb9b988ee0866" title="XWOS API：尝试获取信号量">xwos_sem_trywait()</a></code> ：仅测试信号量，可在 <b>任意</b> 上下文使用</li>
</ul>
<h2><a class="anchor" id="autotoc_md78"></a>
获取信号量的状态</h2>
<ul>
<li><code><a class="el" href="group__xwos__sync__sem.html#ga31696885ee6e7bfe699273225f061a7e" title="XWOS API：获取信号量对象计数器的最大值">xwos_sem_get_max()</a></code> ：获取信号量中计数器的最大值，可在 <b>任意</b> 上下文使用</li>
<li><code><a class="el" href="group__xwos__sync__sem.html#ga25b85b8a30ba1f3f1453feecd7a71343" title="XWOS API：获取信号量对象计数器的值">xwos_sem_get_value()</a></code> ：获取信号量中计数器的值，可在 <b>任意</b> 上下文使用</li>
</ul>
<h2><a class="anchor" id="autotoc_md79"></a>
冻结与解冻信号量</h2>
<ul>
<li><code><a class="el" href="group__xwos__sync__sem.html#ga9f215ee967e9f3dbd1d7e34402109849" title="XWOS API：冻结信号量对象">xwos_sem_freeze()</a></code> ：冻结，可在 <b>任意</b> 上下文使用</li>
<li><code><a class="el" href="group__xwos__sync__sem.html#gadbbb35963b95d865ddb392a97639ec87" title="XWOS API：解冻信号量对象">xwos_sem_thaw()</a></code> ：解冻，可在 <b>任意</b> 上下文使用</li>
</ul>
<h2><a class="anchor" id="autotoc_md80"></a>
使用信号选择器选择信号量</h2>
<ul>
<li><code><a class="el" href="group__xwos__sync__sem.html#ga4a04b2c6003ed59a0f82c7b8ed8c7f68" title="XWOS API：绑定信号量对象到信号选择器">xwos_sem_bind()</a></code> ：将信号量绑定到 <a href="../docs/TechRefManual/Sync/Sel">信号选择器</a> 上</li>
<li><code><a class="el" href="group__xwos__sync__sem.html#ga4aab3913939aa6cfa040af1039e564d5" title="XWOS API：从信号选择器上解绑信号量对象">xwos_sem_unbind()</a></code> ：从 <a href="../docs/TechRefManual/Sync/Sel">信号选择器</a> 上解绑</li>
</ul>
<h2><a class="anchor" id="autotoc_md81"></a>
信号量对象的生命周期管理</h2>
<ul>
<li>通过 <b>对象指针</b> 管理生命周期：<ul>
<li><code><a class="el" href="group__xwos__sync__sem.html#ga70b16e65e7f3b8bbb87435804f1829d3" title="XWOS API：增加信号量对象的引用计数">xwos_sem_grab()</a></code> ：增加引用计数</li>
<li><code><a class="el" href="group__xwos__sync__sem.html#ga83a3b567eb40632d954a35b98ecf1950" title="XWOS API：减少信号量对象的引用计数">xwos_sem_put()</a></code> ：减少引用计数</li>
</ul>
</li>
<li>通过 <b>对象描述符</b> 管理生命周期：<ul>
<li><code><a class="el" href="group__xwos__sync__sem.html#gabd6b221831f9154af4061281e4de3bbe" title="XWOS API：检查信号量对象的标签并增加引用计数">xwos_sem_acquire()</a></code> ：增加引用计数</li>
<li><code><a class="el" href="group__xwos__sync__sem.html#ga2fd69e5ea645814fa3a52241167a9e1e" title="XWOS API：检查对象的标签并减少引用计数">xwos_sem_release()</a></code> ：减少引用计数</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md82"></a>
对象描述符和对象标签</h2>
<p>已知信号量对象的指针的情况下，可以通过 <code><a class="el" href="group__xwos__sync__sem.html#ga123daee1f11544e15a783367b4ffd413" title="XWOS API：获取信号量对象描述符">xwos_sem_get_d()</a></code> 获取 <a class="el" href="structxwos__sem__d.html">xwos_sem_d</a> ， 或可以通过 <code><a class="el" href="group__xwos__sync__sem.html#gade0e96ecbf1aad9757255f2325134fa5" title="XWOS API：获取信号量对象的标签">xwos_sem_get_tik()</a></code> 获取对象标签。</p>
<h2><a class="anchor" id="autotoc_md83"></a>
C++</h2>
<p>C++头文件： <a class="el" href="sem_8hxx.html">xwos/osal/sync/sem.hxx</a> </p>
<h2 class="groupheader">宏定义说明</h2>
<a id="ga5750ad9e8b8d0eb0726140e5c12bccb2" name="ga5750ad9e8b8d0eb0726140e5c12bccb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5750ad9e8b8d0eb0726140e5c12bccb2">&#9670;&#160;</a></span>XWOS_SEM_NILD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XWOS_SEM_NILD&#160;&#160;&#160;((<a class="el" href="structxwos__sem__d.html">xwos_sem_d</a>){<a class="el" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0,})</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>XWOS API：空的信号量对象描述符 </p>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00110">110</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">函数说明</h2>
<a id="gabd6b221831f9154af4061281e4de3bbe" name="gabd6b221831f9154af4061281e4de3bbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabd6b221831f9154af4061281e4de3bbe">&#9670;&#160;</a></span>xwos_sem_acquire()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a> xwos_sem_acquire </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structxwos__sem__d.html">xwos_sem_d</a>&#160;</td>
          <td class="paramname"><em>semd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>XWOS API：检查信号量对象的标签并增加引用计数 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">semd</td><td>信号量对象描述符 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>错误码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">XWOK</td><td>没有错误 </td></tr>
    <tr><td class="paramname">-ENILOBJD</td><td>空的对象描述符 </td></tr>
    <tr><td class="paramname">-EOBJDEAD</td><td>对象无效 </td></tr>
    <tr><td class="paramname">-EACCES</td><td>对象标签检查失败 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>上下文：任意 </li>
</ul>
</dd></dl>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00229">229</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  230</span>{</div>
<div class="line"><span class="lineno">  231</span>        <span class="keywordflow">return</span> xwosdl_sem_acquire(&amp;semd.<a class="code hl_variable" href="structxwos__sem__d.html#a4cb5ddbf657c2377c90c89b8beb95b01">sem</a>-&gt;<a class="code hl_variable" href="structxwos__sem.html#a2f79380f6f46abd1fa9a78ab229172a3">ossem</a>, semd.<a class="code hl_variable" href="structxwos__sem__d.html#a6b87f8ef266ed3ca39f94c69ebbc2411">tik</a>);</div>
<div class="line"><span class="lineno">  232</span>}</div>
<div class="ttc" id="astructxwos__sem__d_html_a4cb5ddbf657c2377c90c89b8beb95b01"><div class="ttname"><a href="structxwos__sem__d.html#a4cb5ddbf657c2377c90c89b8beb95b01">xwos_sem_d::sem</a></div><div class="ttdeci">struct xwos_sem * sem</div><div class="ttdef"><b>Definition</b> <a href="sync_2sem_8h_source.html#l00103">sem.h:103</a></div></div>
<div class="ttc" id="astructxwos__sem__d_html_a6b87f8ef266ed3ca39f94c69ebbc2411"><div class="ttname"><a href="structxwos__sem__d.html#a6b87f8ef266ed3ca39f94c69ebbc2411">xwos_sem_d::tik</a></div><div class="ttdeci">xwsq_t tik</div><div class="ttdef"><b>Definition</b> <a href="sync_2sem_8h_source.html#l00104">sem.h:104</a></div></div>
<div class="ttc" id="astructxwos__sem_html_a2f79380f6f46abd1fa9a78ab229172a3"><div class="ttname"><a href="structxwos__sem.html#a2f79380f6f46abd1fa9a78ab229172a3">xwos_sem::ossem</a></div><div class="ttdeci">struct xwmp_sem ossem</div><div class="ttdef"><b>Definition</b> <a href="sync_2sem_8h_source.html#l00096">sem.h:96</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga4a04b2c6003ed59a0f82c7b8ed8c7f68" name="ga4a04b2c6003ed59a0f82c7b8ed8c7f68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a04b2c6003ed59a0f82c7b8ed8c7f68">&#9670;&#160;</a></span>xwos_sem_bind()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a> xwos_sem_bind </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *&#160;</td>
          <td class="paramname"><em>sem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxwos__sel.html">xwos_sel</a> *&#160;</td>
          <td class="paramname"><em>sel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xwos__lib__type.html#ga59fe68c80516b22de8dccb84275d23f2">xwsq_t</a>&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>XWOS API：绑定信号量对象到信号选择器 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sem</td><td>信号量对象的指针 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sel</td><td>信号选择器的指针 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pos</td><td>信号量对象映射到位图中的位置 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>错误码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">XWOK</td><td>没有错误 </td></tr>
    <tr><td class="paramname">-EFAULT</td><td>空指针 </td></tr>
    <tr><td class="paramname">-ECHRNG</td><td>位置超出范围 </td></tr>
    <tr><td class="paramname">-EALREADY</td><td>同步对象已经绑定到事件对象 </td></tr>
    <tr><td class="paramname">-EBUSY</td><td>通道已经被其他同步对象独占 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>上下文：任意</li>
<li>绑定方式：独占绑定 </li>
</ul>
</dd></dl>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00297">297</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  298</span>{</div>
<div class="line"><span class="lineno">  299</span>        <span class="keywordflow">return</span> xwosdl_sem_bind(&amp;sem-&gt;<a class="code hl_variable" href="structxwos__sem.html#a2f79380f6f46abd1fa9a78ab229172a3">ossem</a>, &amp;sel-&gt;<a class="code hl_variable" href="structxwos__sel.html#adaf7f267f13f41092f7d4ce9a8e464d7">ossel</a>, pos);</div>
<div class="line"><span class="lineno">  300</span>}</div>
<div class="ttc" id="astructxwos__sel_html_adaf7f267f13f41092f7d4ce9a8e464d7"><div class="ttname"><a href="structxwos__sel.html#adaf7f267f13f41092f7d4ce9a8e464d7">xwos_sel::ossel</a></div><div class="ttdeci">struct xwmp_evt ossel</div><div class="ttdef"><b>Definition</b> <a href="sync_2sel_8h_source.html#l00082">sel.h:82</a></div></div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__sync__sem_ga4a04b2c6003ed59a0f82c7b8ed8c7f68_icgraph.png" border="0" usemap="#agroup__xwos__sync__sem_ga4a04b2c6003ed59a0f82c7b8ed8c7f68_icgraph" alt=""/></div>
<map name="agroup__xwos__sync__sem_ga4a04b2c6003ed59a0f82c7b8ed8c7f68_icgraph" id="agroup__xwos__sync__sem_ga4a04b2c6003ed59a0f82c7b8ed8c7f68_icgraph">
<area shape="rect" title="XWOS API：绑定信号量对象到信号选择器" alt="" coords="137,5,253,31"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#ga32eeee819b1b68a128a9cce685d0f74c" title="XWOS API：绑定循环队列对象到信号选择器" alt="" coords="5,5,89,31"/>
<area shape="poly" title=" " alt="" coords="123,21,89,21,89,15,123,15"/>
</map>
</div>

</div>
</div>
<a id="gadebdd16a61933d67d2702355fcd543e2" name="gadebdd16a61933d67d2702355fcd543e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadebdd16a61933d67d2702355fcd543e2">&#9670;&#160;</a></span>xwos_sem_create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a> xwos_sem_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structxwos__sem__d.html">xwos_sem_d</a> *&#160;</td>
          <td class="paramname"><em>semd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xwos__lib__type.html#ga89fd1295e4575443671eb9ae21c34567">xwssq_t</a>&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xwos__lib__type.html#ga89fd1295e4575443671eb9ae21c34567">xwssq_t</a>&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>XWOS API：动态方式创建信号量对象 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">semd</td><td>指向缓冲区的指针，通过此缓冲区返回信号量对象描述符 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">val</td><td>信号量的初始值 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max</td><td>信号量的最大值 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>错误码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">XWOK</td><td>没有错误 </td></tr>
    <tr><td class="paramname">-EFAULT</td><td>空指针 </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>无效参数 </td></tr>
    <tr><td class="paramname">-ENOMEM</td><td>内存不足 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>上下文：任意 </li>
</ul>
</dd></dl>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00197">197</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  198</span>{</div>
<div class="line"><span class="lineno">  199</span>        <span class="keywordflow">return</span> xwosdl_sem_create((xwosdl_sem_d *)semd, val, max);</div>
<div class="line"><span class="lineno">  200</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga5bac50165dee16acce035f3a88d96d1b" name="ga5bac50165dee16acce035f3a88d96d1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5bac50165dee16acce035f3a88d96d1b">&#9670;&#160;</a></span>xwos_sem_delete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a> xwos_sem_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structxwos__sem__d.html">xwos_sem_d</a>&#160;</td>
          <td class="paramname"><em>semd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>XWOS API：删除动态方式创建的信号量对象 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">semd</td><td>信号量对象描述符 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>错误码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">XWOK</td><td>没有错误 </td></tr>
    <tr><td class="paramname">-EFAULT</td><td>空指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>上下文：任意 </li>
</ul>
</dd></dl>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00212">212</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  213</span>{</div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">return</span> xwosdl_sem_delete(&amp;semd.<a class="code hl_variable" href="structxwos__sem__d.html#a4cb5ddbf657c2377c90c89b8beb95b01">sem</a>-&gt;<a class="code hl_variable" href="structxwos__sem.html#a2f79380f6f46abd1fa9a78ab229172a3">ossem</a>, semd.<a class="code hl_variable" href="structxwos__sem__d.html#a6b87f8ef266ed3ca39f94c69ebbc2411">tik</a>);</div>
<div class="line"><span class="lineno">  215</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga91a3f44977a865f10e9a46f13e261d3a" name="ga91a3f44977a865f10e9a46f13e261d3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga91a3f44977a865f10e9a46f13e261d3a">&#9670;&#160;</a></span>xwos_sem_fini()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a> xwos_sem_fini </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>XWOS API：销毁静态方式初始化的信号量对象 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sem</td><td>信号量对象的指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>错误码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">XWOK</td><td>没有错误 </td></tr>
    <tr><td class="paramname">-EFAULT</td><td>空指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>上下文：任意 </li>
</ul>
</dd></dl>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00140">140</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  141</span>{</div>
<div class="line"><span class="lineno">  142</span>        <span class="keywordflow">return</span> xwosdl_sem_fini(&amp;sem-&gt;<a class="code hl_variable" href="structxwos__sem.html#a2f79380f6f46abd1fa9a78ab229172a3">ossem</a>);</div>
<div class="line"><span class="lineno">  143</span>}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__sync__sem_ga91a3f44977a865f10e9a46f13e261d3a_icgraph.png" border="0" usemap="#agroup__xwos__sync__sem_ga91a3f44977a865f10e9a46f13e261d3a_icgraph" alt=""/></div>
<map name="agroup__xwos__sync__sem_ga91a3f44977a865f10e9a46f13e261d3a_icgraph" id="agroup__xwos__sync__sem_ga91a3f44977a865f10e9a46f13e261d3a_icgraph">
<area shape="rect" title="XWOS API：销毁静态方式初始化的信号量对象" alt="" coords="349,80,459,105"/>
<area shape="rect" href="xwcq_8c.html#a733e2a89585b1b8bee42f13a65dbcb53" title="循环队列对象的垃圾回收函数" alt="" coords="181,5,255,31"/>
<area shape="poly" title=" " alt="" coords="367,76,300,44,255,30,257,25,302,40,369,71"/>
<area shape="rect" href="uart_2controller_8c.html#a0426ebf6f9c1cd7ae3b6de352a3d4424" title="XWDS VOP：探测UART控制器" alt="" coords="140,55,296,80"/>
<area shape="poly" title=" " alt="" coords="335,86,296,81,296,75,336,81"/>
<area shape="rect" href="uart_2controller_8c.html#a621a7db64072be62e8f12162653f8a3c" title="XWDS VOP：移除UART控制器" alt="" coords="135,104,301,129"/>
<area shape="poly" title=" " alt="" coords="336,104,302,109,301,103,336,99"/>
<area shape="rect" href="xwmq_8c.html#a9e655378c7ba09fae5b0213db1cd9bee" title=" " alt="" coords="179,153,257,179"/>
<area shape="poly" title=" " alt="" coords="367,114,302,143,259,158,257,153,300,138,365,109"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#ga0c3766b13d0b48e0c99fab1d814c7b57" title="XWCQ API：初始化循环队列" alt="" coords="7,5,85,31"/>
<area shape="poly" title=" " alt="" coords="167,21,85,21,85,15,167,15"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga51603f04fac6de40ea6726d69b264cc7" title="XWMQ API：静态方式初始化消息队列" alt="" coords="5,153,87,179"/>
<area shape="poly" title=" " alt="" coords="165,169,87,169,87,163,165,163"/>
</map>
</div>

</div>
</div>
<a id="ga9f215ee967e9f3dbd1d7e34402109849" name="ga9f215ee967e9f3dbd1d7e34402109849"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f215ee967e9f3dbd1d7e34402109849">&#9670;&#160;</a></span>xwos_sem_freeze()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a> xwos_sem_freeze </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>XWOS API：冻结信号量对象 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sem</td><td>信号量对象的指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>错误码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">XWOK</td><td>没有错误 </td></tr>
    <tr><td class="paramname">-EFAULT</td><td>空指针 </td></tr>
    <tr><td class="paramname">-EALREADY</td><td>信号量对象已被冻结 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>上下文：任意</li>
</ul>
</dd></dl>
<p>被冻结的信号量对象不允许增加(V操作)，但可以被测试(P操作)。 测试信号量对象的线程会被加入到信号量对象的等待队列。</p>
<p>对已经冻结的信号量再次冻结，将返回 <code>-EALREADY</code> 。 </p>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00335">335</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  336</span>{</div>
<div class="line"><span class="lineno">  337</span>        <span class="keywordflow">return</span> xwosdl_sem_freeze(&amp;sem-&gt;<a class="code hl_variable" href="structxwos__sem.html#a2f79380f6f46abd1fa9a78ab229172a3">ossem</a>);</div>
<div class="line"><span class="lineno">  338</span>}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__sync__sem_ga9f215ee967e9f3dbd1d7e34402109849_icgraph.png" border="0" usemap="#agroup__xwos__sync__sem_ga9f215ee967e9f3dbd1d7e34402109849_icgraph" alt=""/></div>
<map name="agroup__xwos__sync__sem_ga9f215ee967e9f3dbd1d7e34402109849_icgraph" id="agroup__xwos__sync__sem_ga9f215ee967e9f3dbd1d7e34402109849_icgraph">
<area shape="rect" title="XWOS API：冻结信号量对象" alt="" coords="141,5,269,31"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#gae3abbdc3ed1a692d76a37d01de02f4b8" title="XWCQ API: 清空循环队列" alt="" coords="5,5,93,31"/>
<area shape="poly" title=" " alt="" coords="128,21,93,21,93,15,128,15"/>
</map>
</div>

</div>
</div>
<a id="ga123daee1f11544e15a783367b4ffd413" name="ga123daee1f11544e15a783367b4ffd413"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga123daee1f11544e15a783367b4ffd413">&#9670;&#160;</a></span>xwos_sem_get_d()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structxwos__sem__d.html">xwos_sem_d</a> xwos_sem_get_d </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>XWOS API：获取信号量对象描述符 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sem</td><td>信号量对象的指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>信号量对象描述符 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>上下文：任意 </li>
</ul>
</dd></dl>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00272">272</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  273</span>{</div>
<div class="line"><span class="lineno">  274</span>        <a class="code hl_struct" href="structxwos__sem__d.html">xwos_sem_d</a> semd;</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>        semd.<a class="code hl_variable" href="structxwos__sem__d.html#a4cb5ddbf657c2377c90c89b8beb95b01">sem</a> = sem;</div>
<div class="line"><span class="lineno">  277</span>        semd.<a class="code hl_variable" href="structxwos__sem__d.html#a6b87f8ef266ed3ca39f94c69ebbc2411">tik</a> = xwosdl_sem_get_tik(&amp;sem-&gt;<a class="code hl_variable" href="structxwos__sem.html#a2f79380f6f46abd1fa9a78ab229172a3">ossem</a>);</div>
<div class="line"><span class="lineno">  278</span>        <span class="keywordflow">return</span> semd;</div>
<div class="line"><span class="lineno">  279</span>}</div>
<div class="ttc" id="astructxwos__sem__d_html"><div class="ttname"><a href="structxwos__sem__d.html">xwos_sem_d</a></div><div class="ttdoc">XWOS API：信号量对象描述符</div><div class="ttdef"><b>Definition</b> <a href="sync_2sem_8h_source.html#l00102">sem.h:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga31696885ee6e7bfe699273225f061a7e" name="ga31696885ee6e7bfe699273225f061a7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga31696885ee6e7bfe699273225f061a7e">&#9670;&#160;</a></span>xwos_sem_get_max()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a> xwos_sem_get_max </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *&#160;</td>
          <td class="paramname"><em>sem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xwos__lib__type.html#ga89fd1295e4575443671eb9ae21c34567">xwssq_t</a> *&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>XWOS API：获取信号量对象计数器的最大值 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sem</td><td>信号量对象的指针 </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">max</td><td>指向缓冲区的指针，通过此缓冲区返回信号量对象计数器的最大值 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>错误码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">XWOK</td><td>没有错误 </td></tr>
    <tr><td class="paramname">-EFAULT</td><td>空指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>上下文：任意 </li>
</ul>
</dd></dl>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00470">470</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  471</span>{</div>
<div class="line"><span class="lineno">  472</span>        <span class="keywordflow">return</span> xwosdl_sem_get_max(&amp;sem-&gt;<a class="code hl_variable" href="structxwos__sem.html#a2f79380f6f46abd1fa9a78ab229172a3">ossem</a>, max);</div>
<div class="line"><span class="lineno">  473</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gade0e96ecbf1aad9757255f2325134fa5" name="gade0e96ecbf1aad9757255f2325134fa5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade0e96ecbf1aad9757255f2325134fa5">&#9670;&#160;</a></span>xwos_sem_get_tik()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__xwos__lib__type.html#ga59fe68c80516b22de8dccb84275d23f2">xwsq_t</a> xwos_sem_get_tik </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>XWOS API：获取信号量对象的标签 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sem</td><td>信号量对象的指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>信号量对象的标签 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>上下文：任意 </li>
</ul>
</dd></dl>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00259">259</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  260</span>{</div>
<div class="line"><span class="lineno">  261</span>        <span class="keywordflow">return</span> xwosdl_sem_get_tik(&amp;sem-&gt;<a class="code hl_variable" href="structxwos__sem.html#a2f79380f6f46abd1fa9a78ab229172a3">ossem</a>);</div>
<div class="line"><span class="lineno">  262</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga25b85b8a30ba1f3f1453feecd7a71343" name="ga25b85b8a30ba1f3f1453feecd7a71343"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga25b85b8a30ba1f3f1453feecd7a71343">&#9670;&#160;</a></span>xwos_sem_get_value()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a> xwos_sem_get_value </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *&#160;</td>
          <td class="paramname"><em>sem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xwos__lib__type.html#ga89fd1295e4575443671eb9ae21c34567">xwssq_t</a> *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>XWOS API：获取信号量对象计数器的值 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sem</td><td>信号量对象的指针 </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">val</td><td>指向缓冲区的指针，通过此缓冲区返回信号量对象计数器的值 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>错误码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">XWOK</td><td>没有错误 </td></tr>
    <tr><td class="paramname">-EFAULT</td><td>空指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>上下文：任意 </li>
</ul>
</dd></dl>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00486">486</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  487</span>{</div>
<div class="line"><span class="lineno">  488</span>        <span class="keywordflow">return</span> xwosdl_sem_get_value(&amp;sem-&gt;<a class="code hl_variable" href="structxwos__sem.html#a2f79380f6f46abd1fa9a78ab229172a3">ossem</a>, val);</div>
<div class="line"><span class="lineno">  489</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga70b16e65e7f3b8bbb87435804f1829d3" name="ga70b16e65e7f3b8bbb87435804f1829d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga70b16e65e7f3b8bbb87435804f1829d3">&#9670;&#160;</a></span>xwos_sem_grab()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a> xwos_sem_grab </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>XWOS API：增加信号量对象的引用计数 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sem</td><td>信号量对象的指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>错误码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">XWOK</td><td>没有错误 </td></tr>
    <tr><td class="paramname">-EFAULT</td><td>空指针 </td></tr>
    <tr><td class="paramname">-EOBJDEAD</td><td>对象无效 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>上下文：任意</li>
</ul>
</dd></dl>
<p>此函数主要用于管理 <b>静态对象</b> 的引用计数。 若用于 <b>动态对象</b> ，需要确保对象的指针一定不是野指针。 </p>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00159">159</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  160</span>{</div>
<div class="line"><span class="lineno">  161</span>        <span class="keywordflow">return</span> xwosdl_sem_grab(&amp;sem-&gt;<a class="code hl_variable" href="structxwos__sem.html#a2f79380f6f46abd1fa9a78ab229172a3">ossem</a>);</div>
<div class="line"><span class="lineno">  162</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gaef37596ed9c49312579530b2218150ad" name="gaef37596ed9c49312579530b2218150ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaef37596ed9c49312579530b2218150ad">&#9670;&#160;</a></span>xwos_sem_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a> xwos_sem_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *&#160;</td>
          <td class="paramname"><em>sem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xwos__lib__type.html#ga89fd1295e4575443671eb9ae21c34567">xwssq_t</a>&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xwos__lib__type.html#ga89fd1295e4575443671eb9ae21c34567">xwssq_t</a>&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>XWOS API：静态方式初始化信号量对象 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sem</td><td>信号量对象的指针 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">val</td><td>信号量的初始值 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max</td><td>信号量的最大值 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>错误码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">XWOK</td><td>没有错误 </td></tr>
    <tr><td class="paramname">-EFAULT</td><td>空指针 </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>无效参数 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>上下文：任意 </li>
</ul>
</dd></dl>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00125">125</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  126</span>{</div>
<div class="line"><span class="lineno">  127</span>        <span class="keywordflow">return</span> xwosdl_sem_init(&amp;sem-&gt;<a class="code hl_variable" href="structxwos__sem.html#a2f79380f6f46abd1fa9a78ab229172a3">ossem</a>, val, max);</div>
<div class="line"><span class="lineno">  128</span>}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__sync__sem_gaef37596ed9c49312579530b2218150ad_icgraph.png" border="0" usemap="#agroup__xwos__sync__sem_gaef37596ed9c49312579530b2218150ad_icgraph" alt=""/></div>
<map name="agroup__xwos__sync__sem_gaef37596ed9c49312579530b2218150ad_icgraph" id="agroup__xwos__sync__sem_gaef37596ed9c49312579530b2218150ad_icgraph">
<area shape="rect" title="XWOS API：静态方式初始化信号量对象" alt="" coords="339,80,448,105"/>
<area shape="rect" href="xwcq_8c.html#ac875caf539133d07b40b9973319fc3f3" title="激活循环队列对象" alt="" coords="159,5,266,31"/>
<area shape="poly" title=" " alt="" coords="356,76,290,44,258,33,260,28,292,40,358,71"/>
<area shape="rect" href="group__xwcd__ds__can__controller.html#gad7d877c56ccc4b18cfcda67d31e6df40" title="XWDS API：初始化接收缓冲队列" alt="" coords="144,55,281,80"/>
<area shape="poly" title=" " alt="" coords="325,86,282,80,282,74,326,81"/>
<area shape="rect" href="uart_2controller_8c.html#a0426ebf6f9c1cd7ae3b6de352a3d4424" title="XWDS VOP：探测UART控制器" alt="" coords="135,104,291,129"/>
<area shape="poly" title=" " alt="" coords="326,104,291,109,291,104,325,99"/>
<area shape="rect" href="xwmq_8c.html#aa0841cf7abe8c4dfd5626a12bf99f72d" title=" " alt="" coords="157,153,268,179"/>
<area shape="poly" title=" " alt="" coords="356,114,292,143,257,156,255,151,290,138,354,109"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#ga0c3766b13d0b48e0c99fab1d814c7b57" title="XWCQ API：初始化循环队列" alt="" coords="7,5,85,31"/>
<area shape="poly" title=" " alt="" coords="145,21,85,21,85,15,145,15"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga51603f04fac6de40ea6726d69b264cc7" title="XWMQ API：静态方式初始化消息队列" alt="" coords="5,153,87,179"/>
<area shape="poly" title=" " alt="" coords="143,169,87,169,87,163,143,163"/>
</map>
</div>

</div>
</div>
<a id="gaf6f291eaa8c268dccb6ebc675a24755b" name="gaf6f291eaa8c268dccb6ebc675a24755b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf6f291eaa8c268dccb6ebc675a24755b">&#9670;&#160;</a></span>xwos_sem_post()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a> xwos_sem_post </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>XWOS API：发布信号量 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sem</td><td>信号量对象的指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>错误码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">XWOK</td><td>没有错误 </td></tr>
    <tr><td class="paramname">-EFAULT</td><td>空指针 </td></tr>
    <tr><td class="paramname">-ENEGATIVE</td><td>信号量对象已被冻结 </td></tr>
    <tr><td class="paramname">-ERANGE</td><td>信号量对象的值已经最大 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>上下文：任意</li>
</ul>
</dd></dl>
<p>此函数只对未冻结的信号量对象起作用，已冻结的信号量对象将得到错误码 <code>-ENEGATIVE</code> 。 </p>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00373">373</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  374</span>{</div>
<div class="line"><span class="lineno">  375</span>        <span class="keywordflow">return</span> xwosdl_sem_post(&amp;sem-&gt;<a class="code hl_variable" href="structxwos__sem.html#a2f79380f6f46abd1fa9a78ab229172a3">ossem</a>);</div>
<div class="line"><span class="lineno">  376</span>}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__sync__sem_gaf6f291eaa8c268dccb6ebc675a24755b_icgraph.png" border="0" usemap="#agroup__xwos__sync__sem_gaf6f291eaa8c268dccb6ebc675a24755b_icgraph" alt=""/></div>
<map name="agroup__xwos__sync__sem_gaf6f291eaa8c268dccb6ebc675a24755b_icgraph" id="agroup__xwos__sync__sem_gaf6f291eaa8c268dccb6ebc675a24755b_icgraph">
<area shape="rect" title="XWOS API：发布信号量" alt="" coords="361,573,479,599"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#gacc14c7eb323b5968c30d42371bced34b" title="XWCQ API：将数据发送到循环队列的 尾端 （入队，EnQueue）" alt="" coords="185,5,260,31"/>
<area shape="poly" title=" " alt="" coords="415,560,406,449,387,293,373,214,356,142,336,83,311,44,288,28,260,22,261,16,290,24,315,40,341,81,362,141,379,213,393,293,411,448,420,560"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#ga99aaf9a7ad5acc2dde16642e3c76644f" title="XWCQ API：将数据发送循环队列的 首端 （插队，Jump the Queue）" alt="" coords="187,55,258,80"/>
<area shape="poly" title=" " alt="" coords="414,560,404,458,384,317,370,246,354,182,334,129,311,93,286,77,257,71,259,66,288,73,315,89,339,126,359,180,375,245,389,316,409,457,419,560"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#ga8ee1e6f6ccb52d2ad7ff983299e457f8" title="XWCQ API: 限时等待从循环队列 头端 拷贝数据 （Peek at the Front of Queue）" alt="" coords="175,104,271,129"/>
<area shape="poly" title=" " alt="" coords="413,560,402,467,381,341,367,278,351,221,332,174,311,143,293,130,270,122,272,117,295,125,315,139,337,171,356,219,372,277,386,340,407,466,419,559"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#ga47c4c89b9ae21ff278bb0911982a9178" title="XWCQ API: 等待从循环队列 头端 拷贝数据（Peek at the Front of Queue）， 并且等待不可被中断" alt="" coords="164,153,281,179"/>
<area shape="poly" title=" " alt="" coords="413,560,399,477,377,366,348,260,330,219,311,192,297,181,281,175,283,170,300,177,315,188,335,217,353,258,383,365,405,476,418,560"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#ga927902d5c0f3137e42dc3040b8186c1e" title="XWCQ API: 限时等待从循环队列 尾端 拷贝数据（Peek at the Rear of Queue）" alt="" coords="175,203,271,228"/>
<area shape="poly" title=" " alt="" coords="416,560,412,495,398,409,384,364,366,319,342,278,312,241,292,229,270,221,272,216,295,224,315,237,346,275,371,317,389,362,403,408,417,495,421,559"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#gab7a4f7dad6f65d876840a5e1279cdab6" title="XWCQ API: 等待从循环队列 尾端 拷贝数据（Peek at the Rear of Queue）， 并且等待不可被中断" alt="" coords="164,252,281,277"/>
<area shape="poly" title=" " alt="" coords="415,560,408,504,391,431,378,393,360,355,338,321,312,291,297,281,281,274,283,269,300,276,315,287,343,318,365,353,383,391,396,429,413,503,420,559"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#gaf6e49bfc7b9b04d1c0162fba5fa19752" title="XWCQ API: 尝试从循环队列 头端 拷贝数据（Peek at the Front of Queue）" alt="" coords="176,301,269,327"/>
<area shape="poly" title=" " alt="" coords="412,560,403,512,384,453,355,392,335,364,312,340,292,328,269,321,270,316,294,323,315,336,339,361,359,389,389,451,408,511,418,559"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#gaa0cca193c18e50f3357ec81431f591da" title="XWCQ API: 尝试从循环队列 尾端 拷贝数据（Peek at the Rear of Queue）" alt="" coords="176,351,269,376"/>
<area shape="poly" title=" " alt="" coords="410,561,397,522,377,476,349,429,312,389,291,378,269,371,270,366,294,373,315,385,353,426,382,473,402,520,415,559"/>
<area shape="rect" href="group__xwcd__ds__can__controller.html#ga7813da5ba40873cc863981b013f26d08" title="XWDS API：发布一条消息到接收缓冲队列中" alt="" coords="142,400,303,425"/>
<area shape="poly" title=" " alt="" coords="405,562,369,500,343,467,312,439,290,428,293,423,315,434,347,463,374,497,410,559"/>
<area shape="rect" href="group__xwcd__ds__uart.html#ga30ac59a8b24566dca48140918d8fef3b" title="XWDS Driver Callback：发布数据到接收队列" alt="" coords="132,449,313,475"/>
<area shape="poly" title=" " alt="" coords="398,564,361,525,337,505,312,488,286,477,288,472,315,484,341,501,364,521,402,561"/>
<area shape="rect" href="group__xwcd__ds__uart.html#ga4466e562e1beaada5f801ecc70a265d8" title="XWDS API：从接收队列中获取数据" alt="" coords="169,499,276,524"/>
<area shape="poly" title=" " alt="" coords="382,569,312,538,275,526,277,521,314,533,384,564"/>
<area shape="rect" href="group__xwcd__ds__uart.html#gaf85a6b7cc9911ac5698980fe834145a7" title="XWDS API：尝试从接收队列中获取数据" alt="" coords="158,548,287,573"/>
<area shape="poly" title=" " alt="" coords="348,579,287,572,288,566,348,574"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga9b11a75d7c8d792d305154b32c3dedee" title="XWMQ API: 限时等待从消息队列 首端 接收一条消息" alt="" coords="175,597,271,623"/>
<area shape="poly" title=" " alt="" coords="348,597,271,607,271,602,348,592"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga98fe6e199b379e49ed413db1435f5b3a" title="XWMQ API: 等待从消息队列 首端 接收一条消息，且等待不可被中断" alt="" coords="164,647,281,672"/>
<area shape="poly" title=" " alt="" coords="382,607,314,636,275,649,273,644,312,632,380,602"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga8359c9ba02c8fb2a74e6c4c6094d94cc" title="XWMQ API：限时等待消息槽，成功后将消息发送到消息队列的 尾端 （入队）" alt="" coords="175,696,271,721"/>
<area shape="poly" title=" " alt="" coords="401,611,364,649,315,686,272,702,270,697,312,681,360,645,398,607"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga8a32f1b107baef4bc25957bca4d4bddd" title="XWMQ API：等待消息槽，且等待不可被中断， 成功后将消息发送到消息队列的 尾端 （入队）" alt="" coords="164,745,281,771"/>
<area shape="poly" title=" " alt="" coords="409,613,373,674,347,707,315,735,283,750,280,745,312,730,343,703,369,671,405,610"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga0eb1aa3f3e83b696612a7cd9cc90a6f2" title="XWMQ API：限时等待消息槽，成功后将消息发送到消息队列的 首端 （插队）" alt="" coords="177,795,269,820"/>
<area shape="poly" title=" " alt="" coords="414,613,402,651,381,697,353,744,315,784,293,797,270,804,268,799,291,792,312,780,349,741,377,695,397,649,409,611"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga3c6e22dce3a927f790d95f1e294c5789" title="XWMQ API：等待消息槽，且等待不可被中断， 成功后将消息发送到消息队列的 首端 （插队）" alt="" coords="166,844,279,869"/>
<area shape="poly" title=" " alt="" coords="417,613,407,660,389,720,359,781,339,809,315,833,299,844,280,852,278,847,296,840,312,829,335,805,354,778,384,718,402,659,412,612"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#gaacdb3c6bfb639e6d2444f479e9557c38" title="XWMQ API: 限时等待从消息队列 尾端 接收一条消息" alt="" coords="176,893,269,919"/>
<area shape="poly" title=" " alt="" coords="420,613,413,668,396,741,382,779,365,817,342,852,315,883,294,896,270,904,269,899,292,892,312,879,338,849,360,814,377,777,390,739,407,667,414,612"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga1ebf67fde973c23ec718d35258dd7ee1" title="XWMQ API: 等待从消息队列 尾端 接收一条消息，且等待不可被中断" alt="" coords="165,943,280,968"/>
<area shape="poly" title=" " alt="" coords="421,613,417,677,402,763,389,808,370,853,346,895,315,932,299,944,281,951,279,946,297,939,312,928,342,892,365,851,384,807,397,761,412,676,416,612"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga113bc97ec8121f3eb884e8da900497eb" title="XWMQ API: 尝试从消息队列 首端 接收一条消息" alt="" coords="176,992,269,1017"/>
<area shape="poly" title=" " alt="" coords="418,613,404,696,382,806,352,912,335,953,315,981,294,996,270,1003,269,998,292,991,311,977,330,950,347,910,377,805,399,695,412,612"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga30b3fc4cf9323d3597eb8a383bdf611f" title="XWMQ API：尝试获取消息槽，成功后将消息发送到消息队列的 尾端 （入队）" alt="" coords="176,1041,269,1067"/>
<area shape="poly" title=" " alt="" coords="419,613,407,705,386,830,372,893,355,951,337,998,315,1031,294,1045,271,1053,269,1048,292,1040,311,1027,332,995,350,949,366,892,380,829,401,704,413,612"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga706a753c885996d85ec7fbf6d7461385" title="XWMQ API：尝试获取消息槽，成功后将消息发送到消息队列的 首端 （插队）" alt="" coords="178,1091,267,1116"/>
<area shape="poly" title=" " alt="" coords="419,613,409,715,389,854,375,925,358,990,338,1043,315,1080,293,1095,268,1103,267,1098,291,1090,311,1076,334,1041,353,988,370,924,384,854,404,714,414,612"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga7c48b58030cf580f089d2cb42bc644fd" title="XWMQ API: 尝试从消息队列 尾端 接收一条消息" alt="" coords="177,1140,268,1165"/>
<area shape="poly" title=" " alt="" coords="420,613,411,724,392,878,378,957,361,1029,340,1088,315,1129,294,1144,269,1152,267,1147,291,1140,311,1126,335,1086,356,1028,373,956,387,878,406,723,414,613"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#gaf743e9140c73b57f82592e612e5f0310" title="XWCQ API: 等待从循环队列 头端 拷贝数据（Peek at the Front of Queue）" alt="" coords="5,104,84,129"/>
<area shape="poly" title=" " alt="" coords="161,119,84,119,84,114,161,114"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#ga446e314e4d1bf1e91a6f17a4e57b5fc4" title="XWCQ API: 等待从循环队列 尾端 拷贝数据（Peek at the Rear of Queue）" alt="" coords="5,203,84,228"/>
<area shape="poly" title=" " alt="" coords="161,218,84,218,84,213,161,213"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga6dac123dd10ceaf0f24181b66d49d39a" title="XWMQ API: 等待从消息队列 首端 接收一条消息" alt="" coords="5,597,84,623"/>
<area shape="poly" title=" " alt="" coords="161,613,84,613,84,607,161,607"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#gad8d2b0b29234d2959a05eeb67a23ff45" title="XWMQ API：等待消息槽，成功后将消息发送到消息队列的 尾端 （入队）" alt="" coords="5,696,84,721"/>
<area shape="poly" title=" " alt="" coords="161,711,84,711,84,706,161,706"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga18b4d97f9de46feb6eebd197738aabf6" title="XWMQ API：等待消息槽，成功后将消息发送到消息队列的 首端 （插队）" alt="" coords="7,795,82,820"/>
<area shape="poly" title=" " alt="" coords="163,810,82,810,82,805,163,805"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga79b5a6769a655a4e5946f3d60729b342" title="XWMQ API: 等待从消息队列 尾端 接收一条消息" alt="" coords="7,893,82,919"/>
<area shape="poly" title=" " alt="" coords="162,909,83,909,83,903,162,903"/>
</map>
</div>

</div>
</div>
<a id="ga83a3b567eb40632d954a35b98ecf1950" name="ga83a3b567eb40632d954a35b98ecf1950"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga83a3b567eb40632d954a35b98ecf1950">&#9670;&#160;</a></span>xwos_sem_put()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a> xwos_sem_put </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>XWOS API：减少信号量对象的引用计数 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sem</td><td>信号量对象的指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>错误码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">XWOK</td><td>没有错误 </td></tr>
    <tr><td class="paramname">-EFAULT</td><td>空指针 </td></tr>
    <tr><td class="paramname">-EOBJDEAD</td><td>对象无效 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>上下文：任意</li>
</ul>
</dd></dl>
<p>此函数主要用于管理 <b>静态对象</b> 的引用计数。 若用于 <b>动态对象</b> ，需要确保对象的指针一定不是野指针。 </p>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00178">178</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  179</span>{</div>
<div class="line"><span class="lineno">  180</span>        <span class="keywordflow">return</span> xwosdl_sem_put(&amp;sem-&gt;<a class="code hl_variable" href="structxwos__sem.html#a2f79380f6f46abd1fa9a78ab229172a3">ossem</a>);</div>
<div class="line"><span class="lineno">  181</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga2fd69e5ea645814fa3a52241167a9e1e" name="ga2fd69e5ea645814fa3a52241167a9e1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2fd69e5ea645814fa3a52241167a9e1e">&#9670;&#160;</a></span>xwos_sem_release()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a> xwos_sem_release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structxwos__sem__d.html">xwos_sem_d</a>&#160;</td>
          <td class="paramname"><em>semd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>XWOS API：检查对象的标签并减少引用计数 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">semd</td><td>信号量对象描述符 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>错误码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">XWOK</td><td>没有错误 </td></tr>
    <tr><td class="paramname">-ENILOBJD</td><td>空的对象描述符 </td></tr>
    <tr><td class="paramname">-EOBJDEAD</td><td>对象无效 </td></tr>
    <tr><td class="paramname">-EACCES</td><td>对象标签检查失败 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>上下文：任意 </li>
</ul>
</dd></dl>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00246">246</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  247</span>{</div>
<div class="line"><span class="lineno">  248</span>        <span class="keywordflow">return</span> xwosdl_sem_release(&amp;semd.<a class="code hl_variable" href="structxwos__sem__d.html#a4cb5ddbf657c2377c90c89b8beb95b01">sem</a>-&gt;<a class="code hl_variable" href="structxwos__sem.html#a2f79380f6f46abd1fa9a78ab229172a3">ossem</a>, semd.<a class="code hl_variable" href="structxwos__sem__d.html#a6b87f8ef266ed3ca39f94c69ebbc2411">tik</a>);</div>
<div class="line"><span class="lineno">  249</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gadbbb35963b95d865ddb392a97639ec87" name="gadbbb35963b95d865ddb392a97639ec87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadbbb35963b95d865ddb392a97639ec87">&#9670;&#160;</a></span>xwos_sem_thaw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a> xwos_sem_thaw </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>XWOS API：解冻信号量对象 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sem</td><td>信号量对象的指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>错误码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">XWOK</td><td>没有错误 </td></tr>
    <tr><td class="paramname">-EFAULT</td><td>空指针 </td></tr>
    <tr><td class="paramname">-EALREADY</td><td>信号量对象未被冻结 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>上下文：任意</li>
</ul>
</dd></dl>
<p>此函数只对已冻结的信号量对象起作用， 对未冻结的信号量对象调用此函数将返回错误码 <code>-EALREADY</code> 。 </p>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00354">354</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  355</span>{</div>
<div class="line"><span class="lineno">  356</span>        <span class="keywordflow">return</span> xwosdl_sem_thaw(&amp;sem-&gt;<a class="code hl_variable" href="structxwos__sem.html#a2f79380f6f46abd1fa9a78ab229172a3">ossem</a>);</div>
<div class="line"><span class="lineno">  357</span>}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__sync__sem_gadbbb35963b95d865ddb392a97639ec87_icgraph.png" border="0" usemap="#agroup__xwos__sync__sem_gadbbb35963b95d865ddb392a97639ec87_icgraph" alt=""/></div>
<map name="agroup__xwos__sync__sem_gadbbb35963b95d865ddb392a97639ec87_icgraph" id="agroup__xwos__sync__sem_gadbbb35963b95d865ddb392a97639ec87_icgraph">
<area shape="rect" title="XWOS API：解冻信号量对象" alt="" coords="141,5,261,31"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#gae3abbdc3ed1a692d76a37d01de02f4b8" title="XWCQ API: 清空循环队列" alt="" coords="5,5,93,31"/>
<area shape="poly" title=" " alt="" coords="127,21,94,21,94,15,127,15"/>
</map>
</div>

</div>
</div>
<a id="ga453bbb4747cdd5cc94ddb9b988ee0866" name="ga453bbb4747cdd5cc94ddb9b988ee0866"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga453bbb4747cdd5cc94ddb9b988ee0866">&#9670;&#160;</a></span>xwos_sem_trywait()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a> xwos_sem_trywait </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>XWOS API：尝试获取信号量 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sem</td><td>信号量对象的指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>错误码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">XWOK</td><td>没有错误 </td></tr>
    <tr><td class="paramname">-EFAULT</td><td>空指针 </td></tr>
    <tr><td class="paramname">-ENODATA</td><td>信号量对象资源不可用（信号量对象无法被获取） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>上下文：任意</li>
</ul>
</dd></dl>
<p>若没有检测到信号，立即返回错误码 <code>-ENODATA</code> ，不会阻塞。 </p>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00454">454</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  455</span>{</div>
<div class="line"><span class="lineno">  456</span>        <span class="keywordflow">return</span> xwosdl_sem_trywait(&amp;sem-&gt;<a class="code hl_variable" href="structxwos__sem.html#a2f79380f6f46abd1fa9a78ab229172a3">ossem</a>);</div>
<div class="line"><span class="lineno">  457</span>}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__sync__sem_ga453bbb4747cdd5cc94ddb9b988ee0866_icgraph.png" border="0" usemap="#agroup__xwos__sync__sem_ga453bbb4747cdd5cc94ddb9b988ee0866_icgraph" alt=""/></div>
<map name="agroup__xwos__sync__sem_ga453bbb4747cdd5cc94ddb9b988ee0866_icgraph" id="agroup__xwos__sync__sem_ga453bbb4747cdd5cc94ddb9b988ee0866_icgraph">
<area shape="rect" title="XWOS API：尝试获取信号量" alt="" coords="207,240,337,265"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#ga7b6a39511984b0701595df93d4f07072" title="XWCQ API: 尝试从循环队列的 首端 接收数据（离队，DeQueue）" alt="" coords="37,5,127,31"/>
<area shape="poly" title=" " alt="" coords="261,227,248,187,226,137,196,87,157,44,126,28,128,23,160,40,201,84,231,135,253,185,266,226"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#gaf6e49bfc7b9b04d1c0162fba5fa19752" title="XWCQ API: 尝试从循环队列 头端 拷贝数据（Peek at the Front of Queue）" alt="" coords="35,55,129,80"/>
<area shape="poly" title=" " alt="" coords="257,228,219,161,191,125,157,94,127,79,130,74,160,89,195,121,223,158,262,226"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#gaa0cca193c18e50f3357ec81431f591da" title="XWCQ API: 尝试从循环队列 尾端 拷贝数据（Peek at the Rear of Queue）" alt="" coords="35,104,129,129"/>
<area shape="poly" title=" " alt="" coords="251,231,211,186,185,163,157,143,128,130,130,125,160,138,189,159,215,182,255,227"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#ga4ee21be691d89289330a6b775eaa2122" title="XWCQ API: 尝试从循环队列的 尾端 接收数据（反向离队，Reversely deQueue）" alt="" coords="39,153,125,179"/>
<area shape="poly" title=" " alt="" coords="237,235,158,194,125,181,127,176,160,189,239,230"/>
<area shape="rect" href="group__xwcd__ds__uart.html#gad2c775da0cd63065826ee33ef0f96843" title="XWDS Driver Callback：清空接收队列" alt="" coords="5,203,159,243"/>
<area shape="poly" title=" " alt="" coords="192,243,158,238,159,233,193,238"/>
<area shape="rect" href="group__xwcd__ds__uart.html#gaf85a6b7cc9911ac5698980fe834145a7" title="XWDS API：尝试从接收队列中获取数据" alt="" coords="17,268,147,293"/>
<area shape="poly" title=" " alt="" coords="193,267,148,274,147,268,192,262"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga113bc97ec8121f3eb884e8da900497eb" title="XWMQ API: 尝试从消息队列 首端 接收一条消息" alt="" coords="35,317,129,343"/>
<area shape="poly" title=" " alt="" coords="234,274,160,307,125,320,123,315,158,302,232,269"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga30b3fc4cf9323d3597eb8a383bdf611f" title="XWMQ API：尝试获取消息槽，成功后将消息发送到消息队列的 尾端 （入队）" alt="" coords="35,367,129,392"/>
<area shape="poly" title=" " alt="" coords="253,277,212,317,160,356,130,370,128,365,157,352,209,313,249,274"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga706a753c885996d85ec7fbf6d7461385" title="XWMQ API：尝试获取消息槽，成功后将消息发送到消息队列的 首端 （插队）" alt="" coords="37,416,127,441"/>
<area shape="poly" title=" " alt="" coords="260,279,221,342,193,376,160,406,128,421,126,417,157,401,189,372,217,339,256,276"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga7c48b58030cf580f089d2cb42bc644fd" title="XWMQ API: 尝试从消息队列 尾端 接收一条消息" alt="" coords="37,465,127,491"/>
<area shape="poly" title=" " alt="" coords="265,280,251,318,229,365,199,413,160,455,129,471,126,467,157,451,195,410,225,363,246,316,260,278"/>
</map>
</div>

</div>
</div>
<a id="ga4aab3913939aa6cfa040af1039e564d5" name="ga4aab3913939aa6cfa040af1039e564d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4aab3913939aa6cfa040af1039e564d5">&#9670;&#160;</a></span>xwos_sem_unbind()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a> xwos_sem_unbind </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *&#160;</td>
          <td class="paramname"><em>sem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxwos__sel.html">xwos_sel</a> *&#160;</td>
          <td class="paramname"><em>sel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>XWOS API：从信号选择器上解绑信号量对象 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sem</td><td>信号量对象的指针 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sel</td><td>信号选择器的指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>错误码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">XWOK</td><td>没有错误 </td></tr>
    <tr><td class="paramname">-EFAULT</td><td>空指针 </td></tr>
    <tr><td class="paramname">-ENOTCONN</td><td>同步对象没有绑定到事件对象上 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>上下文：任意 </li>
</ul>
</dd></dl>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00314">314</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  315</span>{</div>
<div class="line"><span class="lineno">  316</span>        <span class="keywordflow">return</span> xwosdl_sem_unbind(&amp;sem-&gt;<a class="code hl_variable" href="structxwos__sem.html#a2f79380f6f46abd1fa9a78ab229172a3">ossem</a>, &amp;sel-&gt;<a class="code hl_variable" href="structxwos__sel.html#adaf7f267f13f41092f7d4ce9a8e464d7">ossel</a>);</div>
<div class="line"><span class="lineno">  317</span>}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__sync__sem_ga4aab3913939aa6cfa040af1039e564d5_icgraph.png" border="0" usemap="#agroup__xwos__sync__sem_ga4aab3913939aa6cfa040af1039e564d5_icgraph" alt=""/></div>
<map name="agroup__xwos__sync__sem_ga4aab3913939aa6cfa040af1039e564d5_icgraph" id="agroup__xwos__sync__sem_ga4aab3913939aa6cfa040af1039e564d5_icgraph">
<area shape="rect" title="XWOS API：从信号选择器上解绑信号量对象" alt="" coords="152,5,283,31"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#gaaddb0031316230e24ae3d403ad1e517f" title="XWOS API：从信号选择器上解绑循环队列对象" alt="" coords="5,5,104,31"/>
<area shape="poly" title=" " alt="" coords="138,21,104,21,104,15,138,15"/>
</map>
</div>

</div>
</div>
<a id="ga5a7b38f68e2fc5159909a1eb4b7db7a2" name="ga5a7b38f68e2fc5159909a1eb4b7db7a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5a7b38f68e2fc5159909a1eb4b7db7a2">&#9670;&#160;</a></span>xwos_sem_wait()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a> xwos_sem_wait </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>XWOS API：等待并获取信号量 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sem</td><td>信号量对象的指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>错误码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">XWOK</td><td>没有错误 </td></tr>
    <tr><td class="paramname">-EFAULT</td><td>空指针 </td></tr>
    <tr><td class="paramname">-EINTR</td><td>等待被中断 </td></tr>
    <tr><td class="paramname">-ENOTTHDCTX</td><td>不在线程上下文中 </td></tr>
    <tr><td class="paramname">-EDSPMPT</td><td>抢占被关闭 </td></tr>
    <tr><td class="paramname">-EDSBH</td><td>中断底半部被关闭 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>上下文：线程 </li>
</ul>
</dd></dl>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00392">392</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  393</span>{</div>
<div class="line"><span class="lineno">  394</span>        <span class="keywordflow">return</span> xwosdl_sem_wait(&amp;sem-&gt;<a class="code hl_variable" href="structxwos__sem.html#a2f79380f6f46abd1fa9a78ab229172a3">ossem</a>);</div>
<div class="line"><span class="lineno">  395</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gab9fce6b4dc3add4c714dfa1c8041593f" name="gab9fce6b4dc3add4c714dfa1c8041593f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab9fce6b4dc3add4c714dfa1c8041593f">&#9670;&#160;</a></span>xwos_sem_wait_to()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a> xwos_sem_wait_to </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *&#160;</td>
          <td class="paramname"><em>sem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xwos__lib__type__time.html#ga3079bb70c0290f939f9c6896fe43ec61">xwtm_t</a>&#160;</td>
          <td class="paramname"><em>to</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>XWOS API：限时等待并获取信号量 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sem</td><td>信号量对象的指针 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">to</td><td>期望唤醒的时间点 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>错误码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">XWOK</td><td>没有错误 </td></tr>
    <tr><td class="paramname">-EFAULT</td><td>空指针 </td></tr>
    <tr><td class="paramname">-ETIMEDOUT</td><td>超时 </td></tr>
    <tr><td class="paramname">-EINTR</td><td>等待被中断 </td></tr>
    <tr><td class="paramname">-ENOTTHDCTX</td><td>不在线程上下文中 </td></tr>
    <tr><td class="paramname">-EDSPMPT</td><td>抢占被关闭 </td></tr>
    <tr><td class="paramname">-EDSBH</td><td>中断底半部被关闭 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>上下文：线程</li>
</ul>
</dd></dl>
<p><code>to</code> 表示等待超时的时间点：</p><ul>
<li><code>to</code> 通常是未来的时间，即 <b>当前系统时间</b> + <code>delta</code> ， 可以使用 <code>xwtm_ft(delta)</code> 表示；</li>
<li>如果 <code>to</code> 是过去的时间点，将直接返回 <code>-ETIMEDOUT</code> 。 </li>
</ul>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00418">418</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  419</span>{</div>
<div class="line"><span class="lineno">  420</span>        <span class="keywordflow">return</span> xwosdl_sem_wait_to(&amp;sem-&gt;<a class="code hl_variable" href="structxwos__sem.html#a2f79380f6f46abd1fa9a78ab229172a3">ossem</a>, to);</div>
<div class="line"><span class="lineno">  421</span>}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__sync__sem_gab9fce6b4dc3add4c714dfa1c8041593f_icgraph.png" border="0" usemap="#agroup__xwos__sync__sem_gab9fce6b4dc3add4c714dfa1c8041593f_icgraph" alt=""/></div>
<map name="agroup__xwos__sync__sem_gab9fce6b4dc3add4c714dfa1c8041593f_icgraph" id="agroup__xwos__sync__sem_gab9fce6b4dc3add4c714dfa1c8041593f_icgraph">
<area shape="rect" title="XWOS API：限时等待并获取信号量" alt="" coords="343,228,477,253"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#ga1751e4a7d470159426dfc0b28f30c426" title="XWCQ API: 限时等待从循环队列的 首端 接收数据（离队，DeQueue）" alt="" coords="167,5,259,31"/>
<area shape="poly" title=" " alt="" coords="398,216,384,177,362,131,332,84,293,44,277,34,259,28,260,23,279,29,296,40,336,81,366,128,389,175,403,214"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#ga8ee1e6f6ccb52d2ad7ff983299e457f8" title="XWCQ API: 限时等待从循环队列 头端 拷贝数据 （Peek at the Front of Queue）" alt="" coords="165,55,261,80"/>
<area shape="poly" title=" " alt="" coords="394,217,354,155,326,122,293,94,261,79,263,74,296,89,330,118,358,152,398,214"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#ga927902d5c0f3137e42dc3040b8186c1e" title="XWCQ API: 限时等待从循环队列 尾端 拷贝数据（Peek at the Rear of Queue）" alt="" coords="165,104,261,129"/>
<area shape="poly" title=" " alt="" coords="387,220,346,181,293,143,261,130,263,125,296,138,349,176,390,216"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#gaf4c60c0ca895ff95a7f636871a83592b" title="XWCQ API: 限时等待从循环队列的 尾端 接收数据 （反向离队，Reversely deQueue）" alt="" coords="169,153,258,179"/>
<area shape="poly" title=" " alt="" coords="369,225,294,192,257,180,259,175,296,188,371,220"/>
<area shape="rect" href="group__xwcd__ds__can__controller.html#gad9b974a3472db27df2367967faa9b0c7" title="XWDS API：从接收缓冲队列中获取一条消息" alt="" coords="132,203,295,228"/>
<area shape="poly" title=" " alt="" coords="329,233,294,228,295,223,329,228"/>
<area shape="rect" href="group__xwcd__ds__uart.html#ga4466e562e1beaada5f801ecc70a265d8" title="XWDS API：从接收队列中获取数据" alt="" coords="160,252,267,277"/>
<area shape="poly" title=" " alt="" coords="329,253,267,261,267,256,329,248"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga9b11a75d7c8d792d305154b32c3dedee" title="XWMQ API: 限时等待从消息队列 首端 接收一条消息" alt="" coords="165,301,261,327"/>
<area shape="poly" title=" " alt="" coords="369,261,296,291,258,304,256,299,294,286,367,257"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga8359c9ba02c8fb2a74e6c4c6094d94cc" title="XWMQ API：限时等待消息槽，成功后将消息发送到消息队列的 尾端 （入队）" alt="" coords="165,351,261,376"/>
<area shape="poly" title=" " alt="" coords="389,266,348,304,296,340,263,354,261,349,293,336,345,300,385,262"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga0eb1aa3f3e83b696612a7cd9cc90a6f2" title="XWMQ API：限时等待消息槽，成功后将消息发送到消息队列的 首端 （插队）" alt="" coords="167,400,259,425"/>
<area shape="poly" title=" " alt="" coords="398,267,358,328,329,361,296,390,261,406,259,401,293,385,326,357,354,325,394,264"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#gaacdb3c6bfb639e6d2444f479e9557c38" title="XWMQ API: 限时等待从消息队列 尾端 接收一条消息" alt="" coords="167,449,260,475"/>
<area shape="poly" title=" " alt="" coords="403,267,388,305,366,351,335,398,296,439,279,449,261,456,259,451,277,444,293,435,331,395,361,349,384,303,398,265"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#gac9f65a59cd4c07212e4515d81466edab" title="XWCQ API: 等待从循环队列的 首端 接收数据（离队，DeQueue）" alt="" coords="7,5,82,31"/>
<area shape="poly" title=" " alt="" coords="153,21,82,21,82,15,153,15"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#gaf743e9140c73b57f82592e612e5f0310" title="XWCQ API: 等待从循环队列 头端 拷贝数据（Peek at the Front of Queue）" alt="" coords="5,55,84,80"/>
<area shape="poly" title=" " alt="" coords="152,70,84,70,84,65,152,65"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#ga446e314e4d1bf1e91a6f17a4e57b5fc4" title="XWCQ API: 等待从循环队列 尾端 拷贝数据（Peek at the Rear of Queue）" alt="" coords="5,104,84,129"/>
<area shape="poly" title=" " alt="" coords="152,119,84,119,84,114,152,114"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#ga9aaa9a95186c3bd701b31dc05d1f051b" title="XWCQ API: 等待从循环队列的 尾端 接收数据（反向离队，Reversely deQueue）" alt="" coords="9,153,80,179"/>
<area shape="poly" title=" " alt="" coords="155,169,80,169,80,163,155,163"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga6dac123dd10ceaf0f24181b66d49d39a" title="XWMQ API: 等待从消息队列 首端 接收一条消息" alt="" coords="5,301,84,327"/>
<area shape="poly" title=" " alt="" coords="152,317,84,317,84,311,152,311"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#gad8d2b0b29234d2959a05eeb67a23ff45" title="XWMQ API：等待消息槽，成功后将消息发送到消息队列的 尾端 （入队）" alt="" coords="5,351,84,376"/>
<area shape="poly" title=" " alt="" coords="152,366,84,366,84,361,152,361"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga18b4d97f9de46feb6eebd197738aabf6" title="XWMQ API：等待消息槽，成功后将消息发送到消息队列的 首端 （插队）" alt="" coords="7,400,82,425"/>
<area shape="poly" title=" " alt="" coords="153,415,82,415,82,410,153,410"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga79b5a6769a655a4e5946f3d60729b342" title="XWMQ API: 等待从消息队列 尾端 接收一条消息" alt="" coords="7,449,82,475"/>
<area shape="poly" title=" " alt="" coords="153,465,82,465,82,459,153,459"/>
</map>
</div>

</div>
</div>
<a id="ga794e05587874027d02d0e4c87f9c2893" name="ga794e05587874027d02d0e4c87f9c2893"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga794e05587874027d02d0e4c87f9c2893">&#9670;&#160;</a></span>xwos_sem_wait_unintr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__xwos__lib__type.html#ga06847ea8c7edb2b1f166288b230f251f">xwer_t</a> xwos_sem_wait_unintr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwos__sem.html">xwos_sem</a> *&#160;</td>
          <td class="paramname"><em>sem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>XWOS API：等待并获取信号量，且等待不可被中断 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sem</td><td>信号量对象的指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>错误码 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">XWOK</td><td>没有错误 </td></tr>
    <tr><td class="paramname">-EFAULT</td><td>空指针 </td></tr>
    <tr><td class="paramname">-ENOTTHDCTX</td><td>不在线程上下文中 </td></tr>
    <tr><td class="paramname">-EDSPMPT</td><td>抢占被关闭 </td></tr>
    <tr><td class="paramname">-EDSBH</td><td>中断底半部被关闭 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>上下文：线程 </li>
</ul>
</dd></dl>

<p class="definition">在文件 <a class="el" href="sync_2sem_8h_source.html">sem.h</a> 第 <a class="el" href="sync_2sem_8h_source.html#l00436">436</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  437</span>{</div>
<div class="line"><span class="lineno">  438</span>        <span class="keywordflow">return</span> xwosdl_sem_wait_unintr(&amp;sem-&gt;<a class="code hl_variable" href="structxwos__sem.html#a2f79380f6f46abd1fa9a78ab229172a3">ossem</a>);</div>
<div class="line"><span class="lineno">  439</span>}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__sync__sem_ga794e05587874027d02d0e4c87f9c2893_icgraph.png" border="0" usemap="#agroup__xwos__sync__sem_ga794e05587874027d02d0e4c87f9c2893_icgraph" alt=""/></div>
<map name="agroup__xwos__sync__sem_ga794e05587874027d02d0e4c87f9c2893_icgraph" id="agroup__xwos__sync__sem_ga794e05587874027d02d0e4c87f9c2893_icgraph">
<area shape="rect" title="XWOS API：等待并获取信号量，且等待不可被中断" alt="" coords="171,179,325,204"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#ga9268a23f62386b705f358da0690719d7" title="XWCQ API: 等待从循环队列的 首端 接收数据（离队，DeQueue）， 并且等待不可被中断" alt="" coords="7,5,121,31"/>
<area shape="poly" title=" " alt="" coords="230,168,185,107,155,74,121,44,102,33,104,28,124,40,159,70,189,104,234,165"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#ga47c4c89b9ae21ff278bb0911982a9178" title="XWCQ API: 等待从循环队列 头端 拷贝数据（Peek at the Front of Queue）， 并且等待不可被中断" alt="" coords="5,55,123,80"/>
<area shape="poly" title=" " alt="" coords="222,171,177,133,121,94,99,82,101,78,124,89,180,129,225,167"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#gab7a4f7dad6f65d876840a5e1279cdab6" title="XWCQ API: 等待从循环队列 尾端 拷贝数据（Peek at the Rear of Queue）， 并且等待不可被中断" alt="" coords="5,104,123,129"/>
<area shape="poly" title=" " alt="" coords="202,176,95,132,97,127,204,171"/>
<area shape="rect" href="group__xwmd__isc__xwcq.html#gadc32b77f21a0faec18ce917f4cae6b46" title="XWCQ API: 等待从循环队列的 尾端 接收数据（反向离队，Reversely deQueue）， 并且等待不可被中断" alt="" coords="9,153,119,179"/>
<area shape="poly" title=" " alt="" coords="157,181,119,176,120,171,157,176"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga98fe6e199b379e49ed413db1435f5b3a" title="XWMQ API: 等待从消息队列 首端 接收一条消息，且等待不可被中断" alt="" coords="5,203,123,228"/>
<area shape="poly" title=" " alt="" coords="157,206,123,210,123,205,156,201"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga8a32f1b107baef4bc25957bca4d4bddd" title="XWMQ API：等待消息槽，且等待不可被中断， 成功后将消息发送到消息队列的 尾端 （入队）" alt="" coords="5,252,123,277"/>
<area shape="poly" title=" " alt="" coords="203,212,98,254,96,249,201,207"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga3c6e22dce3a927f790d95f1e294c5789" title="XWMQ API：等待消息槽，且等待不可被中断， 成功后将消息发送到消息队列的 首端 （插队）" alt="" coords="7,301,121,327"/>
<area shape="poly" title=" " alt="" coords="224,215,179,253,124,291,99,304,97,299,121,286,176,248,221,211"/>
<area shape="rect" href="group__xwmd__isc__xwmq.html#ga1ebf67fde973c23ec718d35258dd7ee1" title="XWMQ API: 等待从消息队列 尾端 接收一条消息，且等待不可被中断" alt="" coords="7,351,121,376"/>
<area shape="poly" title=" " alt="" coords="233,217,189,277,158,311,124,340,103,353,100,348,121,336,154,307,184,274,229,214"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
