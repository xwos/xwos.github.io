<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="Doxygen Awesome" />
<meta property="og:image" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta property="og:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<meta property="og:url" content="https://jothepro.github.io/doxygen-awesome-css/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="https://repository-images.githubusercontent.com/348492097/4f16df80-88fb-11eb-9d31-4015ff22c452" />
<meta name="twitter:title" content="Doxygen Awesome" />
<meta name="twitter:description" content="Custom CSS theme for doxygen html-documentation with lots of customization parameters." />
<!-- END twitter metadata -->
<title>XWOS API: 红黑树</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/svg+xml" href="logo.svg"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript" src="toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="custom-alternative.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<a href="/" class="github-corner" title="返回首页">
  <svg viewBox="0 0 250 250" style="position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
    <path
      d="M 0 0 L 250 250 L 250 0 L 0 0 z M 181.19336 6.25 A 18.281986 19.638775 0 0 1 192.79297 10.798828 L 241.54492 54.201172 A 6.0939954 6.5462585 0 0 1 237.64453 65.787109 L 233.13477 65.787109 A 3.0469979 3.2731292 0 0 0 230.08789 69.060547 L 230.08789 111.61133 A 18.281986 19.638775 0 0 1 211.80664 131.25 L 205.71289 131.25 A 12.187991 13.092517 0 0 1 193.52344 118.1582 L 193.52344 98.519531 A 12.187991 13.092517 0 0 0 181.33594 85.425781 A 12.187991 13.092517 0 0 0 169.14844 98.519531 L 169.14844 118.1582 A 12.187991 13.092517 0 0 1 156.95898 131.25 L 150.86523 131.25 A 18.281986 19.638775 0 0 1 132.58398 111.61133 L 132.58398 68.994141 A 3.0469979 3.2731292 0 0 0 129.29297 65.722656 L 124.7832 65.722656 A 6.0939954 6.5462585 0 0 1 120.88281 54.201172 L 169.39258 10.798828 A 18.281986 19.638775 0 0 1 181.19336 6.25 z "/>
  </svg>
</a>
<style>.github-corner:hover</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">XWOS API
   &#160;<span id="projectnumber">3.0</span>
   </div>
   <div id="projectbrief">XWOS API参考手册</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__xwos__lib__rbtree.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">结构体</a> &#124;
<a href="#define-members">宏定义</a> &#124;
<a href="#enum-members">枚举</a> &#124;
<a href="#func-members">函数</a>  </div>
  <div class="headertitle"><div class="title">红黑树<div class="ingroups"><a class="el" href="group__xwos.html">XWOS内核</a> &raquo; <a class="el" href="group__xwos__lib.html">XWOS的通用库</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
红黑树 的协作图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__lib__rbtree.png" border="0" usemap="#agroup____xwos____lib____rbtree" alt=""/></div>
<map name="agroup____xwos____lib____rbtree" id="agroup____xwos____lib____rbtree">
<area shape="rect" href="group__xwos__lib.html" title=" " alt="" coords="5,5,120,31"/>
<area shape="rect" title=" " alt="" coords="168,5,229,31"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
结构体</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">红黑树节点  <a href="structxwlib__rbtree__node.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structxwlib__rbtree.html">xwlib_rbtree</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">红黑树  <a href="structxwlib__rbtree.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
宏定义</h2></td></tr>
<tr class="memitem:ga55c3b92f4fbb4b8b429f2f2fa62697f7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(lpc)&#160;&#160;&#160;        ((struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> **)(((<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)(lpc)) &amp; (~((<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)3UL))))</td></tr>
<tr class="memdesc:ga55c3b92f4fbb4b8b429f2f2fa62697f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取lpc信息中的link指针  <br /></td></tr>
<tr class="separator:ga55c3b92f4fbb4b8b429f2f2fa62697f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga017bd2d836367eff3d94ecb402fa4e62"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga017bd2d836367eff3d94ecb402fa4e62">xwlib_rbtree_get_lnpos</a>(lpc)&#160;&#160;&#160;((<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)(lpc) &amp; (~((<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)2UL)))</td></tr>
<tr class="memdesc:ga017bd2d836367eff3d94ecb402fa4e62"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取lpc信息中的link指针和位置信息（屏蔽颜色信息）  <br /></td></tr>
<tr class="separator:ga017bd2d836367eff3d94ecb402fa4e62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c77def947c164324809a41db5c54ec3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga7c77def947c164324809a41db5c54ec3">xwlib_rbtree_get_pos</a>(lpc)&#160;&#160;&#160;((<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)(((<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)(lpc)) &amp; (<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)1UL))</td></tr>
<tr class="memdesc:ga7c77def947c164324809a41db5c54ec3"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取lpc信息中的位置信息  <br /></td></tr>
<tr class="separator:ga7c77def947c164324809a41db5c54ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92eedf95d97d18a5dde5f43d96c148f6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga92eedf95d97d18a5dde5f43d96c148f6">xwlib_rbtree_tst_right</a>(lpc)&#160;&#160;&#160;(!!<a class="el" href="group__xwos__lib__rbtree.html#ga7c77def947c164324809a41db5c54ec3">xwlib_rbtree_get_pos</a>(lpc))</td></tr>
<tr class="memdesc:ga92eedf95d97d18a5dde5f43d96c148f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">测试当前lpc中的位置信息是否为右侧  <br /></td></tr>
<tr class="separator:ga92eedf95d97d18a5dde5f43d96c148f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c53da794f7029070219d3e6de37d899"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga1c53da794f7029070219d3e6de37d899">xwlib_rbtree_tst_left</a>(lpc)&#160;&#160;&#160;(!<a class="el" href="group__xwos__lib__rbtree.html#ga92eedf95d97d18a5dde5f43d96c148f6">xwlib_rbtree_tst_right</a>(lpc))</td></tr>
<tr class="memdesc:ga1c53da794f7029070219d3e6de37d899"><td class="mdescLeft">&#160;</td><td class="mdescRight">测试当前lpc中的位置信息是否为左侧  <br /></td></tr>
<tr class="separator:ga1c53da794f7029070219d3e6de37d899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c25f935b75b0a79cbcf19adfc636e8d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga5c25f935b75b0a79cbcf19adfc636e8d">xwlib_rbtree_gen_lc</a>(n,  color)&#160;&#160;&#160;        ((<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)(&amp;((n)-&gt;left)) | (<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)(color))</td></tr>
<tr class="memdesc:ga5c25f935b75b0a79cbcf19adfc636e8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">生成节点左边的链指针、位置和颜色信息  <br /></td></tr>
<tr class="separator:ga5c25f935b75b0a79cbcf19adfc636e8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc2c4fbf162015fc971dd26677ec5b19"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#gafc2c4fbf162015fc971dd26677ec5b19">xwlib_rbtree_gen_rc</a>(n,  color)&#160;&#160;&#160;        ((<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)(&amp;((n)-&gt;right)) | (<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)(color) | (<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)<a class="el" href="group__xwos__lib__rbtree.html#gga24db3abd791e1b31e4147f1aea0dda5fa80511d7804ed626c9b0a6f571e69fab7">XWLIB_RBTREE_POS_RIGHT</a>)</td></tr>
<tr class="memdesc:gafc2c4fbf162015fc971dd26677ec5b19"><td class="mdescLeft">&#160;</td><td class="mdescRight">生成节点右边的链指针、位置和颜色信息  <br /></td></tr>
<tr class="separator:gafc2c4fbf162015fc971dd26677ec5b19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga51fb1ab093e073c1b48dc0ce9c77424e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga51fb1ab093e073c1b48dc0ce9c77424e">xwlib_rbtree_gen_lr</a>(n)&#160;&#160;&#160;<a class="el" href="group__xwos__lib__rbtree.html#ga5c25f935b75b0a79cbcf19adfc636e8d">xwlib_rbtree_gen_lc</a>((n), <a class="el" href="group__xwos__lib__rbtree.html#gga467e395cb91757101b795f111050319ca215871cabd271f8dc162ee0504a3e7ac">XWLIB_RBTREE_COLOR_RED</a>)</td></tr>
<tr class="memdesc:ga51fb1ab093e073c1b48dc0ce9c77424e"><td class="mdescLeft">&#160;</td><td class="mdescRight">生成节点左边的链指针、位置和红色信息  <br /></td></tr>
<tr class="separator:ga51fb1ab093e073c1b48dc0ce9c77424e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae376e9a0f91a3d3db136ce39b8ef367b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#gae376e9a0f91a3d3db136ce39b8ef367b">xwlib_rbtree_gen_lb</a>(n)&#160;&#160;&#160;<a class="el" href="group__xwos__lib__rbtree.html#ga5c25f935b75b0a79cbcf19adfc636e8d">xwlib_rbtree_gen_lc</a>((n), <a class="el" href="group__xwos__lib__rbtree.html#gga467e395cb91757101b795f111050319ca960c9838798d56964ca2cc6127e1a999">XWLIB_RBTREE_COLOR_BLACK</a>)</td></tr>
<tr class="memdesc:gae376e9a0f91a3d3db136ce39b8ef367b"><td class="mdescLeft">&#160;</td><td class="mdescRight">生成节点左边的链指针、位置和红色信息  <br /></td></tr>
<tr class="separator:gae376e9a0f91a3d3db136ce39b8ef367b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c1fcedb5c3fde622b548379204e4098"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga5c1fcedb5c3fde622b548379204e4098">xwlib_rbtree_gen_rr</a>(n)&#160;&#160;&#160;<a class="el" href="group__xwos__lib__rbtree.html#gafc2c4fbf162015fc971dd26677ec5b19">xwlib_rbtree_gen_rc</a>((n), <a class="el" href="group__xwos__lib__rbtree.html#gga467e395cb91757101b795f111050319ca215871cabd271f8dc162ee0504a3e7ac">XWLIB_RBTREE_COLOR_RED</a>)</td></tr>
<tr class="memdesc:ga5c1fcedb5c3fde622b548379204e4098"><td class="mdescLeft">&#160;</td><td class="mdescRight">生成节点右边的链指针、位置和红色信息  <br /></td></tr>
<tr class="separator:ga5c1fcedb5c3fde622b548379204e4098"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga818302da6a6e566fc652f0da63fb2d15"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga818302da6a6e566fc652f0da63fb2d15">xwlib_rbtree_gen_rb</a>(n)&#160;&#160;&#160;<a class="el" href="group__xwos__lib__rbtree.html#gafc2c4fbf162015fc971dd26677ec5b19">xwlib_rbtree_gen_rc</a>((n), <a class="el" href="group__xwos__lib__rbtree.html#gga467e395cb91757101b795f111050319ca960c9838798d56964ca2cc6127e1a999">XWLIB_RBTREE_COLOR_BLACK</a>)</td></tr>
<tr class="memdesc:ga818302da6a6e566fc652f0da63fb2d15"><td class="mdescLeft">&#160;</td><td class="mdescRight">生成节点右边的链指针、位置和红色信息  <br /></td></tr>
<tr class="separator:ga818302da6a6e566fc652f0da63fb2d15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga753430d9b81161df27b7fa2ff540ee86"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga753430d9b81161df27b7fa2ff540ee86">xwlib_rbtree_get_color</a>(lpc)&#160;&#160;&#160;(((<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)(lpc)) &amp; (<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)2UL)</td></tr>
<tr class="memdesc:ga753430d9b81161df27b7fa2ff540ee86"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取lpc信息中的颜色信息  <br /></td></tr>
<tr class="separator:ga753430d9b81161df27b7fa2ff540ee86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd781d7c569eb6e8fea3f789c797c740"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#gadd781d7c569eb6e8fea3f789c797c740">xwlib_rbtree_tst_black</a>(lpc)&#160;&#160;&#160;(!!<a class="el" href="group__xwos__lib__rbtree.html#ga753430d9b81161df27b7fa2ff540ee86">xwlib_rbtree_get_color</a>(lpc))</td></tr>
<tr class="memdesc:gadd781d7c569eb6e8fea3f789c797c740"><td class="mdescLeft">&#160;</td><td class="mdescRight">测试当前lpc中的颜色信息是否为黑色  <br /></td></tr>
<tr class="separator:gadd781d7c569eb6e8fea3f789c797c740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga299661aeef70eaa3e8ae1c6205f93fea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga299661aeef70eaa3e8ae1c6205f93fea">xwlib_rbtree_tst_red</a>(lpc)&#160;&#160;&#160;(!<a class="el" href="group__xwos__lib__rbtree.html#ga753430d9b81161df27b7fa2ff540ee86">xwlib_rbtree_get_color</a>(lpc))</td></tr>
<tr class="memdesc:ga299661aeef70eaa3e8ae1c6205f93fea"><td class="mdescLeft">&#160;</td><td class="mdescRight">测试当前lpc中的颜色信息是否为红色  <br /></td></tr>
<tr class="separator:ga299661aeef70eaa3e8ae1c6205f93fea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac30e6ddb8969df315ef5bad0d3276852"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#gac30e6ddb8969df315ef5bad0d3276852">xwlib_rbtree_entry</a>(ptr,  type,  member)&#160;&#160;&#160;<a class="el" href="group__xwos__lib__compiler.html#ga99121e5273969037cced18688d922eb5">xwcc_derof</a>((ptr), type, member)</td></tr>
<tr class="memdesc:gac30e6ddb8969df315ef5bad0d3276852"><td class="mdescLeft">&#160;</td><td class="mdescRight">从红黑树节点指针值计算出包含该节点成员的外层结构体的指针值  <br /></td></tr>
<tr class="separator:gac30e6ddb8969df315ef5bad0d3276852"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
枚举</h2></td></tr>
<tr class="memitem:ga24db3abd791e1b31e4147f1aea0dda5f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga24db3abd791e1b31e4147f1aea0dda5f">xwlib_rbtree_pos_em</a> { <a class="el" href="group__xwos__lib__rbtree.html#gga24db3abd791e1b31e4147f1aea0dda5fac6171834e7a6ec737714e05657caa4b7">XWLIB_RBTREE_POS_LEFT</a> = 0
, <a class="el" href="group__xwos__lib__rbtree.html#gga24db3abd791e1b31e4147f1aea0dda5fa80511d7804ed626c9b0a6f571e69fab7">XWLIB_RBTREE_POS_RIGHT</a> = 1
 }</td></tr>
<tr class="memdesc:ga24db3abd791e1b31e4147f1aea0dda5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">红黑树节点位置枚举  <a href="group__xwos__lib__rbtree.html#ga24db3abd791e1b31e4147f1aea0dda5f">更多...</a><br /></td></tr>
<tr class="separator:ga24db3abd791e1b31e4147f1aea0dda5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga467e395cb91757101b795f111050319c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga467e395cb91757101b795f111050319c">xwlib_rbtree_color_em</a> { <a class="el" href="group__xwos__lib__rbtree.html#gga467e395cb91757101b795f111050319ca215871cabd271f8dc162ee0504a3e7ac">XWLIB_RBTREE_COLOR_RED</a> = 0
, <a class="el" href="group__xwos__lib__rbtree.html#gga467e395cb91757101b795f111050319ca960c9838798d56964ca2cc6127e1a999">XWLIB_RBTREE_COLOR_BLACK</a> = 2
 }</td></tr>
<tr class="memdesc:ga467e395cb91757101b795f111050319c"><td class="mdescLeft">&#160;</td><td class="mdescRight">红黑树节点颜色枚举  <a href="group__xwos__lib__rbtree.html#ga467e395cb91757101b795f111050319c">更多...</a><br /></td></tr>
<tr class="separator:ga467e395cb91757101b795f111050319c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:gaa16ae22ddc5595638dd19df6154f4bb6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#gaa16ae22ddc5595638dd19df6154f4bb6">xwlib_rbtree_init</a> (struct <a class="el" href="structxwlib__rbtree.html">xwlib_rbtree</a> *rbt)</td></tr>
<tr class="memdesc:gaa16ae22ddc5595638dd19df6154f4bb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">初始化红黑树  <br /></td></tr>
<tr class="separator:gaa16ae22ddc5595638dd19df6154f4bb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga528f2863f2774a2f948db55c73ce6ee7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga528f2863f2774a2f948db55c73ce6ee7">xwlib_rbtree_init_node</a> (struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *rbn)</td></tr>
<tr class="memdesc:ga528f2863f2774a2f948db55c73ce6ee7"><td class="mdescLeft">&#160;</td><td class="mdescRight">初始化红黑树节点  <br /></td></tr>
<tr class="separator:ga528f2863f2774a2f948db55c73ce6ee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e9025d3e8bade2a627001fb58251047"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga8e9025d3e8bade2a627001fb58251047">xwlib_rbtree_get_parent</a> (struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *node)</td></tr>
<tr class="memdesc:ga8e9025d3e8bade2a627001fb58251047"><td class="mdescLeft">&#160;</td><td class="mdescRight">返回节点的父节点指针  <br /></td></tr>
<tr class="separator:ga8e9025d3e8bade2a627001fb58251047"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab2c329630cce359161595f69c34ac827"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#gab2c329630cce359161595f69c34ac827">xwlib_rbtree_get_parent_from_lpc</a> (<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a> lpc)</td></tr>
<tr class="memdesc:gab2c329630cce359161595f69c34ac827"><td class="mdescLeft">&#160;</td><td class="mdescRight">从lpc信息返回父节点指针  <br /></td></tr>
<tr class="separator:gab2c329630cce359161595f69c34ac827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae795faa7d01de02b82b8d68be66a0e2e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#gae795faa7d01de02b82b8d68be66a0e2e">xwlib_rbtree_tst_root</a> (struct <a class="el" href="structxwlib__rbtree.html">xwlib_rbtree</a> *rbt, struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *node)</td></tr>
<tr class="memdesc:gae795faa7d01de02b82b8d68be66a0e2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">测试当前节点是否为根节点  <br /></td></tr>
<tr class="separator:gae795faa7d01de02b82b8d68be66a0e2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23349674f77ef164e1771a3244c766ab"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga23349674f77ef164e1771a3244c766ab">xwlib_rbtree_tst_link_root</a> (struct <a class="el" href="structxwlib__rbtree.html">xwlib_rbtree</a> *rbt, struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> **link)</td></tr>
<tr class="memdesc:ga23349674f77ef164e1771a3244c766ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">测试是否连接到根节点（是否为根节点的子节点）  <br /></td></tr>
<tr class="separator:ga23349674f77ef164e1771a3244c766ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d27937625dc93286c012da5e82945b8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga3d27937625dc93286c012da5e82945b8">xwlib_rbtree_flip_color</a> (struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *node)</td></tr>
<tr class="memdesc:ga3d27937625dc93286c012da5e82945b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">反转节点的颜色  <br /></td></tr>
<tr class="separator:ga3d27937625dc93286c012da5e82945b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga692ff81d9c30fac79a823c5c2ff2357d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga692ff81d9c30fac79a823c5c2ff2357d">xwlib_rbtree_set_black</a> (struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *node)</td></tr>
<tr class="memdesc:ga692ff81d9c30fac79a823c5c2ff2357d"><td class="mdescLeft">&#160;</td><td class="mdescRight">将节点设置为黑色  <br /></td></tr>
<tr class="separator:ga692ff81d9c30fac79a823c5c2ff2357d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b22d492211a5b38af47e3e37c637bb4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga7b22d492211a5b38af47e3e37c637bb4">xwlib_rbtree_set_red</a> (struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *node)</td></tr>
<tr class="memdesc:ga7b22d492211a5b38af47e3e37c637bb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">将节点设置为红色  <br /></td></tr>
<tr class="separator:ga7b22d492211a5b38af47e3e37c637bb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaef7f6608cd37a0fb765adb003428ec38"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#gaef7f6608cd37a0fb765adb003428ec38">xwlib_rbtree_link</a> (struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *node, <a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a> lpc)</td></tr>
<tr class="memdesc:gaef7f6608cd37a0fb765adb003428ec38"><td class="mdescLeft">&#160;</td><td class="mdescRight">链接节点，并设置位置及颜色信息  <br /></td></tr>
<tr class="separator:gaef7f6608cd37a0fb765adb003428ec38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03641846bfafb5ec6aa9a3c3c84dec45"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga03641846bfafb5ec6aa9a3c3c84dec45">xwlib_rbtree_link_nil</a> (struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> **link)</td></tr>
<tr class="memdesc:ga03641846bfafb5ec6aa9a3c3c84dec45"><td class="mdescLeft">&#160;</td><td class="mdescRight">链接空（叶子）节点  <br /></td></tr>
<tr class="separator:ga03641846bfafb5ec6aa9a3c3c84dec45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ab9f5ca352e17db3344c728d51f4dbf"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga3ab9f5ca352e17db3344c728d51f4dbf">xwlib_rbtree_get_predecessor</a> (struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *node)</td></tr>
<tr class="memdesc:ga3ab9f5ca352e17db3344c728d51f4dbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">返回节点的前趋节点  <br /></td></tr>
<tr class="separator:ga3ab9f5ca352e17db3344c728d51f4dbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2502fed0a895591911885bd8725de911"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga2502fed0a895591911885bd8725de911">xwlib_rbtree_get_successor</a> (struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *node)</td></tr>
<tr class="memdesc:ga2502fed0a895591911885bd8725de911"><td class="mdescLeft">&#160;</td><td class="mdescRight">返回节点的后继节点  <br /></td></tr>
<tr class="separator:ga2502fed0a895591911885bd8725de911"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b281445f2079f235077400ee79f15ea"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga7b281445f2079f235077400ee79f15ea">xwlib_rbtree_transplant</a> (struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *newn, struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *oldn)</td></tr>
<tr class="memdesc:ga7b281445f2079f235077400ee79f15ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">用新节点代替旧节点并继承它的链指针、颜色和位置信息， 但新节点并不接管旧节点的子节点  <br /></td></tr>
<tr class="separator:ga7b281445f2079f235077400ee79f15ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga42f6822125f499ac53a278462009b0ee"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga42f6822125f499ac53a278462009b0ee">xwlib_rbtree_transplant_nil</a> (struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *oldn)</td></tr>
<tr class="memdesc:ga42f6822125f499ac53a278462009b0ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">用叶子(NIL)替换一个旧节点  <br /></td></tr>
<tr class="separator:ga42f6822125f499ac53a278462009b0ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d7a78a792db32bf139e0346e108a955"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga5d7a78a792db32bf139e0346e108a955">xwlib_rbtree_tst_empty</a> (struct <a class="el" href="structxwlib__rbtree.html">xwlib_rbtree</a> *t)</td></tr>
<tr class="memdesc:ga5d7a78a792db32bf139e0346e108a955"><td class="mdescLeft">&#160;</td><td class="mdescRight">测试一棵红黑树是否为空树  <br /></td></tr>
<tr class="separator:ga5d7a78a792db32bf139e0346e108a955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga34948173cd9da4b654370873eb4f73d6"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#ga34948173cd9da4b654370873eb4f73d6">xwlib_rbtree_tst_node_unlinked</a> (struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *n)</td></tr>
<tr class="memdesc:ga34948173cd9da4b654370873eb4f73d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">测试红黑树节点是否已经链接到红黑树中  <br /></td></tr>
<tr class="separator:ga34948173cd9da4b654370873eb4f73d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa09f90f7792b00240a3cecef84946d88"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#gaa09f90f7792b00240a3cecef84946d88">xwlib_rbtree_insert_color</a> (struct <a class="el" href="structxwlib__rbtree.html">xwlib_rbtree</a> *tree, struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *node)</td></tr>
<tr class="memdesc:gaa09f90f7792b00240a3cecef84946d88"><td class="mdescLeft">&#160;</td><td class="mdescRight">插入一个红色节点后修正红黑树的颜色  <br /></td></tr>
<tr class="separator:gaa09f90f7792b00240a3cecef84946d88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac57fdaeef6a9dc2ee2bedbf5ac885f96"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#gac57fdaeef6a9dc2ee2bedbf5ac885f96">xwlib_rbtree_remove</a> (struct <a class="el" href="structxwlib__rbtree.html">xwlib_rbtree</a> *tree, struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *node)</td></tr>
<tr class="memdesc:gac57fdaeef6a9dc2ee2bedbf5ac885f96"><td class="mdescLeft">&#160;</td><td class="mdescRight">删除一个节点，并修正红黑树的颜色  <br /></td></tr>
<tr class="separator:gac57fdaeef6a9dc2ee2bedbf5ac885f96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8646036885c32c8a323c5b8169603fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xwos__lib__rbtree.html#gaf8646036885c32c8a323c5b8169603fd">xwlib_rbtree_replace</a> (struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *newn, struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *oldn)</td></tr>
<tr class="memdesc:gaf8646036885c32c8a323c5b8169603fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">用一个新节点代替旧节点，继承它的颜色、位置信息并接管它的子树  <br /></td></tr>
<tr class="separator:gaf8646036885c32c8a323c5b8169603fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<h2><a class="anchor" id="autotoc_md101"></a>
红黑树性质</h2>
<ul>
<li>1. 节点不是红色就是黑色；</li>
<li>2. 根节点是黑色；</li>
<li>3. 所有的叶子都是黑色；</li>
<li>4. 每个红色的节点，如果有子节点，必须是黑色；</li>
<li>5. 从任意节点到其任意子树的叶子的路径上，所包含的黑色节点数量相同。</li>
</ul>
<h2><a class="anchor" id="autotoc_md102"></a>
本算法的特点</h2>
<p>和传统的红黑树算法不同，本算法实现时比较有技巧性。</p>
<ul>
<li>高效地查找父节点<ul>
<li>在每个节点中引入一个 <b>链指针</b> ，目的是能快速找到父节点的地址。<ul>
<li><b>链指针</b> 是一个双重指针，指向本节点在父节点上连接的位置，通过 <b>链指针</b> 可快速计算出父节点的地址。而传统二叉树的实现查找父节点时需要进行遍历。</li>
</ul>
</li>
<li>实现<ul>
<li><code><a class="el" href="group__xwos__lib__rbtree.html#ga8e9025d3e8bade2a627001fb58251047" title="返回节点的父节点指针">xwlib_rbtree_get_parent()</a></code></li>
<li><code><a class="el" href="group__xwos__lib__rbtree.html#gab2c329630cce359161595f69c34ac827" title="从lpc信息返回父节点指针">xwlib_rbtree_get_parent_from_lpc()</a></code></li>
</ul>
</li>
</ul>
</li>
<li>节省内存<ul>
<li>由于强制约定节点的内存地址必须按 <code>sizeof(void *)</code> 对齐， 节点结构体内部三个指针成员肯定也是按照 <code>sizeof(void *)</code> 对齐的， 也就是说它们的地址的低两位必定为 <code>0b00</code> 。</li>
<li>使用 <b>链指针</b> 指向 <code>left</code> 或 <code>right</code> 时， <b>链指针</b> 在数值上的低两位必定为 <code>0b00</code> 。</li>
<li><b>链指针</b> 这两个空闲的位可用来存放 <b>位置(pos)</b> 和 <b>颜色(color)</b> 信息。</li>
<li><b>链指针</b> 、 <b>位置(pos)</b> 和 <b>颜色(color)</b> 统一被称为 <b>lpc</b> 。</li>
</ul>
</li>
<li>高通用性<ul>
<li>用户可将红黑树的节点结构体 <code><a class="el" href="structxwlib__rbtree__node.html" title="红黑树节点">xwlib_rbtree_node</a></code> 嵌入到自己的结构体中来使用本算法。 已知红黑树节点的指针，可通过 <a class="el" href="group__xwos__lib__rbtree.html#gac30e6ddb8969df315ef5bad0d3276852">xwlib_rbtree_entry()</a> 来计算用户结构体的指针。</li>
<li>用户需要自己实现二叉树的查找、插入和删除方法：<ul>
<li>查找：可以参考 <a class="el" href="group__xwos__lib__map.html#ga80d17f38d304e7b7d6b2046c54120867">xwlib_map_find()</a> 。用户需要自己实现遍历的循环。</li>
<li>插入：可以参考 <a class="el" href="group__xwos__lib__map.html#ga99035462773a66c0872014a1419193f5">xwlib_map_insert()</a> 。用户需要自己实现遍历的循环， 插入后，可通过 <code><a class="el" href="group__xwos__lib__rbtree.html#gaa09f90f7792b00240a3cecef84946d88" title="插入一个红色节点后修正红黑树的颜色">xwlib_rbtree_insert_color()</a></code> 调整红黑树颜色。</li>
<li>删除：可以参考 <a class="el" href="group__xwos__lib__map.html#gae0a9e603da5733ebdf899a7969227cf8">xwlib_map_erase()</a> 。 使用 <code><a class="el" href="group__xwos__lib__rbtree.html#gac57fdaeef6a9dc2ee2bedbf5ac885f96" title="删除一个节点，并修正红黑树的颜色">xwlib_rbtree_remove()</a></code> 来删除节点。 </li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="groupheader">宏定义说明</h2>
<a id="gac30e6ddb8969df315ef5bad0d3276852" name="gac30e6ddb8969df315ef5bad0d3276852"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac30e6ddb8969df315ef5bad0d3276852">&#9670;&#160;</a></span>xwlib_rbtree_entry</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xwlib_rbtree_entry</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">member&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group__xwos__lib__compiler.html#ga99121e5273969037cced18688d922eb5">xwcc_derof</a>((ptr), type, member)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>从红黑树节点指针值计算出包含该节点成员的外层结构体的指针值 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ptr</td><td>红黑树节点指针 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>外层结构体类型 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">member</td><td>红黑树节点在外层结构体中的成员符号名(symbol) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00236">236</a> 行定义.</p>

</div>
</div>
<a id="gae376e9a0f91a3d3db136ce39b8ef367b" name="gae376e9a0f91a3d3db136ce39b8ef367b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae376e9a0f91a3d3db136ce39b8ef367b">&#9670;&#160;</a></span>xwlib_rbtree_gen_lb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xwlib_rbtree_gen_lb</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__xwos__lib__rbtree.html#ga5c25f935b75b0a79cbcf19adfc636e8d">xwlib_rbtree_gen_lc</a>((n), <a class="el" href="group__xwos__lib__rbtree.html#gga467e395cb91757101b795f111050319ca960c9838798d56964ca2cc6127e1a999">XWLIB_RBTREE_COLOR_BLACK</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>生成节点左边的链指针、位置和红色信息 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>节点指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>指向节点左边的链指针、位置和黑色信息 </dd></dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00191">191</a> 行定义.</p>

</div>
</div>
<a id="ga5c25f935b75b0a79cbcf19adfc636e8d" name="ga5c25f935b75b0a79cbcf19adfc636e8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5c25f935b75b0a79cbcf19adfc636e8d">&#9670;&#160;</a></span>xwlib_rbtree_gen_lc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xwlib_rbtree_gen_lc</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">color&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;        ((<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)(&amp;((n)-&gt;left)) | (<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)(color))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>生成节点左边的链指针、位置和颜色信息 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>父节点指针 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">color</td><td>颜色 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>指向节点左边的链指针、位置和颜色信息 </dd></dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00167">167</a> 行定义.</p>

</div>
</div>
<a id="ga51fb1ab093e073c1b48dc0ce9c77424e" name="ga51fb1ab093e073c1b48dc0ce9c77424e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga51fb1ab093e073c1b48dc0ce9c77424e">&#9670;&#160;</a></span>xwlib_rbtree_gen_lr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xwlib_rbtree_gen_lr</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__xwos__lib__rbtree.html#ga5c25f935b75b0a79cbcf19adfc636e8d">xwlib_rbtree_gen_lc</a>((n), <a class="el" href="group__xwos__lib__rbtree.html#gga467e395cb91757101b795f111050319ca215871cabd271f8dc162ee0504a3e7ac">XWLIB_RBTREE_COLOR_RED</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>生成节点左边的链指针、位置和红色信息 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>节点指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>指向节点左边的链指针、位置和红色信息 </dd></dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00184">184</a> 行定义.</p>

</div>
</div>
<a id="ga818302da6a6e566fc652f0da63fb2d15" name="ga818302da6a6e566fc652f0da63fb2d15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga818302da6a6e566fc652f0da63fb2d15">&#9670;&#160;</a></span>xwlib_rbtree_gen_rb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xwlib_rbtree_gen_rb</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__xwos__lib__rbtree.html#gafc2c4fbf162015fc971dd26677ec5b19">xwlib_rbtree_gen_rc</a>((n), <a class="el" href="group__xwos__lib__rbtree.html#gga467e395cb91757101b795f111050319ca960c9838798d56964ca2cc6127e1a999">XWLIB_RBTREE_COLOR_BLACK</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>生成节点右边的链指针、位置和红色信息 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>节点指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>指向节点右边的链指针、位置和黑色信息 </dd></dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00205">205</a> 行定义.</p>

</div>
</div>
<a id="gafc2c4fbf162015fc971dd26677ec5b19" name="gafc2c4fbf162015fc971dd26677ec5b19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafc2c4fbf162015fc971dd26677ec5b19">&#9670;&#160;</a></span>xwlib_rbtree_gen_rc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xwlib_rbtree_gen_rc</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">color&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;        ((<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)(&amp;((n)-&gt;right)) | (<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)(color) | (<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)<a class="el" href="group__xwos__lib__rbtree.html#gga24db3abd791e1b31e4147f1aea0dda5fa80511d7804ed626c9b0a6f571e69fab7">XWLIB_RBTREE_POS_RIGHT</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>生成节点右边的链指针、位置和颜色信息 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>父节点指针 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">color</td><td>颜色 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>指向节点右边的链指针、位置和颜色信息 </dd></dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00176">176</a> 行定义.</p>

</div>
</div>
<a id="ga5c1fcedb5c3fde622b548379204e4098" name="ga5c1fcedb5c3fde622b548379204e4098"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5c1fcedb5c3fde622b548379204e4098">&#9670;&#160;</a></span>xwlib_rbtree_gen_rr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xwlib_rbtree_gen_rr</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">n</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__xwos__lib__rbtree.html#gafc2c4fbf162015fc971dd26677ec5b19">xwlib_rbtree_gen_rc</a>((n), <a class="el" href="group__xwos__lib__rbtree.html#gga467e395cb91757101b795f111050319ca215871cabd271f8dc162ee0504a3e7ac">XWLIB_RBTREE_COLOR_RED</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>生成节点右边的链指针、位置和红色信息 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>节点指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>指向节点右边的链指针、位置和红色信息 </dd></dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00198">198</a> 行定义.</p>

</div>
</div>
<a id="ga753430d9b81161df27b7fa2ff540ee86" name="ga753430d9b81161df27b7fa2ff540ee86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga753430d9b81161df27b7fa2ff540ee86">&#9670;&#160;</a></span>xwlib_rbtree_get_color</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xwlib_rbtree_get_color</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lpc</td><td>)</td>
          <td>&#160;&#160;&#160;(((<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)(lpc)) &amp; (<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)2UL)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取lpc信息中的颜色信息 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lpc</td><td>链指针，位置，颜色的合并值 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>颜色信息 </dd></dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00212">212</a> 行定义.</p>

</div>
</div>
<a id="ga55c3b92f4fbb4b8b429f2f2fa62697f7" name="ga55c3b92f4fbb4b8b429f2f2fa62697f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga55c3b92f4fbb4b8b429f2f2fa62697f7">&#9670;&#160;</a></span>xwlib_rbtree_get_link</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xwlib_rbtree_get_link</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lpc</td><td>)</td>
          <td>&#160;&#160;&#160;        ((struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> **)(((<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)(lpc)) &amp; (~((<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)3UL))))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取lpc信息中的link指针 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lpc</td><td>链指针，位置，颜色的合并值 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>链指针 </dd></dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00126">126</a> 行定义.</p>

</div>
</div>
<a id="ga017bd2d836367eff3d94ecb402fa4e62" name="ga017bd2d836367eff3d94ecb402fa4e62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga017bd2d836367eff3d94ecb402fa4e62">&#9670;&#160;</a></span>xwlib_rbtree_get_lnpos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xwlib_rbtree_get_lnpos</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lpc</td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)(lpc) &amp; (~((<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)2UL)))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取lpc信息中的link指针和位置信息（屏蔽颜色信息） </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lpc</td><td>链指针，位置，颜色的合并值 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>链指针和位置信息 </dd></dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00134">134</a> 行定义.</p>

</div>
</div>
<a id="ga7c77def947c164324809a41db5c54ec3" name="ga7c77def947c164324809a41db5c54ec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7c77def947c164324809a41db5c54ec3">&#9670;&#160;</a></span>xwlib_rbtree_get_pos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xwlib_rbtree_get_pos</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lpc</td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)(((<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)(lpc)) &amp; (<a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)1UL))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取lpc信息中的位置信息 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lpc</td><td>链指针，位置，颜色的合并值 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>位置信息 </dd></dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00141">141</a> 行定义.</p>

</div>
</div>
<a id="gadd781d7c569eb6e8fea3f789c797c740" name="gadd781d7c569eb6e8fea3f789c797c740"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadd781d7c569eb6e8fea3f789c797c740">&#9670;&#160;</a></span>xwlib_rbtree_tst_black</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xwlib_rbtree_tst_black</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lpc</td><td>)</td>
          <td>&#160;&#160;&#160;(!!<a class="el" href="group__xwos__lib__rbtree.html#ga753430d9b81161df27b7fa2ff540ee86">xwlib_rbtree_get_color</a>(lpc))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>测试当前lpc中的颜色信息是否为黑色 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lpc</td><td>链指针，位置，颜色的合并值 </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>是 </td></tr>
    <tr><td class="paramname">false</td><td>否 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00220">220</a> 行定义.</p>

</div>
</div>
<a id="ga1c53da794f7029070219d3e6de37d899" name="ga1c53da794f7029070219d3e6de37d899"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1c53da794f7029070219d3e6de37d899">&#9670;&#160;</a></span>xwlib_rbtree_tst_left</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xwlib_rbtree_tst_left</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lpc</td><td>)</td>
          <td>&#160;&#160;&#160;(!<a class="el" href="group__xwos__lib__rbtree.html#ga92eedf95d97d18a5dde5f43d96c148f6">xwlib_rbtree_tst_right</a>(lpc))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>测试当前lpc中的位置信息是否为左侧 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lpc</td><td>链指针，位置，颜色的合并值 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>布尔值 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>是 </td></tr>
    <tr><td class="paramname">false</td><td>否 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00159">159</a> 行定义.</p>

</div>
</div>
<a id="ga299661aeef70eaa3e8ae1c6205f93fea" name="ga299661aeef70eaa3e8ae1c6205f93fea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga299661aeef70eaa3e8ae1c6205f93fea">&#9670;&#160;</a></span>xwlib_rbtree_tst_red</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xwlib_rbtree_tst_red</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lpc</td><td>)</td>
          <td>&#160;&#160;&#160;(!<a class="el" href="group__xwos__lib__rbtree.html#ga753430d9b81161df27b7fa2ff540ee86">xwlib_rbtree_get_color</a>(lpc))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>测试当前lpc中的颜色信息是否为红色 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lpc</td><td>链指针，位置，颜色的合并值 </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>是 </td></tr>
    <tr><td class="paramname">false</td><td>否 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00228">228</a> 行定义.</p>

</div>
</div>
<a id="ga92eedf95d97d18a5dde5f43d96c148f6" name="ga92eedf95d97d18a5dde5f43d96c148f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga92eedf95d97d18a5dde5f43d96c148f6">&#9670;&#160;</a></span>xwlib_rbtree_tst_right</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define xwlib_rbtree_tst_right</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">lpc</td><td>)</td>
          <td>&#160;&#160;&#160;(!!<a class="el" href="group__xwos__lib__rbtree.html#ga7c77def947c164324809a41db5c54ec3">xwlib_rbtree_get_pos</a>(lpc))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>测试当前lpc中的位置信息是否为右侧 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lpc</td><td>链指针，位置，颜色的合并值 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>布尔值 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>是 </td></tr>
    <tr><td class="paramname">false</td><td>否 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00150">150</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">枚举类型说明</h2>
<a id="ga467e395cb91757101b795f111050319c" name="ga467e395cb91757101b795f111050319c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga467e395cb91757101b795f111050319c">&#9670;&#160;</a></span>xwlib_rbtree_color_em</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__xwos__lib__rbtree.html#ga467e395cb91757101b795f111050319c">xwlib_rbtree_color_em</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>红黑树节点颜色枚举 </p>
<table class="fieldtable">
<tr><th colspan="2">枚举值</th></tr><tr><td class="fieldname"><a id="gga467e395cb91757101b795f111050319ca215871cabd271f8dc162ee0504a3e7ac" name="gga467e395cb91757101b795f111050319ca215871cabd271f8dc162ee0504a3e7ac"></a>XWLIB_RBTREE_COLOR_RED&#160;</td><td class="fielddoc"><p>红色 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga467e395cb91757101b795f111050319ca960c9838798d56964ca2cc6127e1a999" name="gga467e395cb91757101b795f111050319ca960c9838798d56964ca2cc6127e1a999"></a>XWLIB_RBTREE_COLOR_BLACK&#160;</td><td class="fielddoc"><p>黑色 </p>
</td></tr>
</table>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00073">73</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">   73</span>                           {</div>
<div class="line"><span class="lineno">   74</span>        <a class="code hl_enumvalue" href="group__xwos__lib__rbtree.html#gga467e395cb91757101b795f111050319ca215871cabd271f8dc162ee0504a3e7ac">XWLIB_RBTREE_COLOR_RED</a> = 0, </div>
<div class="line"><span class="lineno">   75</span>        <a class="code hl_enumvalue" href="group__xwos__lib__rbtree.html#gga467e395cb91757101b795f111050319ca960c9838798d56964ca2cc6127e1a999">XWLIB_RBTREE_COLOR_BLACK</a> = 2, </div>
<div class="line"><span class="lineno">   76</span>};</div>
<div class="ttc" id="agroup__xwos__lib__rbtree_html_gga467e395cb91757101b795f111050319ca215871cabd271f8dc162ee0504a3e7ac"><div class="ttname"><a href="group__xwos__lib__rbtree.html#gga467e395cb91757101b795f111050319ca215871cabd271f8dc162ee0504a3e7ac">XWLIB_RBTREE_COLOR_RED</a></div><div class="ttdeci">@ XWLIB_RBTREE_COLOR_RED</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00074">rbtree.h:74</a></div></div>
<div class="ttc" id="agroup__xwos__lib__rbtree_html_gga467e395cb91757101b795f111050319ca960c9838798d56964ca2cc6127e1a999"><div class="ttname"><a href="group__xwos__lib__rbtree.html#gga467e395cb91757101b795f111050319ca960c9838798d56964ca2cc6127e1a999">XWLIB_RBTREE_COLOR_BLACK</a></div><div class="ttdeci">@ XWLIB_RBTREE_COLOR_BLACK</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00075">rbtree.h:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga24db3abd791e1b31e4147f1aea0dda5f" name="ga24db3abd791e1b31e4147f1aea0dda5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga24db3abd791e1b31e4147f1aea0dda5f">&#9670;&#160;</a></span>xwlib_rbtree_pos_em</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__xwos__lib__rbtree.html#ga24db3abd791e1b31e4147f1aea0dda5f">xwlib_rbtree_pos_em</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>红黑树节点位置枚举 </p>
<table class="fieldtable">
<tr><th colspan="2">枚举值</th></tr><tr><td class="fieldname"><a id="gga24db3abd791e1b31e4147f1aea0dda5fac6171834e7a6ec737714e05657caa4b7" name="gga24db3abd791e1b31e4147f1aea0dda5fac6171834e7a6ec737714e05657caa4b7"></a>XWLIB_RBTREE_POS_LEFT&#160;</td><td class="fielddoc"><p>左 </p>
</td></tr>
<tr><td class="fieldname"><a id="gga24db3abd791e1b31e4147f1aea0dda5fa80511d7804ed626c9b0a6f571e69fab7" name="gga24db3abd791e1b31e4147f1aea0dda5fa80511d7804ed626c9b0a6f571e69fab7"></a>XWLIB_RBTREE_POS_RIGHT&#160;</td><td class="fielddoc"><p>右 </p>
</td></tr>
</table>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00065">65</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">   65</span>                         {</div>
<div class="line"><span class="lineno">   66</span>        <a class="code hl_enumvalue" href="group__xwos__lib__rbtree.html#gga24db3abd791e1b31e4147f1aea0dda5fac6171834e7a6ec737714e05657caa4b7">XWLIB_RBTREE_POS_LEFT</a> = 0, </div>
<div class="line"><span class="lineno">   67</span>        <a class="code hl_enumvalue" href="group__xwos__lib__rbtree.html#gga24db3abd791e1b31e4147f1aea0dda5fa80511d7804ed626c9b0a6f571e69fab7">XWLIB_RBTREE_POS_RIGHT</a> = 1, </div>
<div class="line"><span class="lineno">   68</span>};</div>
<div class="ttc" id="agroup__xwos__lib__rbtree_html_gga24db3abd791e1b31e4147f1aea0dda5fa80511d7804ed626c9b0a6f571e69fab7"><div class="ttname"><a href="group__xwos__lib__rbtree.html#gga24db3abd791e1b31e4147f1aea0dda5fa80511d7804ed626c9b0a6f571e69fab7">XWLIB_RBTREE_POS_RIGHT</a></div><div class="ttdeci">@ XWLIB_RBTREE_POS_RIGHT</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00067">rbtree.h:67</a></div></div>
<div class="ttc" id="agroup__xwos__lib__rbtree_html_gga24db3abd791e1b31e4147f1aea0dda5fac6171834e7a6ec737714e05657caa4b7"><div class="ttname"><a href="group__xwos__lib__rbtree.html#gga24db3abd791e1b31e4147f1aea0dda5fac6171834e7a6ec737714e05657caa4b7">XWLIB_RBTREE_POS_LEFT</a></div><div class="ttdeci">@ XWLIB_RBTREE_POS_LEFT</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00066">rbtree.h:66</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">函数说明</h2>
<a id="ga3d27937625dc93286c012da5e82945b8" name="ga3d27937625dc93286c012da5e82945b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d27937625dc93286c012da5e82945b8">&#9670;&#160;</a></span>xwlib_rbtree_flip_color()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void xwlib_rbtree_flip_color </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>反转节点的颜色 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">node</td><td>红黑树节点指针 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00319">319</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  320</span>{</div>
<div class="line"><span class="lineno">  321</span>        node-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#a4f10043d87e11f0bb0b1a9ff4f398177">color</a> ^= (<a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)2UL;</div>
<div class="line"><span class="lineno">  322</span>}</div>
<div class="ttc" id="agroup__xwos__lib__type_html_gacef49946313c8d1985a8279bb40e31c4"><div class="ttname"><a href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a></div><div class="ttdeci">unsigned long xwptr_t</div><div class="ttdef"><b>Definition</b> <a href="type_8h_source.html#l00375">type.h:375</a></div></div>
<div class="ttc" id="astructxwlib__rbtree__node_html_a4f10043d87e11f0bb0b1a9ff4f398177"><div class="ttname"><a href="structxwlib__rbtree__node.html#a4f10043d87e11f0bb0b1a9ff4f398177">xwlib_rbtree_node::color</a></div><div class="ttdeci">xwptr_t color</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00087">rbtree.h:87</a></div></div>
<div class="ttc" id="astructxwlib__rbtree__node_html_af6c8abb6b11cbe0764c96cf85ed6db82"><div class="ttname"><a href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">xwlib_rbtree_node::lpc</a></div><div class="ttdeci">union xwlib_rbtree_node::@5 lpc</div></div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__lib__rbtree_ga3d27937625dc93286c012da5e82945b8_icgraph.png" border="0" usemap="#agroup__xwos__lib__rbtree_ga3d27937625dc93286c012da5e82945b8_icgraph" alt=""/></div>
<map name="agroup__xwos__lib__rbtree_ga3d27937625dc93286c012da5e82945b8_icgraph" id="agroup__xwos__lib__rbtree_ga3d27937625dc93286c012da5e82945b8_icgraph">
<area shape="rect" title="反转节点的颜色" alt="" coords="2435,112,2585,137"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#gaa09f90f7792b00240a3cecef84946d88" title="插入一个红色节点后修正红黑树的颜色" alt="" coords="2250,47,2381,87"/>
<area shape="poly" title=" " alt="" coords="2452,111,2380,89,2381,84,2454,106"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#gac57fdaeef6a9dc2ee2bedbf5ac885f96" title="删除一个节点，并修正红黑树的颜色" alt="" coords="2244,140,2387,165"/>
<area shape="poly" title=" " alt="" coords="2421,140,2387,145,2387,140,2421,135"/>
<area shape="rect" href="group__xwos__lib__map.html#ga99035462773a66c0872014a1419193f5" title="插入键值对容器" alt="" coords="2015,5,2138,31"/>
<area shape="poly" title=" " alt="" coords="2236,53,2195,45,2138,33,2139,27,2197,39,2237,48"/>
<area shape="rect" href="page_8c.html#adc418491ba0dd770fa96b845e96722d9" title="增加页到阶红黑树中" alt="" coords="1957,55,2196,80"/>
<area shape="poly" title=" " alt="" coords="2236,70,2196,70,2196,65,2236,65"/>
<area shape="rect" href="group__xwmm__mempool.html#gaeac7d28f7509e0c764b9f995ebd45f12" title="XWMM API：初始化页分配器" alt="" coords="909,65,1145,91"/>
<area shape="poly" title=" " alt="" coords="1984,55,1833,36,1636,20,1527,16,1415,16,1303,21,1194,33,1123,48,1063,68,1061,63,1122,43,1193,27,1303,16,1415,10,1527,10,1636,14,1834,31,1985,50"/>
<area shape="rect" href="page_8c.html#a8e9302d65eea335934b13f63caea64aa" title="合并空闲的伙伴页" alt="" coords="1687,111,1899,136"/>
<area shape="poly" title=" " alt="" coords="1999,85,1859,113,1858,108,1998,80"/>
<area shape="rect" href="page_8c.html#a6385524c294a6af40c2ea0ff315d60fd" title="将大的页拆分成小的页" alt="" coords="1677,57,1909,83"/>
<area shape="poly" title=" " alt="" coords="1944,71,1910,72,1910,66,1944,66"/>
<area shape="rect" href="allocator_8c.html#a6e1f6748cc378d09e931897b69231d0d" title="构建内存池" alt="" coords="199,143,381,168"/>
<area shape="poly" title=" " alt="" coords="896,94,382,148,381,143,895,89"/>
<area shape="rect" href="group__xwmm__mempool.html#gaad8340a12043c383e489a786788e89af" title="XWMM API：初始化内存池" alt="" coords="5,143,151,168"/>
<area shape="poly" title=" " alt="" coords="184,158,151,158,151,153,184,153"/>
<area shape="rect" href="group__xwmm__mempool.html#ga52f11e08dc37a0cc72717169b6ae4131" title="XWMM API：释放一页内存" alt="" coords="1433,111,1618,136"/>
<area shape="poly" title=" " alt="" coords="1674,126,1618,126,1618,121,1674,121"/>
<area shape="rect" href="objcache_8c.html#a21221e21cca4abbdfc36138c1cecb3f5" title="释放空闲页" alt="" coords="1193,170,1373,210"/>
<area shape="poly" title=" " alt="" coords="1466,142,1358,172,1356,167,1465,137"/>
<area shape="rect" href="page_8c.html#a4fff326383599e57562dd2d1bd8dbc2b" title="i_allocator接口函数：释放内存" alt="" coords="1200,42,1367,82"/>
<area shape="poly" title=" " alt="" coords="1461,110,1362,85,1364,79,1462,105"/>
<area shape="rect" href="group__xwmm__mempool.html#gae7d39e7ba00cc3926284e6ba8775121b" title="XWMM API：释放对象到对象缓存中" alt="" coords="923,171,1132,196"/>
<area shape="poly" title=" " alt="" coords="1179,190,1132,189,1132,183,1180,185"/>
<area shape="rect" href="group__xwmm__mempool.html#gaa72ed546dbddbbb8dd035c01c6334a24" title="XWMM API：预留对象到对象缓存中" alt="" coords="937,221,1117,261"/>
<area shape="poly" title=" " alt="" coords="1180,213,1118,226,1117,220,1179,208"/>
<area shape="rect" href="objcache_8c.html#a7214f0b448c3680b68f84d3bb6d7155a" title="i_allocator接口函数：释放内存" alt="" coords="681,163,861,203"/>
<area shape="poly" title=" " alt="" coords="909,186,862,186,862,181,909,181"/>
<area shape="rect" href="group__xwmm__mempool.html#ga15d8fc6d72d2ef920927bd6702174c3a" title="XWMM API：初始化对象缓存" alt="" coords="429,171,633,196"/>
<area shape="poly" title=" " alt="" coords="668,186,634,186,634,181,668,181"/>
<area shape="poly" title=" " alt="" coords="415,173,381,169,382,163,416,167"/>
<area shape="poly" title=" " alt="" coords="1186,71,1146,73,1145,68,1186,65"/>
<area shape="rect" href="group__xwmm__mempool.html#ga7cbe7d0a7d7052c887dc7723c5010ec1" title="XWMM API：申请一页内存" alt="" coords="1421,220,1629,245"/>
<area shape="poly" title=" " alt="" coords="1702,90,1679,100,1664,111,1654,122,1631,149,1545,222,1541,218,1627,145,1650,119,1660,107,1676,96,1700,85"/>
<area shape="poly" title=" " alt="" coords="1407,237,1118,242,1118,237,1407,232"/>
<area shape="rect" href="objcache_8c.html#a23e4915feeaf7a05d46ec2affe504642" title="获取一页，准备从页内存中分配对象" alt="" coords="1193,285,1373,325"/>
<area shape="poly" title=" " alt="" coords="1470,252,1352,287,1351,282,1468,247"/>
<area shape="rect" href="page_8c.html#a4b4868cc6b3b9570ba579c040c6d11a2" title="i_allocator接口函数：申请内存" alt="" coords="1200,106,1367,146"/>
<area shape="poly" title=" " alt="" coords="1487,216,1372,160,1342,149,1344,144,1374,156,1490,211"/>
<area shape="rect" href="group__xwmm__mempool.html#ga86e445faf7ecf95130e042fa9b96a41b" title="XWMM API：从对象缓存中申请一个对象" alt="" coords="937,285,1117,325"/>
<area shape="poly" title=" " alt="" coords="1180,307,1117,307,1117,302,1180,302"/>
<area shape="rect" href="objcache_8c.html#a27d6631115c7033bfb49d22d5d3d992d" title="i_allocator接口函数：申请内存" alt="" coords="681,255,861,295"/>
<area shape="poly" title=" " alt="" coords="923,295,861,288,862,283,924,290"/>
<area shape="poly" title=" " alt="" coords="704,253,565,199,567,194,706,248"/>
<area shape="poly" title=" " alt="" coords="1186,111,1095,93,1096,88,1187,105"/>
<area shape="rect" href="group__xwos__lib__map.html#gae0a9e603da5733ebdf899a7969227cf8" title="删除键值对容器" alt="" coords="2015,169,2138,195"/>
<area shape="poly" title=" " alt="" coords="2231,166,2139,177,2138,172,2230,160"/>
<area shape="rect" href="page_8c.html#ab54f23d0058e1bff33377fc2d7b0a48c" title="从阶红黑树中选择一页" alt="" coords="1688,213,1899,253"/>
<area shape="poly" title=" " alt="" coords="2282,174,2242,194,2197,210,2120,225,2041,234,1899,239,1899,234,2041,229,2119,220,2195,205,2240,189,2280,170"/>
<area shape="rect" href="page_8c.html#a0803eb38a9059618cf4c98136dc70033" title="从阶红黑树中删除页" alt="" coords="1971,105,2182,145"/>
<area shape="poly" title=" " alt="" coords="2230,145,2182,140,2183,134,2231,140"/>
<area shape="poly" title=" " alt="" coords="1674,235,1630,235,1630,230,1674,230"/>
<area shape="poly" title=" " alt="" coords="1957,127,1900,126,1900,121,1957,121"/>
</map>
</div>

</div>
</div>
<a id="ga8e9025d3e8bade2a627001fb58251047" name="ga8e9025d3e8bade2a627001fb58251047"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8e9025d3e8bade2a627001fb58251047">&#9670;&#160;</a></span>xwlib_rbtree_get_parent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * xwlib_rbtree_get_parent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>返回节点的父节点指针 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">node</td><td>子节点指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>父节点指针 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li><code>left</code> 是 <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> 的第一个成员。</li>
<li><code>&amp;parent-&gt;left</code> 与 <code>&amp;parent</code> 在数值上是相等的（指针 就是位宽等于CPU位宽的无符号整数）。<ul>
<li>当 <code>link</code> 指向 <code>parent-&gt;left</code> 时，其数值就等于 <code>parent</code> 的地址；</li>
<li>当 <code>link</code> 指向 <code>parent-&gt;right</code> 时，其数值减去 <code>sizeof(void *)</code> 后， 可获取 <code>parent</code> 地址。</li>
</ul>
</li>
<li>当父节点不存在，表示此节点是红黑树的第一个节点，其 <code>link</code> 指针指向 <code>root</code> ， 此函数返回 <code>root</code> 的地址。 </li>
</ul>
</dd></dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00253">253</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  254</span>{</div>
<div class="line"><span class="lineno">  255</span>        <a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a> pos;</div>
<div class="line"><span class="lineno">  256</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> ** <a class="code hl_variable" href="structxwlib__rbtree__node.html#a46376a31274dc6ec1c8d7d88660d789c">link</a>;</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>        <a class="code hl_variable" href="structxwlib__rbtree__node.html#a7ce1873c40a33e7f01adf04f3525ff64">pos</a> = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga7c77def947c164324809a41db5c54ec3">xwlib_rbtree_get_pos</a>(node-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#a7ce1873c40a33e7f01adf04f3525ff64">pos</a>);</div>
<div class="line"><span class="lineno">  259</span>        <a class="code hl_variable" href="structxwlib__rbtree__node.html#a46376a31274dc6ec1c8d7d88660d789c">link</a> = &amp;(<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(node-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#a46376a31274dc6ec1c8d7d88660d789c">link</a>)[-<a class="code hl_variable" href="structxwlib__rbtree__node.html#a7ce1873c40a33e7f01adf04f3525ff64">pos</a>]);</div>
<div class="line"><span class="lineno">  260</span>        <span class="keywordflow">return</span> (<span class="keyword">struct</span> <a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *)<a class="code hl_variable" href="structxwlib__rbtree__node.html#a46376a31274dc6ec1c8d7d88660d789c">link</a>;</div>
<div class="line"><span class="lineno">  261</span>}</div>
<div class="ttc" id="agroup__xwos__lib__rbtree_html_ga55c3b92f4fbb4b8b429f2f2fa62697f7"><div class="ttname"><a href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a></div><div class="ttdeci">#define xwlib_rbtree_get_link(lpc)</div><div class="ttdoc">获取lpc信息中的link指针</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00126">rbtree.h:126</a></div></div>
<div class="ttc" id="agroup__xwos__lib__rbtree_html_ga7c77def947c164324809a41db5c54ec3"><div class="ttname"><a href="group__xwos__lib__rbtree.html#ga7c77def947c164324809a41db5c54ec3">xwlib_rbtree_get_pos</a></div><div class="ttdeci">#define xwlib_rbtree_get_pos(lpc)</div><div class="ttdoc">获取lpc信息中的位置信息</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00141">rbtree.h:141</a></div></div>
<div class="ttc" id="astructxwlib__rbtree__node_html"><div class="ttname"><a href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a></div><div class="ttdoc">红黑树节点</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00081">rbtree.h:81</a></div></div>
<div class="ttc" id="astructxwlib__rbtree__node_html_a46376a31274dc6ec1c8d7d88660d789c"><div class="ttname"><a href="structxwlib__rbtree__node.html#a46376a31274dc6ec1c8d7d88660d789c">xwlib_rbtree_node::link</a></div><div class="ttdeci">struct xwlib_rbtree_node ** link</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00085">rbtree.h:85</a></div></div>
<div class="ttc" id="astructxwlib__rbtree__node_html_a7ce1873c40a33e7f01adf04f3525ff64"><div class="ttname"><a href="structxwlib__rbtree__node.html#a7ce1873c40a33e7f01adf04f3525ff64">xwlib_rbtree_node::pos</a></div><div class="ttdeci">xwptr_t pos</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00086">rbtree.h:86</a></div></div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__lib__rbtree_ga8e9025d3e8bade2a627001fb58251047_icgraph.png" border="0" usemap="#agroup__xwos__lib__rbtree_ga8e9025d3e8bade2a627001fb58251047_icgraph" alt=""/></div>
<map name="agroup__xwos__lib__rbtree_ga8e9025d3e8bade2a627001fb58251047_icgraph" id="agroup__xwos__lib__rbtree_ga8e9025d3e8bade2a627001fb58251047_icgraph">
<area shape="rect" title="返回节点的父节点指针" alt="" coords="2435,167,2595,192"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#gaa09f90f7792b00240a3cecef84946d88" title="插入一个红色节点后修正红黑树的颜色" alt="" coords="2250,47,2381,87"/>
<area shape="poly" title=" " alt="" coords="2478,162,2351,90,2353,85,2480,157"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#gac57fdaeef6a9dc2ee2bedbf5ac885f96" title="删除一个节点，并修正红黑树的颜色" alt="" coords="2244,167,2387,192"/>
<area shape="poly" title=" " alt="" coords="2421,182,2387,182,2387,177,2421,177"/>
<area shape="rect" href="page_8c.html#ab54f23d0058e1bff33377fc2d7b0a48c" title="从阶红黑树中选择一页" alt="" coords="1971,219,2182,259"/>
<area shape="poly" title=" " alt="" coords="2442,197,2387,207,2183,233,2182,227,2386,202,2441,192"/>
<area shape="rect" href="page_8c.html#a0803eb38a9059618cf4c98136dc70033" title="从阶红黑树中删除页" alt="" coords="1971,105,2182,145"/>
<area shape="poly" title=" " alt="" coords="2438,167,2386,158,2182,135,2183,130,2387,153,2439,161"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#gae795faa7d01de02b82b8d68be66a0e2e" title="测试当前节点是否为根节点" alt="" coords="2244,268,2387,293"/>
<area shape="poly" title=" " alt="" coords="2481,201,2388,251,2347,270,2345,265,2385,246,2478,196"/>
<area shape="rect" href="group__xwos__lib__map.html#ga99035462773a66c0872014a1419193f5" title="插入键值对容器" alt="" coords="2015,5,2138,31"/>
<area shape="poly" title=" " alt="" coords="2236,53,2195,45,2138,33,2139,27,2197,39,2237,48"/>
<area shape="rect" href="page_8c.html#adc418491ba0dd770fa96b845e96722d9" title="增加页到阶红黑树中" alt="" coords="1957,55,2196,80"/>
<area shape="poly" title=" " alt="" coords="2236,70,2196,70,2196,65,2236,65"/>
<area shape="rect" href="group__xwmm__mempool.html#gaeac7d28f7509e0c764b9f995ebd45f12" title="XWMM API：初始化页分配器" alt="" coords="909,76,1145,101"/>
<area shape="poly" title=" " alt="" coords="1973,56,1821,39,1626,27,1520,24,1410,25,1301,32,1194,43,1123,59,1063,78,1061,73,1122,54,1193,38,1300,26,1410,20,1520,19,1626,21,1821,34,1973,50"/>
<area shape="rect" href="page_8c.html#a8e9302d65eea335934b13f63caea64aa" title="合并空闲的伙伴页" alt="" coords="1687,95,1899,120"/>
<area shape="poly" title=" " alt="" coords="1973,85,1884,97,1883,92,1973,79"/>
<area shape="rect" href="page_8c.html#a6385524c294a6af40c2ea0ff315d60fd" title="将大的页拆分成小的页" alt="" coords="1677,151,1909,176"/>
<area shape="poly" title=" " alt="" coords="1979,87,1959,95,1944,104,1935,114,1925,125,1911,135,1863,153,1861,148,1908,130,1922,121,1931,111,1941,100,1956,90,1977,82"/>
<area shape="rect" href="allocator_8c.html#a6e1f6748cc378d09e931897b69231d0d" title="构建内存池" alt="" coords="199,153,381,179"/>
<area shape="poly" title=" " alt="" coords="896,105,382,159,381,154,895,100"/>
<area shape="rect" href="group__xwmm__mempool.html#gaad8340a12043c383e489a786788e89af" title="XWMM API：初始化内存池" alt="" coords="5,153,151,179"/>
<area shape="poly" title=" " alt="" coords="184,169,151,169,151,163,184,163"/>
<area shape="rect" href="group__xwmm__mempool.html#ga52f11e08dc37a0cc72717169b6ae4131" title="XWMM API：释放一页内存" alt="" coords="1433,95,1618,120"/>
<area shape="poly" title=" " alt="" coords="1674,110,1618,110,1618,105,1674,105"/>
<area shape="rect" href="objcache_8c.html#a21221e21cca4abbdfc36138c1cecb3f5" title="释放空闲页" alt="" coords="1193,181,1373,221"/>
<area shape="poly" title=" " alt="" coords="1482,128,1374,171,1342,183,1341,178,1372,166,1480,123"/>
<area shape="rect" href="page_8c.html#a4fff326383599e57562dd2d1bd8dbc2b" title="i_allocator接口函数：释放内存" alt="" coords="1200,53,1367,93"/>
<area shape="poly" title=" " alt="" coords="1422,95,1366,87,1367,82,1423,90"/>
<area shape="rect" href="group__xwmm__mempool.html#gae7d39e7ba00cc3926284e6ba8775121b" title="XWMM API：释放对象到对象缓存中" alt="" coords="923,181,1132,207"/>
<area shape="poly" title=" " alt="" coords="1179,201,1132,199,1132,194,1180,195"/>
<area shape="rect" href="group__xwmm__mempool.html#gaa72ed546dbddbbb8dd035c01c6334a24" title="XWMM API：预留对象到对象缓存中" alt="" coords="937,231,1117,271"/>
<area shape="poly" title=" " alt="" coords="1180,224,1118,236,1117,231,1179,219"/>
<area shape="rect" href="objcache_8c.html#a7214f0b448c3680b68f84d3bb6d7155a" title="i_allocator接口函数：释放内存" alt="" coords="681,174,861,214"/>
<area shape="poly" title=" " alt="" coords="909,197,862,197,862,191,909,191"/>
<area shape="rect" href="group__xwmm__mempool.html#ga15d8fc6d72d2ef920927bd6702174c3a" title="XWMM API：初始化对象缓存" alt="" coords="429,181,633,207"/>
<area shape="poly" title=" " alt="" coords="668,197,634,197,634,191,668,191"/>
<area shape="poly" title=" " alt="" coords="415,183,381,179,382,174,416,178"/>
<area shape="poly" title=" " alt="" coords="1186,81,1146,84,1145,79,1186,76"/>
<area shape="rect" href="group__xwmm__mempool.html#ga7cbe7d0a7d7052c887dc7723c5010ec1" title="XWMM API：申请一页内存" alt="" coords="1421,227,1629,252"/>
<area shape="poly" title=" " alt="" coords="1735,182,1572,229,1570,224,1734,177"/>
<area shape="poly" title=" " alt="" coords="1407,245,1118,252,1118,247,1407,239"/>
<area shape="rect" href="objcache_8c.html#a23e4915feeaf7a05d46ec2affe504642" title="获取一页，准备从页内存中分配对象" alt="" coords="1193,295,1373,335"/>
<area shape="poly" title=" " alt="" coords="1472,259,1349,298,1347,293,1470,254"/>
<area shape="rect" href="page_8c.html#a4b4868cc6b3b9570ba579c040c6d11a2" title="i_allocator接口函数：申请内存" alt="" coords="1200,117,1367,157"/>
<area shape="poly" title=" " alt="" coords="1486,223,1372,171,1342,159,1344,154,1374,166,1488,218"/>
<area shape="rect" href="group__xwmm__mempool.html#ga86e445faf7ecf95130e042fa9b96a41b" title="XWMM API：从对象缓存中申请一个对象" alt="" coords="937,295,1117,335"/>
<area shape="poly" title=" " alt="" coords="1180,318,1117,318,1117,313,1180,313"/>
<area shape="rect" href="objcache_8c.html#a27d6631115c7033bfb49d22d5d3d992d" title="i_allocator接口函数：申请内存" alt="" coords="681,266,861,306"/>
<area shape="poly" title=" " alt="" coords="923,306,861,299,862,294,924,301"/>
<area shape="poly" title=" " alt="" coords="704,263,565,209,567,204,706,258"/>
<area shape="poly" title=" " alt="" coords="1186,121,1095,104,1096,99,1187,116"/>
<area shape="rect" href="group__xwos__lib__map.html#gae0a9e603da5733ebdf899a7969227cf8" title="删除键值对容器" alt="" coords="2015,169,2138,195"/>
<area shape="poly" title=" " alt="" coords="2230,183,2138,184,2138,179,2230,178"/>
<area shape="poly" title=" " alt="" coords="2251,198,2157,222,2156,217,2250,193"/>
<area shape="poly" title=" " alt="" coords="2245,166,2164,147,2165,142,2247,161"/>
<area shape="poly" title=" " alt="" coords="1957,242,1629,242,1629,237,1957,237"/>
<area shape="poly" title=" " alt="" coords="1957,120,1899,116,1900,111,1958,115"/>
</map>
</div>

</div>
</div>
<a id="gab2c329630cce359161595f69c34ac827" name="gab2c329630cce359161595f69c34ac827"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab2c329630cce359161595f69c34ac827">&#9670;&#160;</a></span>xwlib_rbtree_get_parent_from_lpc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * xwlib_rbtree_get_parent_from_lpc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>&#160;</td>
          <td class="paramname"><em>lpc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>从lpc信息返回父节点指针 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">lpc</td><td>链指针，位置，颜色的合并值 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>父节点指针 </dd></dl>
<dl class="section note"><dt>注解</dt><dd><code>lpc</code> 是从节点内取出的值，说明同 <a class="el" href="group__xwos__lib__rbtree.html#ga8e9025d3e8bade2a627001fb58251047">xwlib_rbtree_get_parent()</a> 。 </dd></dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00271">271</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  272</span>{</div>
<div class="line"><span class="lineno">  273</span>        <a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a> pos;</div>
<div class="line"><span class="lineno">  274</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> ** <a class="code hl_variable" href="structxwlib__rbtree__node.html#a46376a31274dc6ec1c8d7d88660d789c">link</a>;</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>        <a class="code hl_variable" href="structxwlib__rbtree__node.html#a7ce1873c40a33e7f01adf04f3525ff64">pos</a> = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga7c77def947c164324809a41db5c54ec3">xwlib_rbtree_get_pos</a>(<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>);</div>
<div class="line"><span class="lineno">  277</span>        <a class="code hl_variable" href="structxwlib__rbtree__node.html#a46376a31274dc6ec1c8d7d88660d789c">link</a> = &amp;(<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>)[-<a class="code hl_variable" href="structxwlib__rbtree__node.html#a7ce1873c40a33e7f01adf04f3525ff64">pos</a>]);</div>
<div class="line"><span class="lineno">  278</span>        <span class="keywordflow">return</span> (<span class="keyword">struct</span> <a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *)<a class="code hl_variable" href="structxwlib__rbtree__node.html#a46376a31274dc6ec1c8d7d88660d789c">link</a>;</div>
<div class="line"><span class="lineno">  279</span>}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__lib__rbtree_gab2c329630cce359161595f69c34ac827_icgraph.png" border="0" usemap="#agroup__xwos__lib__rbtree_gab2c329630cce359161595f69c34ac827_icgraph" alt=""/></div>
<map name="agroup__xwos__lib__rbtree_gab2c329630cce359161595f69c34ac827_icgraph" id="agroup__xwos__lib__rbtree_gab2c329630cce359161595f69c34ac827_icgraph">
<area shape="rect" title="从lpc信息返回父节点指针" alt="" coords="176,5,336,45"/>
<area shape="rect" href="group__xwos__lib__map.html#ga99035462773a66c0872014a1419193f5" title="插入键值对容器" alt="" coords="5,13,128,38"/>
<area shape="poly" title=" " alt="" coords="162,28,128,28,128,23,162,23"/>
</map>
</div>

</div>
</div>
<a id="ga3ab9f5ca352e17db3344c728d51f4dbf" name="ga3ab9f5ca352e17db3344c728d51f4dbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3ab9f5ca352e17db3344c728d51f4dbf">&#9670;&#160;</a></span>xwlib_rbtree_get_predecessor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * xwlib_rbtree_get_predecessor </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>返回节点的前趋节点 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">node</td><td>节点指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>前趋节点指针 </dd></dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00373">373</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  374</span>{</div>
<div class="line"><span class="lineno">  375</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * c = node-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a305d52ccf12a4bffa8d7e8a346a5ef2d">left</a>;</div>
<div class="line"><span class="lineno">  376</span>        <span class="keywordflow">if</span> (!c) {</div>
<div class="line"><span class="lineno">  377</span>                c = node;</div>
<div class="line"><span class="lineno">  378</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  379</span>                <span class="keywordflow">while</span> (<a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> != c-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a>) {</div>
<div class="line"><span class="lineno">  380</span>                        c = c-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a>;</div>
<div class="line"><span class="lineno">  381</span>                }</div>
<div class="line"><span class="lineno">  382</span>        }</div>
<div class="line"><span class="lineno">  383</span>        <span class="keywordflow">return</span> c;</div>
<div class="line"><span class="lineno">  384</span>}</div>
<div class="ttc" id="agroup__xwos__lib__type_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> <a href="type_8h_source.html#l00028">type.h:28</a></div></div>
<div class="ttc" id="astructxwlib__rbtree__node_html_a305d52ccf12a4bffa8d7e8a346a5ef2d"><div class="ttname"><a href="structxwlib__rbtree__node.html#a305d52ccf12a4bffa8d7e8a346a5ef2d">xwlib_rbtree_node::left</a></div><div class="ttdeci">struct xwlib_rbtree_node * left</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00082">rbtree.h:82</a></div></div>
<div class="ttc" id="astructxwlib__rbtree__node_html_a5a64519a3b225248f1d7321ecc5295fd"><div class="ttname"><a href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">xwlib_rbtree_node::right</a></div><div class="ttdeci">struct xwlib_rbtree_node * right</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00083">rbtree.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga2502fed0a895591911885bd8725de911" name="ga2502fed0a895591911885bd8725de911"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2502fed0a895591911885bd8725de911">&#9670;&#160;</a></span>xwlib_rbtree_get_successor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * xwlib_rbtree_get_successor </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>返回节点的后继节点 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">node</td><td>节点指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>后继节点指针 </dd></dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00393">393</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  394</span>{</div>
<div class="line"><span class="lineno">  395</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * c = node-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a>;</div>
<div class="line"><span class="lineno">  396</span>        <span class="keywordflow">if</span> (!c) {</div>
<div class="line"><span class="lineno">  397</span>                c = node;</div>
<div class="line"><span class="lineno">  398</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  399</span>                <span class="keywordflow">while</span> (<a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> != c-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a305d52ccf12a4bffa8d7e8a346a5ef2d">left</a>) {</div>
<div class="line"><span class="lineno">  400</span>                        c = c-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a305d52ccf12a4bffa8d7e8a346a5ef2d">left</a>;</div>
<div class="line"><span class="lineno">  401</span>                }</div>
<div class="line"><span class="lineno">  402</span>        }</div>
<div class="line"><span class="lineno">  403</span>        <span class="keywordflow">return</span> c;</div>
<div class="line"><span class="lineno">  404</span>}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__lib__rbtree_ga2502fed0a895591911885bd8725de911_icgraph.png" border="0" usemap="#agroup__xwos__lib__rbtree_ga2502fed0a895591911885bd8725de911_icgraph" alt=""/></div>
<map name="agroup__xwos__lib__rbtree_ga2502fed0a895591911885bd8725de911_icgraph" id="agroup__xwos__lib__rbtree_ga2502fed0a895591911885bd8725de911_icgraph">
<area shape="rect" title="返回节点的后继节点" alt="" coords="2387,70,2571,95"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#gac57fdaeef6a9dc2ee2bedbf5ac885f96" title="删除一个节点，并修正红黑树的颜色" alt="" coords="2196,70,2339,95"/>
<area shape="poly" title=" " alt="" coords="2373,85,2339,85,2339,80,2373,80"/>
<area shape="rect" href="group__xwos__lib__map.html#gae0a9e603da5733ebdf899a7969227cf8" title="删除键值对容器" alt="" coords="1981,13,2104,38"/>
<area shape="poly" title=" " alt="" coords="2206,69,2147,53,2097,41,2098,35,2149,48,2208,64"/>
<area shape="rect" href="page_8c.html#ab54f23d0058e1bff33377fc2d7b0a48c" title="从阶红黑树中选择一页" alt="" coords="1937,63,2148,103"/>
<area shape="poly" title=" " alt="" coords="2182,85,2148,85,2148,80,2182,80"/>
<area shape="rect" href="page_8c.html#a0803eb38a9059618cf4c98136dc70033" title="从阶红黑树中删除页" alt="" coords="1937,127,2148,167"/>
<area shape="poly" title=" " alt="" coords="2210,102,2114,129,2113,124,2208,97"/>
<area shape="rect" href="group__xwmm__mempool.html#ga7cbe7d0a7d7052c887dc7723c5010ec1" title="XWMM API：申请一页内存" alt="" coords="1421,70,1629,95"/>
<area shape="poly" title=" " alt="" coords="1924,85,1629,85,1629,80,1924,80"/>
<area shape="rect" href="objcache_8c.html#a23e4915feeaf7a05d46ec2affe504642" title="获取一页，准备从页内存中分配对象" alt="" coords="1193,5,1373,45"/>
<area shape="poly" title=" " alt="" coords="1457,69,1368,48,1369,43,1458,64"/>
<area shape="rect" href="group__xwmm__mempool.html#gaa72ed546dbddbbb8dd035c01c6334a24" title="XWMM API：预留对象到对象缓存中" alt="" coords="937,69,1117,109"/>
<area shape="poly" title=" " alt="" coords="1407,87,1118,91,1118,85,1407,82"/>
<area shape="rect" href="page_8c.html#a4b4868cc6b3b9570ba579c040c6d11a2" title="i_allocator接口函数：申请内存" alt="" coords="1200,184,1367,224"/>
<area shape="poly" title=" " alt="" coords="1468,102,1423,125,1409,137,1400,149,1390,162,1375,174,1352,186,1350,181,1372,170,1386,158,1395,146,1405,133,1420,120,1466,98"/>
<area shape="rect" href="group__xwmm__mempool.html#ga86e445faf7ecf95130e042fa9b96a41b" title="XWMM API：从对象缓存中申请一个对象" alt="" coords="937,5,1117,45"/>
<area shape="poly" title=" " alt="" coords="1180,28,1117,28,1117,23,1180,23"/>
<area shape="rect" href="objcache_8c.html#a27d6631115c7033bfb49d22d5d3d992d" title="i_allocator接口函数：申请内存" alt="" coords="681,35,861,75"/>
<area shape="poly" title=" " alt="" coords="924,40,862,47,861,42,923,35"/>
<area shape="rect" href="group__xwmm__mempool.html#ga15d8fc6d72d2ef920927bd6702174c3a" title="XWMM API：初始化对象缓存" alt="" coords="429,134,633,159"/>
<area shape="poly" title=" " alt="" coords="706,82,567,136,565,131,704,77"/>
<area shape="rect" href="allocator_8c.html#a6e1f6748cc378d09e931897b69231d0d" title="构建内存池" alt="" coords="199,163,381,189"/>
<area shape="poly" title=" " alt="" coords="416,163,382,168,381,162,415,158"/>
<area shape="rect" href="group__xwmm__mempool.html#gaad8340a12043c383e489a786788e89af" title="XWMM API：初始化内存池" alt="" coords="5,163,151,189"/>
<area shape="poly" title=" " alt="" coords="184,179,151,179,151,173,184,173"/>
<area shape="rect" href="group__xwmm__mempool.html#gaeac7d28f7509e0c764b9f995ebd45f12" title="XWMM API：初始化页分配器" alt="" coords="909,191,1145,217"/>
<area shape="poly" title=" " alt="" coords="1186,207,1145,207,1145,201,1186,201"/>
<area shape="poly" title=" " alt="" coords="895,202,382,182,382,177,896,196"/>
<area shape="rect" href="page_8c.html#a8e9302d65eea335934b13f63caea64aa" title="合并空闲的伙伴页" alt="" coords="1677,134,1889,159"/>
<area shape="poly" title=" " alt="" coords="1924,149,1890,149,1890,144,1924,144"/>
<area shape="rect" href="group__xwmm__mempool.html#ga52f11e08dc37a0cc72717169b6ae4131" title="XWMM API：释放一页内存" alt="" coords="1433,134,1618,159"/>
<area shape="poly" title=" " alt="" coords="1664,149,1618,149,1618,144,1664,144"/>
<area shape="rect" href="objcache_8c.html#a21221e21cca4abbdfc36138c1cecb3f5" title="释放空闲页" alt="" coords="1193,120,1373,160"/>
<area shape="poly" title=" " alt="" coords="1419,146,1373,145,1373,140,1419,141"/>
<area shape="rect" href="page_8c.html#a4fff326383599e57562dd2d1bd8dbc2b" title="i_allocator接口函数：释放内存" alt="" coords="1200,248,1367,288"/>
<area shape="poly" title=" " alt="" coords="1495,169,1440,203,1374,238,1346,250,1344,246,1372,234,1437,199,1492,165"/>
<area shape="poly" title=" " alt="" coords="1179,122,1117,110,1118,104,1180,117"/>
<area shape="rect" href="group__xwmm__mempool.html#gae7d39e7ba00cc3926284e6ba8775121b" title="XWMM API：释放对象到对象缓存中" alt="" coords="923,134,1132,159"/>
<area shape="poly" title=" " alt="" coords="1180,145,1132,147,1132,141,1179,140"/>
<area shape="rect" href="objcache_8c.html#a7214f0b448c3680b68f84d3bb6d7155a" title="i_allocator接口函数：释放内存" alt="" coords="681,127,861,167"/>
<area shape="poly" title=" " alt="" coords="909,149,862,149,862,144,909,144"/>
<area shape="poly" title=" " alt="" coords="668,149,634,149,634,144,668,144"/>
<area shape="poly" title=" " alt="" coords="1189,247,1078,219,1080,214,1190,242"/>
</map>
</div>

</div>
</div>
<a id="gaa16ae22ddc5595638dd19df6154f4bb6" name="gaa16ae22ddc5595638dd19df6154f4bb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa16ae22ddc5595638dd19df6154f4bb6">&#9670;&#160;</a></span>xwlib_rbtree_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void xwlib_rbtree_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree.html">xwlib_rbtree</a> *&#160;</td>
          <td class="paramname"><em>rbt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>初始化红黑树 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rbt</td><td>红黑树指针 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00104">104</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  105</span>{</div>
<div class="line"><span class="lineno">  106</span>        rbt-&gt;<a class="code hl_variable" href="structxwlib__rbtree.html#a05d1bdd1cf62a0a083a576d914250270">root</a> = <a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  107</span>}</div>
<div class="ttc" id="astructxwlib__rbtree_html_a05d1bdd1cf62a0a083a576d914250270"><div class="ttname"><a href="structxwlib__rbtree.html#a05d1bdd1cf62a0a083a576d914250270">xwlib_rbtree::root</a></div><div class="ttdeci">struct xwlib_rbtree_node * root</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00096">rbtree.h:96</a></div></div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__lib__rbtree_gaa16ae22ddc5595638dd19df6154f4bb6_icgraph.png" border="0" usemap="#agroup__xwos__lib__rbtree_gaa16ae22ddc5595638dd19df6154f4bb6_icgraph" alt=""/></div>
<map name="agroup__xwos__lib__rbtree_gaa16ae22ddc5595638dd19df6154f4bb6_icgraph" id="agroup__xwos__lib__rbtree_gaa16ae22ddc5595638dd19df6154f4bb6_icgraph">
<area shape="rect" title="初始化红黑树" alt="" coords="713,31,829,56"/>
<area shape="rect" href="group__xwos__lib__map.html#ga238f77333456a4af6550afbc2f2547a5" title="初始化键值对容器的map" alt="" coords="493,5,601,31"/>
<area shape="poly" title=" " alt="" coords="699,38,601,27,602,21,700,33"/>
<area shape="rect" href="group__xwmm__mempool.html#gaeac7d28f7509e0c764b9f995ebd45f12" title="XWMM API：初始化页分配器" alt="" coords="429,55,665,80"/>
<area shape="poly" title=" " alt="" coords="700,54,666,57,665,52,699,48"/>
<area shape="rect" href="allocator_8c.html#a6e1f6748cc378d09e931897b69231d0d" title="构建内存池" alt="" coords="199,55,381,80"/>
<area shape="poly" title=" " alt="" coords="416,70,382,70,382,65,416,65"/>
<area shape="rect" href="group__xwmm__mempool.html#gaad8340a12043c383e489a786788e89af" title="XWMM API：初始化内存池" alt="" coords="5,55,151,80"/>
<area shape="poly" title=" " alt="" coords="184,70,151,70,151,65,184,65"/>
</map>
</div>

</div>
</div>
<a id="ga528f2863f2774a2f948db55c73ce6ee7" name="ga528f2863f2774a2f948db55c73ce6ee7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga528f2863f2774a2f948db55c73ce6ee7">&#9670;&#160;</a></span>xwlib_rbtree_init_node()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void xwlib_rbtree_init_node </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *&#160;</td>
          <td class="paramname"><em>rbn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>初始化红黑树节点 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rbn</td><td>红黑树节点指针 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00114">114</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  115</span>{</div>
<div class="line"><span class="lineno">  116</span>        rbn-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a305d52ccf12a4bffa8d7e8a346a5ef2d">left</a> = <a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  117</span>        rbn-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a> = <a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  118</span>        rbn-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a> = 0;</div>
<div class="line"><span class="lineno">  119</span>}</div>
<div class="ttc" id="astructxwlib__rbtree__node_html_ae210272645162ea044c30a64a513fe7a"><div class="ttname"><a href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">xwlib_rbtree_node::v</a></div><div class="ttdeci">xwptr_t v</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00088">rbtree.h:88</a></div></div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__lib__rbtree_ga528f2863f2774a2f948db55c73ce6ee7_icgraph.png" border="0" usemap="#agroup__xwos__lib__rbtree_ga528f2863f2774a2f948db55c73ce6ee7_icgraph" alt=""/></div>
<map name="agroup__xwos__lib__rbtree_ga528f2863f2774a2f948db55c73ce6ee7_icgraph" id="agroup__xwos__lib__rbtree_ga528f2863f2774a2f948db55c73ce6ee7_icgraph">
<area shape="rect" title="初始化红黑树节点" alt="" coords="2196,135,2347,160"/>
<area shape="rect" href="group__xwos__lib__map.html#gae0a9e603da5733ebdf899a7969227cf8" title="删除键值对容器" alt="" coords="1981,5,2104,31"/>
<area shape="poly" title=" " alt="" coords="2248,126,2204,84,2177,62,2147,44,2103,29,2105,24,2149,40,2180,58,2208,80,2252,122"/>
<area shape="rect" href="group__xwos__lib__map.html#ga94dcf012b773181ff3b6f4f8a8eb4051" title="初始化键值对容器" alt="" coords="1959,55,2127,80"/>
<area shape="poly" title=" " alt="" coords="2226,132,2147,102,2087,83,2089,78,2149,97,2228,127"/>
<area shape="rect" href="group__xwmm__mempool.html#gaeac7d28f7509e0c764b9f995ebd45f12" title="XWMM API：初始化页分配器" alt="" coords="909,179,1145,204"/>
<area shape="poly" title=" " alt="" coords="2182,141,1999,128,1785,121,1524,121,1358,123,1286,131,1194,146,1125,162,1066,181,1064,176,1124,157,1193,141,1285,126,1358,118,1524,115,1785,115,1999,122,2182,136"/>
<area shape="rect" href="group__xwmm__mempool.html#ga52f11e08dc37a0cc72717169b6ae4131" title="XWMM API：释放一页内存" alt="" coords="1433,192,1618,217"/>
<area shape="poly" title=" " alt="" coords="2241,169,2199,192,2149,210,2077,224,2003,232,1856,237,1721,231,1612,220,1613,215,1721,226,1856,232,2002,227,2076,218,2147,205,2196,187,2239,165"/>
<area shape="rect" href="page_8c.html#ab54f23d0058e1bff33377fc2d7b0a48c" title="从阶红黑树中选择一页" alt="" coords="1678,287,1889,327"/>
<area shape="poly" title=" " alt="" coords="2252,172,2208,215,2180,236,2149,254,2084,278,2016,294,1950,304,1889,309,1889,304,1949,299,2015,289,2083,273,2147,249,2177,232,2205,211,2249,168"/>
<area shape="rect" href="page_8c.html#a0803eb38a9059618cf4c98136dc70033" title="从阶红黑树中删除页" alt="" coords="1937,155,2148,195"/>
<area shape="poly" title=" " alt="" coords="2183,161,2148,165,2148,160,2182,156"/>
<area shape="rect" href="allocator_8c.html#a6e1f6748cc378d09e931897b69231d0d" title="构建内存池" alt="" coords="199,256,381,281"/>
<area shape="poly" title=" " alt="" coords="896,208,382,262,381,257,895,202"/>
<area shape="rect" href="group__xwmm__mempool.html#gaad8340a12043c383e489a786788e89af" title="XWMM API：初始化内存池" alt="" coords="5,256,151,281"/>
<area shape="poly" title=" " alt="" coords="184,271,151,271,151,266,184,266"/>
<area shape="rect" href="objcache_8c.html#a21221e21cca4abbdfc36138c1cecb3f5" title="释放空闲页" alt="" coords="1193,283,1373,323"/>
<area shape="poly" title=" " alt="" coords="1485,226,1374,274,1343,286,1341,281,1372,269,1483,221"/>
<area shape="rect" href="page_8c.html#a4fff326383599e57562dd2d1bd8dbc2b" title="i_allocator接口函数：释放内存" alt="" coords="1200,155,1367,195"/>
<area shape="poly" title=" " alt="" coords="1419,194,1366,188,1367,183,1419,189"/>
<area shape="rect" href="group__xwmm__mempool.html#gae7d39e7ba00cc3926284e6ba8775121b" title="XWMM API：释放对象到对象缓存中" alt="" coords="923,284,1132,309"/>
<area shape="poly" title=" " alt="" coords="1179,303,1132,302,1132,297,1180,298"/>
<area shape="rect" href="group__xwmm__mempool.html#gaa72ed546dbddbbb8dd035c01c6334a24" title="XWMM API：预留对象到对象缓存中" alt="" coords="937,334,1117,374"/>
<area shape="poly" title=" " alt="" coords="1180,326,1118,339,1117,334,1179,321"/>
<area shape="rect" href="objcache_8c.html#a7214f0b448c3680b68f84d3bb6d7155a" title="i_allocator接口函数：释放内存" alt="" coords="681,277,861,317"/>
<area shape="poly" title=" " alt="" coords="909,299,862,299,862,294,909,294"/>
<area shape="rect" href="group__xwmm__mempool.html#ga15d8fc6d72d2ef920927bd6702174c3a" title="XWMM API：初始化对象缓存" alt="" coords="429,284,633,309"/>
<area shape="poly" title=" " alt="" coords="668,299,634,299,634,294,668,294"/>
<area shape="poly" title=" " alt="" coords="415,286,381,282,382,277,416,281"/>
<area shape="poly" title=" " alt="" coords="1186,184,1146,187,1145,181,1186,179"/>
<area shape="rect" href="group__xwmm__mempool.html#ga7cbe7d0a7d7052c887dc7723c5010ec1" title="XWMM API：申请一页内存" alt="" coords="1421,313,1629,339"/>
<area shape="poly" title=" " alt="" coords="1664,319,1630,321,1630,316,1664,313"/>
<area shape="poly" title=" " alt="" coords="1408,336,1373,338,1118,352,1117,347,1373,333,1407,331"/>
<area shape="rect" href="objcache_8c.html#a23e4915feeaf7a05d46ec2affe504642" title="获取一页，准备从页内存中分配对象" alt="" coords="1193,398,1373,438"/>
<area shape="poly" title=" " alt="" coords="1479,346,1338,400,1336,395,1477,341"/>
<area shape="rect" href="page_8c.html#a4b4868cc6b3b9570ba579c040c6d11a2" title="i_allocator接口函数：申请内存" alt="" coords="1200,219,1367,259"/>
<area shape="poly" title=" " alt="" coords="1475,311,1372,274,1340,262,1341,257,1374,269,1477,306"/>
<area shape="rect" href="group__xwmm__mempool.html#ga86e445faf7ecf95130e042fa9b96a41b" title="XWMM API：从对象缓存中申请一个对象" alt="" coords="937,398,1117,438"/>
<area shape="poly" title=" " alt="" coords="1180,421,1117,421,1117,415,1180,415"/>
<area shape="rect" href="objcache_8c.html#a27d6631115c7033bfb49d22d5d3d992d" title="i_allocator接口函数：申请内存" alt="" coords="681,369,861,409"/>
<area shape="poly" title=" " alt="" coords="923,409,861,402,862,396,924,403"/>
<area shape="poly" title=" " alt="" coords="704,366,565,312,567,307,706,361"/>
<area shape="poly" title=" " alt="" coords="1186,224,1095,207,1096,201,1187,219"/>
<area shape="rect" href="page_8c.html#a8e9302d65eea335934b13f63caea64aa" title="合并空闲的伙伴页" alt="" coords="1677,165,1889,191"/>
<area shape="poly" title=" " alt="" coords="1924,179,1890,180,1890,174,1924,174"/>
<area shape="poly" title=" " alt="" coords="1664,193,1618,198,1618,192,1663,188"/>
</map>
</div>

</div>
</div>
<a id="gaa09f90f7792b00240a3cecef84946d88" name="gaa09f90f7792b00240a3cecef84946d88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa09f90f7792b00240a3cecef84946d88">&#9670;&#160;</a></span>xwlib_rbtree_insert_color()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xwlib_rbtree_insert_color </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree.html">xwlib_rbtree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>插入一个红色节点后修正红黑树的颜色 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tree</td><td>红黑树的指针 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">node</td><td>待修正颜色的节点的指针 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="rbtree_8c_source.html">rbtree.c</a> 第 <a class="el" href="rbtree_8c_source.html#l00017">17</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">   19</span>{</div>
<div class="line"><span class="lineno">   20</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * parent;</div>
<div class="line"><span class="lineno">   21</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * gparent;</div>
<div class="line"><span class="lineno">   22</span>        <span class="keyword">union </span>{</div>
<div class="line"><span class="lineno">   23</span>                <span class="keyword">struct </span><a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * child;</div>
<div class="line"><span class="lineno">   24</span>                <span class="keyword">struct </span><a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * sibling;</div>
<div class="line"><span class="lineno">   25</span>                <span class="keyword">struct </span><a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * uncle;</div>
<div class="line"><span class="lineno">   26</span>        } tmp;</div>
<div class="line"><span class="lineno">   27</span>        <a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a> rotation;</div>
<div class="line"><span class="lineno">   28</span>        <a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a> <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>;</div>
<div class="line"><span class="lineno">   29</span> </div>
<div class="line"><span class="lineno">   30</span>recursively_fix:</div>
<div class="line"><span class="lineno">   31</span>        <span class="keywordflow">if</span> (node == tree-&gt;<a class="code hl_variable" href="structxwlib__rbtree.html#a05d1bdd1cf62a0a083a576d914250270">root</a>) {</div>
<div class="line"><span class="lineno">   32</span>                <span class="comment">/*</span></div>
<div class="line"><span class="lineno">   33</span><span class="comment">                 * 情况 1 红黑树为空</span></div>
<div class="line"><span class="lineno">   34</span><span class="comment">                 * ==================</span></div>
<div class="line"><span class="lineno">   35</span><span class="comment">                 *               n(r)</span></div>
<div class="line"><span class="lineno">   36</span><span class="comment">                 *               /  \</span></div>
<div class="line"><span class="lineno">   37</span><span class="comment">                 *        NULL(B)    NULL(B)</span></div>
<div class="line"><span class="lineno">   38</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">   39</span><span class="comment">                 *  flip_color(n)</span></div>
<div class="line"><span class="lineno">   40</span><span class="comment">                 * ---------------&gt;</span></div>
<div class="line"><span class="lineno">   41</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">   42</span><span class="comment">                 *               n(B)</span></div>
<div class="line"><span class="lineno">   43</span><span class="comment">                 *               /  \</span></div>
<div class="line"><span class="lineno">   44</span><span class="comment">                 *        NULL(B)    NULL(B)</span></div>
<div class="line"><span class="lineno">   45</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">   46</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">   47</span>                <a class="code hl_function" href="group__xwos__lib__rbtree.html#ga3d27937625dc93286c012da5e82945b8">xwlib_rbtree_flip_color</a>(node);</div>
<div class="line"><span class="lineno">   48</span>                <span class="keywordflow">return</span>; <span class="comment">// cppcheck-suppress [misra-c2012-15.5]</span></div>
<div class="line"><span class="lineno">   49</span>        }</div>
<div class="line"><span class="lineno">   50</span> </div>
<div class="line"><span class="lineno">   51</span>        parent = <a class="code hl_function" href="group__xwos__lib__rbtree.html#ga8e9025d3e8bade2a627001fb58251047">xwlib_rbtree_get_parent</a>(node);</div>
<div class="line"><span class="lineno">   52</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__rbtree.html#gadd781d7c569eb6e8fea3f789c797c740">xwlib_rbtree_tst_black</a>(parent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>)) {</div>
<div class="line"><span class="lineno">   53</span>                <span class="comment">/*</span></div>
<div class="line"><span class="lineno">   54</span><span class="comment">                 * 情况 2 父节点为黑色</span></div>
<div class="line"><span class="lineno">   55</span><span class="comment">                 * ====================</span></div>
<div class="line"><span class="lineno">   56</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">   57</span>                <span class="keywordflow">return</span>; <span class="comment">// cppcheck-suppress [misra-c2012-15.5]</span></div>
<div class="line"><span class="lineno">   58</span>        }</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>        <span class="comment">/* 情况 3： 父节点为红色 */</span></div>
<div class="line"><span class="lineno">   61</span>        gparent = <a class="code hl_function" href="group__xwos__lib__rbtree.html#ga8e9025d3e8bade2a627001fb58251047">xwlib_rbtree_get_parent</a>(parent);</div>
<div class="line"><span class="lineno">   62</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga92eedf95d97d18a5dde5f43d96c148f6">xwlib_rbtree_tst_right</a>(parent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>)) {</div>
<div class="line"><span class="lineno">   63</span>                tmp.uncle = gparent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a305d52ccf12a4bffa8d7e8a346a5ef2d">left</a>;</div>
<div class="line"><span class="lineno">   64</span>                rotation = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga5c1fcedb5c3fde622b548379204e4098">xwlib_rbtree_gen_rr</a>(node); <span class="comment">/* `rotation&#39; 用于右旋 */</span></div>
<div class="line"><span class="lineno">   65</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   66</span>                tmp.uncle = gparent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a>;</div>
<div class="line"><span class="lineno">   67</span>                rotation = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga51fb1ab093e073c1b48dc0ce9c77424e">xwlib_rbtree_gen_lr</a>(node); <span class="comment">/* `rotation&#39; 用于左旋 */</span></div>
<div class="line"><span class="lineno">   68</span>        }</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>        <span class="keywordflow">if</span> ((tmp.uncle) &amp;&amp; <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga299661aeef70eaa3e8ae1c6205f93fea">xwlib_rbtree_tst_red</a>(tmp.uncle-&gt;lpc.v)) {</div>
<div class="line"><span class="lineno">   71</span>                <span class="comment">/*</span></div>
<div class="line"><span class="lineno">   72</span><span class="comment">                 * 情况 3.1 叔节点(u)是红色</span></div>
<div class="line"><span class="lineno">   73</span><span class="comment">                 * =========================</span></div>
<div class="line"><span class="lineno">   74</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">   75</span><span class="comment">                 *                   |</span></div>
<div class="line"><span class="lineno">   76</span><span class="comment">                 *                  g(B)</span></div>
<div class="line"><span class="lineno">   77</span><span class="comment">                 *                __/  \__</span></div>
<div class="line"><span class="lineno">   78</span><span class="comment">                 *               /        \</span></div>
<div class="line"><span class="lineno">   79</span><span class="comment">                 *           p(r)          u(r)</span></div>
<div class="line"><span class="lineno">   80</span><span class="comment">                 *           /  \          /  \</span></div>
<div class="line"><span class="lineno">   81</span><span class="comment">                 *       n(r)</span></div>
<div class="line"><span class="lineno">   82</span><span class="comment">                 *       /  \</span></div>
<div class="line"><span class="lineno">   83</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">   84</span><span class="comment">                 *  flip_color(p); flip_color(u); flip_color(g);</span></div>
<div class="line"><span class="lineno">   85</span><span class="comment">                 * ----------------------------------------------&gt;</span></div>
<div class="line"><span class="lineno">   86</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">   87</span><span class="comment">                 *                   |</span></div>
<div class="line"><span class="lineno">   88</span><span class="comment">                 *                  g(r)</span></div>
<div class="line"><span class="lineno">   89</span><span class="comment">                 *                __/  \__</span></div>
<div class="line"><span class="lineno">   90</span><span class="comment">                 *               /        \</span></div>
<div class="line"><span class="lineno">   91</span><span class="comment">                 *           p(B)          u(B)</span></div>
<div class="line"><span class="lineno">   92</span><span class="comment">                 *           /  \          /  \</span></div>
<div class="line"><span class="lineno">   93</span><span class="comment">                 *       n(r)</span></div>
<div class="line"><span class="lineno">   94</span><span class="comment">                 *       /  \</span></div>
<div class="line"><span class="lineno">   95</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">   96</span><span class="comment">                 *  recursively fix_color(g);</span></div>
<div class="line"><span class="lineno">   97</span><span class="comment">                 * ---------------------------&gt;</span></div>
<div class="line"><span class="lineno">   98</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">   99</span><span class="comment">                 * ******** ******** ******** OR ******** ******** ********</span></div>
<div class="line"><span class="lineno">  100</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  101</span><span class="comment">                 *                   |</span></div>
<div class="line"><span class="lineno">  102</span><span class="comment">                 *                  g(B)</span></div>
<div class="line"><span class="lineno">  103</span><span class="comment">                 *                __/  \__</span></div>
<div class="line"><span class="lineno">  104</span><span class="comment">                 *               /        \</span></div>
<div class="line"><span class="lineno">  105</span><span class="comment">                 *           u(r)          p(r)</span></div>
<div class="line"><span class="lineno">  106</span><span class="comment">                 *           /  \          /  \</span></div>
<div class="line"><span class="lineno">  107</span><span class="comment">                 *                             n(r)</span></div>
<div class="line"><span class="lineno">  108</span><span class="comment">                 *                             /  \</span></div>
<div class="line"><span class="lineno">  109</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  110</span><span class="comment">                 *  flip_color(p); flip_color(u); flip_color(g);</span></div>
<div class="line"><span class="lineno">  111</span><span class="comment">                 * ----------------------------------------------&gt;</span></div>
<div class="line"><span class="lineno">  112</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  113</span><span class="comment">                 *                   |</span></div>
<div class="line"><span class="lineno">  114</span><span class="comment">                 *                  g(r)</span></div>
<div class="line"><span class="lineno">  115</span><span class="comment">                 *                __/  \__</span></div>
<div class="line"><span class="lineno">  116</span><span class="comment">                 *               /        \</span></div>
<div class="line"><span class="lineno">  117</span><span class="comment">                 *           u(B)          p(B)</span></div>
<div class="line"><span class="lineno">  118</span><span class="comment">                 *           /  \          /  \</span></div>
<div class="line"><span class="lineno">  119</span><span class="comment">                 *                             n(r)</span></div>
<div class="line"><span class="lineno">  120</span><span class="comment">                 *                             /  \</span></div>
<div class="line"><span class="lineno">  121</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  122</span><span class="comment">                 *  递归地修正颜色，节点g为待修正颜色的节点</span></div>
<div class="line"><span class="lineno">  123</span><span class="comment">                 * -----------------------------------------&gt;</span></div>
<div class="line"><span class="lineno">  124</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  125</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">  126</span>                <a class="code hl_function" href="group__xwos__lib__rbtree.html#ga3d27937625dc93286c012da5e82945b8">xwlib_rbtree_flip_color</a>(parent);</div>
<div class="line"><span class="lineno">  127</span>                <a class="code hl_function" href="group__xwos__lib__rbtree.html#ga3d27937625dc93286c012da5e82945b8">xwlib_rbtree_flip_color</a>(tmp.uncle);</div>
<div class="line"><span class="lineno">  128</span>                <a class="code hl_function" href="group__xwos__lib__rbtree.html#ga3d27937625dc93286c012da5e82945b8">xwlib_rbtree_flip_color</a>(gparent);</div>
<div class="line"><span class="lineno">  129</span>                node = gparent; <span class="comment">// cppcheck-suppress [misra-c2012-17.8]</span></div>
<div class="line"><span class="lineno">  130</span>                <span class="keywordflow">goto</span> recursively_fix; <span class="comment">// cppcheck-suppress [misra-c2012-15.2]</span></div>
<div class="line"><span class="lineno">  131</span>        }</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>        <span class="comment">/* 情况 3.2 叔节点(U)是叶子或黑色 */</span></div>
<div class="line"><span class="lineno">  134</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga7c77def947c164324809a41db5c54ec3">xwlib_rbtree_get_pos</a>(parent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>) != <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga7c77def947c164324809a41db5c54ec3">xwlib_rbtree_get_pos</a>(node-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>)) {</div>
<div class="line"><span class="lineno">  135</span>                <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  136</span><span class="comment">                 * Case 3.2.1: node-&gt;lpc.pos != parent-&gt;lpc.pos</span></div>
<div class="line"><span class="lineno">  137</span><span class="comment">                 * ============================================</span></div>
<div class="line"><span class="lineno">  138</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  139</span><span class="comment">                 *                      |</span></div>
<div class="line"><span class="lineno">  140</span><span class="comment">                 *                     g(B)</span></div>
<div class="line"><span class="lineno">  141</span><span class="comment">                 *                   __/  \__</span></div>
<div class="line"><span class="lineno">  142</span><span class="comment">                 *                  /        \</span></div>
<div class="line"><span class="lineno">  143</span><span class="comment">                 *               p(r)         u(B)</span></div>
<div class="line"><span class="lineno">  144</span><span class="comment">                 *             __/  \__       /  \</span></div>
<div class="line"><span class="lineno">  145</span><span class="comment">                 *            /        \</span></div>
<div class="line"><span class="lineno">  146</span><span class="comment">                 *        s(B)          n(r)</span></div>
<div class="line"><span class="lineno">  147</span><span class="comment">                 *        /  \          /  \</span></div>
<div class="line"><span class="lineno">  148</span><span class="comment">                 *                  l(B)    r(B)</span></div>
<div class="line"><span class="lineno">  149</span><span class="comment">                 *                  /  \    /  \</span></div>
<div class="line"><span class="lineno">  150</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  151</span><span class="comment">                 *  left_rotate(p);</span></div>
<div class="line"><span class="lineno">  152</span><span class="comment">                 * -----------------&gt;</span></div>
<div class="line"><span class="lineno">  153</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  154</span><span class="comment">                 *                           |</span></div>
<div class="line"><span class="lineno">  155</span><span class="comment">                 *                          g(B)</span></div>
<div class="line"><span class="lineno">  156</span><span class="comment">                 *                        __/  \__</span></div>
<div class="line"><span class="lineno">  157</span><span class="comment">                 *                       /        \</span></div>
<div class="line"><span class="lineno">  158</span><span class="comment">                 *                   n(r)          u(B)</span></div>
<div class="line"><span class="lineno">  159</span><span class="comment">                 *                 __/  \__        /  \</span></div>
<div class="line"><span class="lineno">  160</span><span class="comment">                 *                /        \</span></div>
<div class="line"><span class="lineno">  161</span><span class="comment">                 *            p(r)          r(B)</span></div>
<div class="line"><span class="lineno">  162</span><span class="comment">                 *            /  \          /  \</span></div>
<div class="line"><span class="lineno">  163</span><span class="comment">                 *        s(B)    l(B)</span></div>
<div class="line"><span class="lineno">  164</span><span class="comment">                 *        /  \    /  \</span></div>
<div class="line"><span class="lineno">  165</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  166</span><span class="comment">                 * ******** ******** ******** OR ******** ******** ********</span></div>
<div class="line"><span class="lineno">  167</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  168</span><span class="comment">                 *               |</span></div>
<div class="line"><span class="lineno">  169</span><span class="comment">                 *              g(B)</span></div>
<div class="line"><span class="lineno">  170</span><span class="comment">                 *            __/  \__</span></div>
<div class="line"><span class="lineno">  171</span><span class="comment">                 *           /        \</span></div>
<div class="line"><span class="lineno">  172</span><span class="comment">                 *        u(B)         p(r)</span></div>
<div class="line"><span class="lineno">  173</span><span class="comment">                 *        /  \       __/  \__</span></div>
<div class="line"><span class="lineno">  174</span><span class="comment">                 *                  /        \</span></div>
<div class="line"><span class="lineno">  175</span><span class="comment">                 *              n(r)          s(B)</span></div>
<div class="line"><span class="lineno">  176</span><span class="comment">                 *              /  \          /  \</span></div>
<div class="line"><span class="lineno">  177</span><span class="comment">                 *          l(B)    r(B)</span></div>
<div class="line"><span class="lineno">  178</span><span class="comment">                 *          /  \    /  \</span></div>
<div class="line"><span class="lineno">  179</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  180</span><span class="comment">                 *  right_rotate(p);</span></div>
<div class="line"><span class="lineno">  181</span><span class="comment">                 * -----------------&gt;</span></div>
<div class="line"><span class="lineno">  182</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  183</span><span class="comment">                 *               |</span></div>
<div class="line"><span class="lineno">  184</span><span class="comment">                 *              g(B)</span></div>
<div class="line"><span class="lineno">  185</span><span class="comment">                 *            __/  \__</span></div>
<div class="line"><span class="lineno">  186</span><span class="comment">                 *           /        \</span></div>
<div class="line"><span class="lineno">  187</span><span class="comment">                 *       u(B)          n(r)</span></div>
<div class="line"><span class="lineno">  188</span><span class="comment">                 *       /  \        __/  \__</span></div>
<div class="line"><span class="lineno">  189</span><span class="comment">                 *                  /        \</span></div>
<div class="line"><span class="lineno">  190</span><span class="comment">                 *              l(B)          p(r)</span></div>
<div class="line"><span class="lineno">  191</span><span class="comment">                 *                            /  \</span></div>
<div class="line"><span class="lineno">  192</span><span class="comment">                 *                        r(B)    s(B)</span></div>
<div class="line"><span class="lineno">  193</span><span class="comment">                 *                        /  \    /  \</span></div>
<div class="line"><span class="lineno">  194</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  195</span><span class="comment">                 * 转换为情况 3.2.2，原来的父节点变为待修正颜色的节点(n)。</span></div>
<div class="line"><span class="lineno">  196</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">  197</span>                tmp.child = *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(rotation);</div>
<div class="line"><span class="lineno">  198</span>                <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a> = parent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>;</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>                *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(node-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>) = tmp.child;</div>
<div class="line"><span class="lineno">  201</span>                <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> != tmp.child) {</div>
<div class="line"><span class="lineno">  202</span>                        tmp.child-&gt;lpc.v = node-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a> |</div>
<div class="line"><span class="lineno">  203</span>                                        (<a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)<a class="code hl_enumvalue" href="group__xwos__lib__rbtree.html#gga467e395cb91757101b795f111050319ca960c9838798d56964ca2cc6127e1a999">XWLIB_RBTREE_COLOR_BLACK</a>;</div>
<div class="line"><span class="lineno">  204</span>                }</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>                *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(rotation) = parent;</div>
<div class="line"><span class="lineno">  207</span>                parent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a> = rotation; <span class="comment">/* color: red */</span></div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>                <span class="comment">/* *xwlib_rbtree_get_link(lpc) = node; */</span> <span class="comment">/* omitted */</span></div>
<div class="line"><span class="lineno">  210</span>                node-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a> = <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>; <span class="comment">/* color: red */</span></div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>                <span class="comment">/* 转换为情况 3.2.2 */</span></div>
<div class="line"><span class="lineno">  213</span>                tmp.child = parent;</div>
<div class="line"><span class="lineno">  214</span>                parent = node;</div>
<div class="line"><span class="lineno">  215</span>                node = tmp.child; <span class="comment">// cppcheck-suppress [misra-c2012-17.8]</span></div>
<div class="line"><span class="lineno">  216</span>                <span class="comment">/* lpc = parent-&gt;lpc.v; */</span> <span class="comment">/* omitted */</span></div>
<div class="line"><span class="lineno">  217</span>        }</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  220</span><span class="comment">         * 情况 3.2.2 node-&gt;lpc.pos == parent-&gt;lpc.pos</span></div>
<div class="line"><span class="lineno">  221</span><span class="comment">         * ============================================</span></div>
<div class="line"><span class="lineno">  222</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  223</span><span class="comment">         *                           |</span></div>
<div class="line"><span class="lineno">  224</span><span class="comment">         *                          g(B)</span></div>
<div class="line"><span class="lineno">  225</span><span class="comment">         *                        __/  \__</span></div>
<div class="line"><span class="lineno">  226</span><span class="comment">         *                       /        \</span></div>
<div class="line"><span class="lineno">  227</span><span class="comment">         *                   p(r)          u(B)</span></div>
<div class="line"><span class="lineno">  228</span><span class="comment">         *                 __/  \__        /  \</span></div>
<div class="line"><span class="lineno">  229</span><span class="comment">         *                /        \</span></div>
<div class="line"><span class="lineno">  230</span><span class="comment">         *            n(r)          s(B)</span></div>
<div class="line"><span class="lineno">  231</span><span class="comment">         *            /  \          /  \</span></div>
<div class="line"><span class="lineno">  232</span><span class="comment">         *        l(B)    r(B)</span></div>
<div class="line"><span class="lineno">  233</span><span class="comment">         *        /  \    /  \</span></div>
<div class="line"><span class="lineno">  234</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  235</span><span class="comment">         *  right_rotate(g);</span></div>
<div class="line"><span class="lineno">  236</span><span class="comment">         * ------------------&gt;</span></div>
<div class="line"><span class="lineno">  237</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  238</span><span class="comment">         *                     |</span></div>
<div class="line"><span class="lineno">  239</span><span class="comment">         *                    p(r)</span></div>
<div class="line"><span class="lineno">  240</span><span class="comment">         *                 ___/  \___</span></div>
<div class="line"><span class="lineno">  241</span><span class="comment">         *                /          \</span></div>
<div class="line"><span class="lineno">  242</span><span class="comment">         *            n(r)            g(B)</span></div>
<div class="line"><span class="lineno">  243</span><span class="comment">         *            /  \            /  \</span></div>
<div class="line"><span class="lineno">  244</span><span class="comment">         *        l(B)    r(B)    s(B)    u(B)</span></div>
<div class="line"><span class="lineno">  245</span><span class="comment">         *        /  \    /  \    /  \    /  \</span></div>
<div class="line"><span class="lineno">  246</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  247</span><span class="comment">         *  flip_color(p); flip_color(g);</span></div>
<div class="line"><span class="lineno">  248</span><span class="comment">         * -------------------------------&gt;</span></div>
<div class="line"><span class="lineno">  249</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  250</span><span class="comment">         *                     |</span></div>
<div class="line"><span class="lineno">  251</span><span class="comment">         *                    P(B)</span></div>
<div class="line"><span class="lineno">  252</span><span class="comment">         *                 ___/  \___</span></div>
<div class="line"><span class="lineno">  253</span><span class="comment">         *                /          \</span></div>
<div class="line"><span class="lineno">  254</span><span class="comment">         *            n(r)            g(r)</span></div>
<div class="line"><span class="lineno">  255</span><span class="comment">         *            /  \            /  \</span></div>
<div class="line"><span class="lineno">  256</span><span class="comment">         *        l(B)    r(B)    s(B)    u(B)</span></div>
<div class="line"><span class="lineno">  257</span><span class="comment">         *        /  \    /  \    /  \    /  \</span></div>
<div class="line"><span class="lineno">  258</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  259</span><span class="comment">         * ******** ******** ******** OR ******** ******** ********</span></div>
<div class="line"><span class="lineno">  260</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  261</span><span class="comment">         *               |</span></div>
<div class="line"><span class="lineno">  262</span><span class="comment">         *              g(B)</span></div>
<div class="line"><span class="lineno">  263</span><span class="comment">         *            __/  \__</span></div>
<div class="line"><span class="lineno">  264</span><span class="comment">         *           /        \</span></div>
<div class="line"><span class="lineno">  265</span><span class="comment">         *       u(B)          p(r)</span></div>
<div class="line"><span class="lineno">  266</span><span class="comment">         *       /  \        __/  \__</span></div>
<div class="line"><span class="lineno">  267</span><span class="comment">         *                  /        \</span></div>
<div class="line"><span class="lineno">  268</span><span class="comment">         *              s(B)          n(r)</span></div>
<div class="line"><span class="lineno">  269</span><span class="comment">         *                            /  \</span></div>
<div class="line"><span class="lineno">  270</span><span class="comment">         *                        l(B)    r(B)</span></div>
<div class="line"><span class="lineno">  271</span><span class="comment">         *                        /  \    /  \</span></div>
<div class="line"><span class="lineno">  272</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  273</span><span class="comment">         *  left_rotate(g);</span></div>
<div class="line"><span class="lineno">  274</span><span class="comment">         * ------------------&gt;</span></div>
<div class="line"><span class="lineno">  275</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  276</span><span class="comment">         *                     |</span></div>
<div class="line"><span class="lineno">  277</span><span class="comment">         *                    p(r)</span></div>
<div class="line"><span class="lineno">  278</span><span class="comment">         *                 ___/  \___</span></div>
<div class="line"><span class="lineno">  279</span><span class="comment">         *                /          \</span></div>
<div class="line"><span class="lineno">  280</span><span class="comment">         *            g(B)            n(r)</span></div>
<div class="line"><span class="lineno">  281</span><span class="comment">         *            /  \            /  \</span></div>
<div class="line"><span class="lineno">  282</span><span class="comment">         *        u(B)    s(B)    l(B)    r(B)</span></div>
<div class="line"><span class="lineno">  283</span><span class="comment">         *        /  \    /  \    /  \    /  \</span></div>
<div class="line"><span class="lineno">  284</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  285</span><span class="comment">         *  flip_color(p); flip_color(g);</span></div>
<div class="line"><span class="lineno">  286</span><span class="comment">         * -------------------------------&gt;</span></div>
<div class="line"><span class="lineno">  287</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  288</span><span class="comment">         *                     |</span></div>
<div class="line"><span class="lineno">  289</span><span class="comment">         *                    p(B)</span></div>
<div class="line"><span class="lineno">  290</span><span class="comment">         *                 ___/  \___</span></div>
<div class="line"><span class="lineno">  291</span><span class="comment">         *                /          \</span></div>
<div class="line"><span class="lineno">  292</span><span class="comment">         *            g(r)            n(r)</span></div>
<div class="line"><span class="lineno">  293</span><span class="comment">         *            /  \            /  \</span></div>
<div class="line"><span class="lineno">  294</span><span class="comment">         *        u(B)    s(B)    l(B)    r(B)</span></div>
<div class="line"><span class="lineno">  295</span><span class="comment">         *        /  \    /  \    /  \    /  \</span></div>
<div class="line"><span class="lineno">  296</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  297</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  298</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga92eedf95d97d18a5dde5f43d96c148f6">xwlib_rbtree_tst_right</a>(node-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>)) {</div>
<div class="line"><span class="lineno">  299</span>                tmp.sibling = parent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a305d52ccf12a4bffa8d7e8a346a5ef2d">left</a>;</div>
<div class="line"><span class="lineno">  300</span>                rotation = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga51fb1ab093e073c1b48dc0ce9c77424e">xwlib_rbtree_gen_lr</a>(parent); <span class="comment">/* 左旋g */</span></div>
<div class="line"><span class="lineno">  301</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  302</span>                tmp.sibling = parent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a>;</div>
<div class="line"><span class="lineno">  303</span>                rotation = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga5c1fcedb5c3fde622b548379204e4098">xwlib_rbtree_gen_rr</a>(parent); <span class="comment">/* 右旋g */</span></div>
<div class="line"><span class="lineno">  304</span>        }</div>
<div class="line"><span class="lineno">  305</span>        <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a> = parent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>;</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>        *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(gparent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>) = parent;</div>
<div class="line"><span class="lineno">  308</span>        parent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a> = gparent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>; <span class="comment">/* flip_color(p): 黑 */</span></div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span>        *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>) = tmp.sibling;</div>
<div class="line"><span class="lineno">  311</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> != tmp.sibling) {</div>
<div class="line"><span class="lineno">  312</span>                tmp.sibling-&gt;lpc.v = ((<a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>) | (<a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)<a class="code hl_enumvalue" href="group__xwos__lib__rbtree.html#gga467e395cb91757101b795f111050319ca960c9838798d56964ca2cc6127e1a999">XWLIB_RBTREE_COLOR_BLACK</a>;</div>
<div class="line"><span class="lineno">  313</span>        }</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>        *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(rotation) = gparent;</div>
<div class="line"><span class="lineno">  316</span>        gparent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a> = rotation; <span class="comment">/* flip_color(g): 红 */</span></div>
<div class="line"><span class="lineno">  317</span>}</div>
<div class="ttc" id="agroup__xwos__lib__rbtree_html_ga299661aeef70eaa3e8ae1c6205f93fea"><div class="ttname"><a href="group__xwos__lib__rbtree.html#ga299661aeef70eaa3e8ae1c6205f93fea">xwlib_rbtree_tst_red</a></div><div class="ttdeci">#define xwlib_rbtree_tst_red(lpc)</div><div class="ttdoc">测试当前lpc中的颜色信息是否为红色</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00228">rbtree.h:228</a></div></div>
<div class="ttc" id="agroup__xwos__lib__rbtree_html_ga3d27937625dc93286c012da5e82945b8"><div class="ttname"><a href="group__xwos__lib__rbtree.html#ga3d27937625dc93286c012da5e82945b8">xwlib_rbtree_flip_color</a></div><div class="ttdeci">static void xwlib_rbtree_flip_color(struct xwlib_rbtree_node *node)</div><div class="ttdoc">反转节点的颜色</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00319">rbtree.h:319</a></div></div>
<div class="ttc" id="agroup__xwos__lib__rbtree_html_ga51fb1ab093e073c1b48dc0ce9c77424e"><div class="ttname"><a href="group__xwos__lib__rbtree.html#ga51fb1ab093e073c1b48dc0ce9c77424e">xwlib_rbtree_gen_lr</a></div><div class="ttdeci">#define xwlib_rbtree_gen_lr(n)</div><div class="ttdoc">生成节点左边的链指针、位置和红色信息</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00184">rbtree.h:184</a></div></div>
<div class="ttc" id="agroup__xwos__lib__rbtree_html_ga5c1fcedb5c3fde622b548379204e4098"><div class="ttname"><a href="group__xwos__lib__rbtree.html#ga5c1fcedb5c3fde622b548379204e4098">xwlib_rbtree_gen_rr</a></div><div class="ttdeci">#define xwlib_rbtree_gen_rr(n)</div><div class="ttdoc">生成节点右边的链指针、位置和红色信息</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00198">rbtree.h:198</a></div></div>
<div class="ttc" id="agroup__xwos__lib__rbtree_html_ga8e9025d3e8bade2a627001fb58251047"><div class="ttname"><a href="group__xwos__lib__rbtree.html#ga8e9025d3e8bade2a627001fb58251047">xwlib_rbtree_get_parent</a></div><div class="ttdeci">static struct xwlib_rbtree_node * xwlib_rbtree_get_parent(struct xwlib_rbtree_node *node)</div><div class="ttdoc">返回节点的父节点指针</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00253">rbtree.h:253</a></div></div>
<div class="ttc" id="agroup__xwos__lib__rbtree_html_ga92eedf95d97d18a5dde5f43d96c148f6"><div class="ttname"><a href="group__xwos__lib__rbtree.html#ga92eedf95d97d18a5dde5f43d96c148f6">xwlib_rbtree_tst_right</a></div><div class="ttdeci">#define xwlib_rbtree_tst_right(lpc)</div><div class="ttdoc">测试当前lpc中的位置信息是否为右侧</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00150">rbtree.h:150</a></div></div>
<div class="ttc" id="agroup__xwos__lib__rbtree_html_gadd781d7c569eb6e8fea3f789c797c740"><div class="ttname"><a href="group__xwos__lib__rbtree.html#gadd781d7c569eb6e8fea3f789c797c740">xwlib_rbtree_tst_black</a></div><div class="ttdeci">#define xwlib_rbtree_tst_black(lpc)</div><div class="ttdoc">测试当前lpc中的颜色信息是否为黑色</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00220">rbtree.h:220</a></div></div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__lib__rbtree_gaa09f90f7792b00240a3cecef84946d88_cgraph.png" border="0" usemap="#agroup__xwos__lib__rbtree_gaa09f90f7792b00240a3cecef84946d88_cgraph" alt=""/></div>
<map name="agroup__xwos__lib__rbtree_gaa09f90f7792b00240a3cecef84946d88_cgraph" id="agroup__xwos__lib__rbtree_gaa09f90f7792b00240a3cecef84946d88_cgraph">
<area shape="rect" title="插入一个红色节点后修正红黑树的颜色" alt="" coords="5,23,136,63"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#ga3d27937625dc93286c012da5e82945b8" title="反转节点的颜色" alt="" coords="189,5,339,31"/>
<area shape="poly" title=" " alt="" coords="136,32,175,27,175,32,136,37"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#ga8e9025d3e8bade2a627001fb58251047" title="返回节点的父节点指针" alt="" coords="184,55,344,80"/>
<area shape="poly" title=" " alt="" coords="136,49,171,53,170,58,136,54"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__lib__rbtree_gaa09f90f7792b00240a3cecef84946d88_icgraph.png" border="0" usemap="#agroup__xwos__lib__rbtree_gaa09f90f7792b00240a3cecef84946d88_icgraph" alt=""/></div>
<map name="agroup__xwos__lib__rbtree_gaa09f90f7792b00240a3cecef84946d88_icgraph" id="agroup__xwos__lib__rbtree_gaa09f90f7792b00240a3cecef84946d88_icgraph">
<area shape="rect" title="插入一个红色节点后修正红黑树的颜色" alt="" coords="2244,77,2375,117"/>
<area shape="rect" href="group__xwos__lib__map.html#ga99035462773a66c0872014a1419193f5" title="插入键值对容器" alt="" coords="2015,59,2138,84"/>
<area shape="poly" title=" " alt="" coords="2230,91,2138,81,2138,76,2231,86"/>
<area shape="rect" href="page_8c.html#adc418491ba0dd770fa96b845e96722d9" title="增加页到阶红黑树中" alt="" coords="1957,108,2196,134"/>
<area shape="poly" title=" " alt="" coords="2231,108,2197,111,2196,106,2230,102"/>
<area shape="rect" href="group__xwmm__mempool.html#gaeac7d28f7509e0c764b9f995ebd45f12" title="XWMM API：初始化页分配器" alt="" coords="909,55,1145,80"/>
<area shape="poly" title=" " alt="" coords="1973,109,1909,100,1800,81,1708,62,1551,27,1475,15,1394,9,1302,11,1194,22,1123,38,1063,57,1061,52,1122,33,1193,17,1302,5,1394,3,1476,9,1552,21,1709,57,1801,76,1910,94,1974,104"/>
<area shape="rect" href="page_8c.html#a8e9302d65eea335934b13f63caea64aa" title="合并空闲的伙伴页" alt="" coords="1687,108,1899,134"/>
<area shape="poly" title=" " alt="" coords="1944,124,1899,124,1899,118,1944,118"/>
<area shape="rect" href="page_8c.html#a6385524c294a6af40c2ea0ff315d60fd" title="将大的页拆分成小的页" alt="" coords="1677,158,1909,183"/>
<area shape="poly" title=" " alt="" coords="1990,139,1868,160,1867,155,1989,133"/>
<area shape="rect" href="allocator_8c.html#a6e1f6748cc378d09e931897b69231d0d" title="构建内存池" alt="" coords="199,132,381,158"/>
<area shape="poly" title=" " alt="" coords="896,84,382,138,381,133,895,79"/>
<area shape="rect" href="group__xwmm__mempool.html#gaad8340a12043c383e489a786788e89af" title="XWMM API：初始化内存池" alt="" coords="5,132,151,158"/>
<area shape="poly" title=" " alt="" coords="184,148,151,148,151,142,184,142"/>
<area shape="rect" href="group__xwmm__mempool.html#ga52f11e08dc37a0cc72717169b6ae4131" title="XWMM API：释放一页内存" alt="" coords="1433,108,1618,134"/>
<area shape="poly" title=" " alt="" coords="1674,124,1618,124,1618,118,1674,118"/>
<area shape="rect" href="objcache_8c.html#a21221e21cca4abbdfc36138c1cecb3f5" title="释放空闲页" alt="" coords="1193,160,1373,200"/>
<area shape="poly" title=" " alt="" coords="1460,139,1367,162,1366,157,1458,134"/>
<area shape="rect" href="page_8c.html#a4fff326383599e57562dd2d1bd8dbc2b" title="i_allocator接口函数：释放内存" alt="" coords="1200,32,1367,72"/>
<area shape="poly" title=" " alt="" coords="1466,107,1353,74,1355,69,1468,102"/>
<area shape="rect" href="group__xwmm__mempool.html#gae7d39e7ba00cc3926284e6ba8775121b" title="XWMM API：释放对象到对象缓存中" alt="" coords="923,160,1132,186"/>
<area shape="poly" title=" " alt="" coords="1179,180,1132,178,1132,173,1180,174"/>
<area shape="rect" href="group__xwmm__mempool.html#gaa72ed546dbddbbb8dd035c01c6334a24" title="XWMM API：预留对象到对象缓存中" alt="" coords="937,210,1117,250"/>
<area shape="poly" title=" " alt="" coords="1180,203,1118,215,1117,210,1179,197"/>
<area shape="rect" href="objcache_8c.html#a7214f0b448c3680b68f84d3bb6d7155a" title="i_allocator接口函数：释放内存" alt="" coords="681,153,861,193"/>
<area shape="poly" title=" " alt="" coords="909,176,862,176,862,170,909,170"/>
<area shape="rect" href="group__xwmm__mempool.html#ga15d8fc6d72d2ef920927bd6702174c3a" title="XWMM API：初始化对象缓存" alt="" coords="429,160,633,186"/>
<area shape="poly" title=" " alt="" coords="668,176,634,176,634,170,668,170"/>
<area shape="poly" title=" " alt="" coords="415,162,381,158,382,153,416,157"/>
<area shape="poly" title=" " alt="" coords="1186,60,1146,63,1145,58,1186,55"/>
<area shape="rect" href="group__xwmm__mempool.html#ga7cbe7d0a7d7052c887dc7723c5010ec1" title="XWMM API：申请一页内存" alt="" coords="1421,162,1629,187"/>
<area shape="poly" title=" " alt="" coords="1664,175,1630,175,1630,170,1664,169"/>
<area shape="poly" title=" " alt="" coords="1469,193,1374,214,1240,228,1118,233,1118,227,1239,222,1373,209,1468,188"/>
<area shape="rect" href="objcache_8c.html#a23e4915feeaf7a05d46ec2affe504642" title="获取一页，准备从页内存中分配对象" alt="" coords="1193,274,1373,314"/>
<area shape="poly" title=" " alt="" coords="1491,196,1375,258,1334,276,1332,272,1372,253,1489,191"/>
<area shape="rect" href="page_8c.html#a4b4868cc6b3b9570ba579c040c6d11a2" title="i_allocator接口函数：申请内存" alt="" coords="1200,96,1367,136"/>
<area shape="poly" title=" " alt="" coords="1458,161,1366,138,1367,133,1460,156"/>
<area shape="rect" href="group__xwmm__mempool.html#ga86e445faf7ecf95130e042fa9b96a41b" title="XWMM API：从对象缓存中申请一个对象" alt="" coords="937,274,1117,314"/>
<area shape="poly" title=" " alt="" coords="1180,297,1117,297,1117,292,1180,292"/>
<area shape="rect" href="objcache_8c.html#a27d6631115c7033bfb49d22d5d3d992d" title="i_allocator接口函数：申请内存" alt="" coords="681,245,861,285"/>
<area shape="poly" title=" " alt="" coords="923,285,861,278,862,273,924,280"/>
<area shape="poly" title=" " alt="" coords="704,242,565,188,567,183,706,237"/>
<area shape="poly" title=" " alt="" coords="1186,100,1095,83,1096,78,1187,95"/>
</map>
</div>

</div>
</div>
<a id="gaef7f6608cd37a0fb765adb003428ec38" name="gaef7f6608cd37a0fb765adb003428ec38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaef7f6608cd37a0fb765adb003428ec38">&#9670;&#160;</a></span>xwlib_rbtree_link()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void xwlib_rbtree_link </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>&#160;</td>
          <td class="paramname"><em>lpc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>链接节点，并设置位置及颜色信息 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">node</td><td>被链接的节点指针 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lpc</td><td>链指针、位置和颜色的合并值 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00350">350</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  351</span>{</div>
<div class="line"><span class="lineno">  352</span>        node-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a> = lpc;</div>
<div class="line"><span class="lineno">  353</span>        *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(lpc) = node;</div>
<div class="line"><span class="lineno">  354</span>}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__lib__rbtree_gaef7f6608cd37a0fb765adb003428ec38_icgraph.png" border="0" usemap="#agroup__xwos__lib__rbtree_gaef7f6608cd37a0fb765adb003428ec38_icgraph" alt=""/></div>
<map name="agroup__xwos__lib__rbtree_gaef7f6608cd37a0fb765adb003428ec38_icgraph" id="agroup__xwos__lib__rbtree_gaef7f6608cd37a0fb765adb003428ec38_icgraph">
<area shape="rect" title="链接节点，并设置位置及颜色信息" alt="" coords="2435,162,2553,187"/>
<area shape="rect" href="group__xwos__lib__map.html#ga99035462773a66c0872014a1419193f5" title="插入键值对容器" alt="" coords="2254,87,2377,113"/>
<area shape="poly" title=" " alt="" coords="2455,158,2386,126,2356,115,2358,110,2388,122,2457,153"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#gac57fdaeef6a9dc2ee2bedbf5ac885f96" title="删除一个节点，并修正红黑树的颜色" alt="" coords="2244,137,2387,162"/>
<area shape="poly" title=" " alt="" coords="2421,167,2387,162,2387,157,2421,162"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#gaf8646036885c32c8a323c5b8169603fd" title="用一个新节点代替旧节点，继承它的颜色、位置信息并接管它的子树" alt="" coords="2245,238,2386,263"/>
<area shape="poly" title=" " alt="" coords="2452,195,2347,240,2345,235,2450,190"/>
<area shape="rect" href="page_8c.html#adc418491ba0dd770fa96b845e96722d9" title="增加页到阶红黑树中" alt="" coords="1957,226,2196,251"/>
<area shape="poly" title=" " alt="" coords="2421,188,2161,229,2160,223,2421,183"/>
<area shape="rect" href="group__xwos__lib__map.html#gae0a9e603da5733ebdf899a7969227cf8" title="删除键值对容器" alt="" coords="2015,47,2138,73"/>
<area shape="poly" title=" " alt="" coords="2258,134,2243,126,2219,106,2209,97,2195,88,2167,77,2138,70,2139,65,2169,72,2197,83,2212,92,2222,102,2245,122,2261,129"/>
<area shape="rect" href="page_8c.html#ab54f23d0058e1bff33377fc2d7b0a48c" title="从阶红黑树中选择一页" alt="" coords="1971,97,2182,137"/>
<area shape="poly" title=" " alt="" coords="2230,141,2182,134,2183,129,2231,135"/>
<area shape="rect" href="page_8c.html#a0803eb38a9059618cf4c98136dc70033" title="从阶红黑树中删除页" alt="" coords="1971,161,2182,201"/>
<area shape="poly" title=" " alt="" coords="2231,163,2183,170,2182,165,2230,158"/>
<area shape="rect" href="group__xwmm__mempool.html#ga7cbe7d0a7d7052c887dc7723c5010ec1" title="XWMM API：申请一页内存" alt="" coords="1421,105,1629,130"/>
<area shape="poly" title=" " alt="" coords="1957,120,1629,120,1629,115,1957,115"/>
<area shape="rect" href="objcache_8c.html#a23e4915feeaf7a05d46ec2affe504642" title="获取一页，准备从页内存中分配对象" alt="" coords="1193,5,1373,45"/>
<area shape="poly" title=" " alt="" coords="1477,102,1336,48,1338,43,1479,97"/>
<area shape="rect" href="group__xwmm__mempool.html#gaa72ed546dbddbbb8dd035c01c6334a24" title="XWMM API：预留对象到对象缓存中" alt="" coords="937,69,1117,109"/>
<area shape="poly" title=" " alt="" coords="1407,113,1373,111,1117,97,1118,91,1373,105,1408,107"/>
<area shape="rect" href="page_8c.html#a4b4868cc6b3b9570ba579c040c6d11a2" title="i_allocator接口函数：申请内存" alt="" coords="1200,184,1367,224"/>
<area shape="poly" title=" " alt="" coords="1477,137,1374,175,1341,186,1340,181,1372,169,1475,132"/>
<area shape="rect" href="group__xwmm__mempool.html#ga86e445faf7ecf95130e042fa9b96a41b" title="XWMM API：从对象缓存中申请一个对象" alt="" coords="937,5,1117,45"/>
<area shape="poly" title=" " alt="" coords="1180,28,1117,28,1117,23,1180,23"/>
<area shape="rect" href="objcache_8c.html#a27d6631115c7033bfb49d22d5d3d992d" title="i_allocator接口函数：申请内存" alt="" coords="681,35,861,75"/>
<area shape="poly" title=" " alt="" coords="924,40,862,47,861,42,923,35"/>
<area shape="rect" href="group__xwmm__mempool.html#ga15d8fc6d72d2ef920927bd6702174c3a" title="XWMM API：初始化对象缓存" alt="" coords="429,134,633,159"/>
<area shape="poly" title=" " alt="" coords="706,82,567,136,565,131,704,77"/>
<area shape="rect" href="allocator_8c.html#a6e1f6748cc378d09e931897b69231d0d" title="构建内存池" alt="" coords="199,195,381,221"/>
<area shape="poly" title=" " alt="" coords="468,165,341,198,340,193,467,160"/>
<area shape="rect" href="group__xwmm__mempool.html#gaad8340a12043c383e489a786788e89af" title="XWMM API：初始化内存池" alt="" coords="5,195,151,221"/>
<area shape="poly" title=" " alt="" coords="184,211,151,211,151,205,184,205"/>
<area shape="rect" href="group__xwmm__mempool.html#gaeac7d28f7509e0c764b9f995ebd45f12" title="XWMM API：初始化页分配器" alt="" coords="909,239,1145,265"/>
<area shape="poly" title=" " alt="" coords="1187,225,1096,242,1095,237,1186,219"/>
<area shape="poly" title=" " alt="" coords="895,247,381,216,382,211,896,242"/>
<area shape="rect" href="page_8c.html#a8e9302d65eea335934b13f63caea64aa" title="合并空闲的伙伴页" alt="" coords="1687,170,1899,195"/>
<area shape="poly" title=" " alt="" coords="1957,185,1900,185,1900,180,1957,179"/>
<area shape="rect" href="group__xwmm__mempool.html#ga52f11e08dc37a0cc72717169b6ae4131" title="XWMM API：释放一页内存" alt="" coords="1433,170,1618,195"/>
<area shape="poly" title=" " alt="" coords="1674,185,1618,185,1618,180,1674,180"/>
<area shape="rect" href="objcache_8c.html#a21221e21cca4abbdfc36138c1cecb3f5" title="释放空闲页" alt="" coords="1193,120,1373,160"/>
<area shape="poly" title=" " alt="" coords="1439,170,1373,158,1374,153,1440,165"/>
<area shape="rect" href="page_8c.html#a4fff326383599e57562dd2d1bd8dbc2b" title="i_allocator接口函数：释放内存" alt="" coords="1200,248,1367,288"/>
<area shape="poly" title=" " alt="" coords="1476,202,1342,251,1340,245,1475,197"/>
<area shape="poly" title=" " alt="" coords="1179,122,1117,110,1118,104,1180,117"/>
<area shape="rect" href="group__xwmm__mempool.html#gae7d39e7ba00cc3926284e6ba8775121b" title="XWMM API：释放对象到对象缓存中" alt="" coords="923,134,1132,159"/>
<area shape="poly" title=" " alt="" coords="1180,145,1132,147,1132,141,1179,140"/>
<area shape="rect" href="objcache_8c.html#a7214f0b448c3680b68f84d3bb6d7155a" title="i_allocator接口函数：释放内存" alt="" coords="681,127,861,167"/>
<area shape="poly" title=" " alt="" coords="909,149,862,149,862,144,909,144"/>
<area shape="poly" title=" " alt="" coords="668,149,634,149,634,144,668,144"/>
<area shape="poly" title=" " alt="" coords="1186,265,1145,262,1146,257,1186,259"/>
<area shape="poly" title=" " alt="" coords="2004,257,1855,282,1654,307,1541,315,1425,318,1308,314,1193,303,1122,287,1061,267,1063,262,1123,282,1194,297,1308,309,1425,312,1541,309,1653,301,1854,277,2003,251"/>
<area shape="poly" title=" " alt="" coords="1998,226,1858,198,1859,193,1999,221"/>
<area shape="rect" href="page_8c.html#a6385524c294a6af40c2ea0ff315d60fd" title="将大的页拆分成小的页" alt="" coords="1677,223,1909,249"/>
<area shape="poly" title=" " alt="" coords="1944,240,1910,240,1910,234,1944,235"/>
<area shape="poly" title=" " alt="" coords="1700,221,1676,210,1660,198,1651,185,1642,172,1628,160,1600,144,1571,133,1573,128,1602,139,1631,155,1646,169,1655,182,1664,194,1679,206,1702,217"/>
</map>
</div>

</div>
</div>
<a id="ga03641846bfafb5ec6aa9a3c3c84dec45" name="ga03641846bfafb5ec6aa9a3c3c84dec45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga03641846bfafb5ec6aa9a3c3c84dec45">&#9670;&#160;</a></span>xwlib_rbtree_link_nil()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void xwlib_rbtree_link_nil </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> **&#160;</td>
          <td class="paramname"><em>link</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>链接空（叶子）节点 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">link</td><td>链接的位置 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00361">361</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  362</span>{</div>
<div class="line"><span class="lineno">  363</span>        *link = <a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  364</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gac57fdaeef6a9dc2ee2bedbf5ac885f96" name="gac57fdaeef6a9dc2ee2bedbf5ac885f96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac57fdaeef6a9dc2ee2bedbf5ac885f96">&#9670;&#160;</a></span>xwlib_rbtree_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xwlib_rbtree_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree.html">xwlib_rbtree</a> *&#160;</td>
          <td class="paramname"><em>tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>删除一个节点，并修正红黑树的颜色 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tree</td><td>红黑树的指针 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">node</td><td>待删除的节点的指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd><ul>
<li>此函数假设不存在节点没有链接到红黑树的情形。 </li>
</ul>
</dd></dl>

<p class="definition">在文件 <a class="el" href="rbtree_8c_source.html">rbtree.c</a> 第 <a class="el" href="rbtree_8c_source.html#l00320">320</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  322</span>{</div>
<div class="line"><span class="lineno">  323</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * parent;</div>
<div class="line"><span class="lineno">  324</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * sibling;</div>
<div class="line"><span class="lineno">  325</span>        <span class="keyword">union </span>{</div>
<div class="line"><span class="lineno">  326</span>                <span class="keyword">struct </span><a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * same;</div>
<div class="line"><span class="lineno">  327</span>                <span class="keyword">struct </span><a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * <a class="code hl_variable" href="structxwlib__rbtree__node.html#a305d52ccf12a4bffa8d7e8a346a5ef2d">left</a>;</div>
<div class="line"><span class="lineno">  328</span>        } sl;</div>
<div class="line"><span class="lineno">  329</span>        <span class="keyword">union </span>{</div>
<div class="line"><span class="lineno">  330</span>                <span class="keyword">struct </span><a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * reverse;</div>
<div class="line"><span class="lineno">  331</span>                <span class="keyword">struct </span><a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * <a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a>;</div>
<div class="line"><span class="lineno">  332</span>        } rr;</div>
<div class="line"><span class="lineno">  333</span>        <span class="keyword">union </span>{</div>
<div class="line"><span class="lineno">  334</span>                <span class="keyword">struct </span><a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * child;</div>
<div class="line"><span class="lineno">  335</span>                <a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a> <a class="code hl_variable" href="structxwlib__rbtree__node.html#a4f10043d87e11f0bb0b1a9ff4f398177">color</a>;</div>
<div class="line"><span class="lineno">  336</span>        } cc;</div>
<div class="line"><span class="lineno">  337</span>        <a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a> <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>;</div>
<div class="line"><span class="lineno">  338</span>        <a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a> rotation;</div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span>        <span class="comment">/* 步骤 1 删除节点 */</span></div>
<div class="line"><span class="lineno">  341</span>        rr.right =  node-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a>;</div>
<div class="line"><span class="lineno">  342</span>        sl.<a class="code hl_variable" href="structxwlib__rbtree__node.html#a305d52ccf12a4bffa8d7e8a346a5ef2d">left</a> =  node-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a305d52ccf12a4bffa8d7e8a346a5ef2d">left</a>;</div>
<div class="line"><span class="lineno">  343</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> == sl.left) {</div>
<div class="line"><span class="lineno">  344</span>                parent = <a class="code hl_function" href="group__xwos__lib__rbtree.html#ga8e9025d3e8bade2a627001fb58251047">xwlib_rbtree_get_parent</a>(node);</div>
<div class="line"><span class="lineno">  345</span>                *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(node-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>) = rr.right;</div>
<div class="line"><span class="lineno">  346</span>                <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> == rr.right) {</div>
<div class="line"><span class="lineno">  347</span>                        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  348</span><span class="comment">                         * 情况 1.1 待删除的节点(n)没有子节点</span></div>
<div class="line"><span class="lineno">  349</span><span class="comment">                         * ===================================</span></div>
<div class="line"><span class="lineno">  350</span><span class="comment">                         * 情况 1.1.1 节点(n)是红色</span></div>
<div class="line"><span class="lineno">  351</span><span class="comment">                         * 根据性质5，它的兄弟节点(s)不是叶子，就是红色节点，</span></div>
<div class="line"><span class="lineno">  352</span><span class="comment">                         * 且(s)没有子节点；</span></div>
<div class="line"><span class="lineno">  353</span><span class="comment">                         *                             *</span></div>
<div class="line"><span class="lineno">  354</span><span class="comment">                         *                  |          *        |</span></div>
<div class="line"><span class="lineno">  355</span><span class="comment">                         *                p(*)         *      p(*)</span></div>
<div class="line"><span class="lineno">  356</span><span class="comment">                         *                /   \        *      /   \</span></div>
<div class="line"><span class="lineno">  357</span><span class="comment">                         * s(r) or NULL(B)     n(r)    *  n(r)     NULL(B) or s(r)</span></div>
<div class="line"><span class="lineno">  358</span><span class="comment">                         *                             *</span></div>
<div class="line"><span class="lineno">  359</span><span class="comment">                         *  transplant_nil(n)          *  transplant_nil(n)</span></div>
<div class="line"><span class="lineno">  360</span><span class="comment">                         * --------------------&gt;       * --------------------&gt;</span></div>
<div class="line"><span class="lineno">  361</span><span class="comment">                         *                             *</span></div>
<div class="line"><span class="lineno">  362</span><span class="comment">                         *                  |          *          |</span></div>
<div class="line"><span class="lineno">  363</span><span class="comment">                         *                p(*)         *        p(*)</span></div>
<div class="line"><span class="lineno">  364</span><span class="comment">                         *                /   \        *        /   \</span></div>
<div class="line"><span class="lineno">  365</span><span class="comment">                         * s(r) or NULL(B)     NULL(B) * NULL(B)     NULL(B) or s(r)</span></div>
<div class="line"><span class="lineno">  366</span><span class="comment">                         *                             *</span></div>
<div class="line"><span class="lineno">  367</span><span class="comment">                         * =====================================================</span></div>
<div class="line"><span class="lineno">  368</span><span class="comment">                         * 情况 1.1.2 节点(n)是黑色</span></div>
<div class="line"><span class="lineno">  369</span><span class="comment">                         * 根据性质5，(n)的兄弟节点(s)一定不是叶子：</span></div>
<div class="line"><span class="lineno">  370</span><span class="comment">                         * + 如果兄弟节点(s)是红色，那么兄弟节点(s)有两个黑色子节点；</span></div>
<div class="line"><span class="lineno">  371</span><span class="comment">                         * + 如果兄弟节点(s)是黑色，那么兄弟节点(s)没子节点。</span></div>
<div class="line"><span class="lineno">  372</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  373</span><span class="comment">                         *               |</span></div>
<div class="line"><span class="lineno">  374</span><span class="comment">                         *             p(*)</span></div>
<div class="line"><span class="lineno">  375</span><span class="comment">                         *             /   \</span></div>
<div class="line"><span class="lineno">  376</span><span class="comment">                         * s(B) or s(r)     n(B)</span></div>
<div class="line"><span class="lineno">  377</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  378</span><span class="comment">                         *  transplant_nil(n)</span></div>
<div class="line"><span class="lineno">  379</span><span class="comment">                         * --------------------&gt;</span></div>
<div class="line"><span class="lineno">  380</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  381</span><span class="comment">                         *               |                              |</span></div>
<div class="line"><span class="lineno">  382</span><span class="comment">                         *             p(*)                           p(*)</span></div>
<div class="line"><span class="lineno">  383</span><span class="comment">                         *             /   \            or            /   \</span></div>
<div class="line"><span class="lineno">  384</span><span class="comment">                         *         s(B)     NULL(BB)              s(r)     NULL(BB)</span></div>
<div class="line"><span class="lineno">  385</span><span class="comment">                         *         /  \                           /  \</span></div>
<div class="line"><span class="lineno">  386</span><span class="comment">                         *  NULL(B)    NULL(B)                l(B)    r(B)</span></div>
<div class="line"><span class="lineno">  387</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  388</span><span class="comment">                         * ******** ******** ******** OR ******** ******** ********</span></div>
<div class="line"><span class="lineno">  389</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  390</span><span class="comment">                         *        |</span></div>
<div class="line"><span class="lineno">  391</span><span class="comment">                         *      p(*)</span></div>
<div class="line"><span class="lineno">  392</span><span class="comment">                         *      /   \</span></div>
<div class="line"><span class="lineno">  393</span><span class="comment">                         *  n(B)     s(B) or s(r)</span></div>
<div class="line"><span class="lineno">  394</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  395</span><span class="comment">                         *  transplant_nil(n)</span></div>
<div class="line"><span class="lineno">  396</span><span class="comment">                         * --------------------&gt;</span></div>
<div class="line"><span class="lineno">  397</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  398</span><span class="comment">                         *            |                                 |</span></div>
<div class="line"><span class="lineno">  399</span><span class="comment">                         *          p(*)                              p(*)</span></div>
<div class="line"><span class="lineno">  400</span><span class="comment">                         *          /   \                             /   \</span></div>
<div class="line"><span class="lineno">  401</span><span class="comment">                         *  NULL(BB)     s(B)           or    NULL(BB)     s(r)</span></div>
<div class="line"><span class="lineno">  402</span><span class="comment">                         *               /  \                              /  \</span></div>
<div class="line"><span class="lineno">  403</span><span class="comment">                         *        NULL(B)    NULL(B)                   l(B)    r(B)</span></div>
<div class="line"><span class="lineno">  404</span><span class="comment">                         */</span></div>
<div class="line"><span class="lineno">  405</span>                        <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> == tree-&gt;<a class="code hl_variable" href="structxwlib__rbtree.html#a05d1bdd1cf62a0a083a576d914250270">root</a>) {</div>
<div class="line"><span class="lineno">  406</span>                                <span class="keywordflow">return</span>; <span class="comment">// cppcheck-suppress [misra-c2012-15.5]</span></div>
<div class="line"><span class="lineno">  407</span>                        }</div>
<div class="line"><span class="lineno">  408</span> </div>
<div class="line"><span class="lineno">  409</span>                        <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a> = node-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>;</div>
<div class="line"><span class="lineno">  410</span>                        <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__rbtree.html#gadd781d7c569eb6e8fea3f789c797c740">xwlib_rbtree_tst_black</a>(<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>)) {</div>
<div class="line"><span class="lineno">  411</span>                                <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga92eedf95d97d18a5dde5f43d96c148f6">xwlib_rbtree_tst_right</a>(<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>)) {</div>
<div class="line"><span class="lineno">  412</span>                                        sibling = parent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a305d52ccf12a4bffa8d7e8a346a5ef2d">left</a>;</div>
<div class="line"><span class="lineno">  413</span>                                        rotation = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga5c1fcedb5c3fde622b548379204e4098">xwlib_rbtree_gen_rr</a>(sibling);</div>
<div class="line"><span class="lineno">  414</span>                                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  415</span>                                        sibling = parent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a>;</div>
<div class="line"><span class="lineno">  416</span>                                        rotation = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga51fb1ab093e073c1b48dc0ce9c77424e">xwlib_rbtree_gen_lr</a>(sibling);</div>
<div class="line"><span class="lineno">  417</span>                                }</div>
<div class="line"><span class="lineno">  418</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  419</span>                                sibling = <a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  420</span>                        }</div>
<div class="line"><span class="lineno">  421</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  422</span>                        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  423</span><span class="comment">                         * 情况 1.2 待删除的节点(n)只有一个子节点</span></div>
<div class="line"><span class="lineno">  424</span><span class="comment">                         * ======================================</span></div>
<div class="line"><span class="lineno">  425</span><span class="comment">                         */</span></div>
<div class="line"><span class="lineno">  426</span>                        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  427</span><span class="comment">                         * 情况 1.2.1 待删除的节点(n)没有左子节点</span></div>
<div class="line"><span class="lineno">  428</span><span class="comment">                         * ======================================</span></div>
<div class="line"><span class="lineno">  429</span><span class="comment">                         *    |</span></div>
<div class="line"><span class="lineno">  430</span><span class="comment">                         *   n(B)</span></div>
<div class="line"><span class="lineno">  431</span><span class="comment">                         *      \</span></div>
<div class="line"><span class="lineno">  432</span><span class="comment">                         *       r(r)</span></div>
<div class="line"><span class="lineno">  433</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  434</span><span class="comment">                         *  transplant(n-&gt;right, n)</span></div>
<div class="line"><span class="lineno">  435</span><span class="comment">                         * -------------------------&gt;</span></div>
<div class="line"><span class="lineno">  436</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  437</span><span class="comment">                         *    |</span></div>
<div class="line"><span class="lineno">  438</span><span class="comment">                         *  r(rB)</span></div>
<div class="line"><span class="lineno">  439</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  440</span><span class="comment">                         *  set_black(r)</span></div>
<div class="line"><span class="lineno">  441</span><span class="comment">                         * ----------------&gt;</span></div>
<div class="line"><span class="lineno">  442</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  443</span><span class="comment">                         *    |</span></div>
<div class="line"><span class="lineno">  444</span><span class="comment">                         *   r(B)</span></div>
<div class="line"><span class="lineno">  445</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  446</span><span class="comment">                         * + 根据性质5，右子节点(r)一定是红色；</span></div>
<div class="line"><span class="lineno">  447</span><span class="comment">                         * + 根据性质4，待删除的节点(n)一定是黑色；</span></div>
<div class="line"><span class="lineno">  448</span><span class="comment">                         */</span></div>
<div class="line"><span class="lineno">  449</span>                        rr.right-&gt;lpc.v = node-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>; <span class="comment">/* Inherit color */</span></div>
<div class="line"><span class="lineno">  450</span>                        sibling = <a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  451</span>                }</div>
<div class="line"><span class="lineno">  452</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> == rr.right) {</div>
<div class="line"><span class="lineno">  453</span>                <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  454</span><span class="comment">                 * 情况 1.2.2 待删除的节点(n)没有右子节点</span></div>
<div class="line"><span class="lineno">  455</span><span class="comment">                 * ======================================</span></div>
<div class="line"><span class="lineno">  456</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  457</span><span class="comment">                 *       |</span></div>
<div class="line"><span class="lineno">  458</span><span class="comment">                 *      n(B)</span></div>
<div class="line"><span class="lineno">  459</span><span class="comment">                 *      /</span></div>
<div class="line"><span class="lineno">  460</span><span class="comment">                 *  r(r)</span></div>
<div class="line"><span class="lineno">  461</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  462</span><span class="comment">                 *  transplant(n-&gt;left, n)</span></div>
<div class="line"><span class="lineno">  463</span><span class="comment">                 * -------------------------&gt;</span></div>
<div class="line"><span class="lineno">  464</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  465</span><span class="comment">                 *    |</span></div>
<div class="line"><span class="lineno">  466</span><span class="comment">                 *  r(rB)</span></div>
<div class="line"><span class="lineno">  467</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  468</span><span class="comment">                 *  set_black(r)</span></div>
<div class="line"><span class="lineno">  469</span><span class="comment">                 * ----------------&gt;</span></div>
<div class="line"><span class="lineno">  470</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  471</span><span class="comment">                 *    |</span></div>
<div class="line"><span class="lineno">  472</span><span class="comment">                 *   r(B)</span></div>
<div class="line"><span class="lineno">  473</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  474</span><span class="comment">                 * + 根据性质5，左子节点(r)一定是红色；</span></div>
<div class="line"><span class="lineno">  475</span><span class="comment">                 * + 根据性质4，待删除的节点(n)一定是黑色；</span></div>
<div class="line"><span class="lineno">  476</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">  477</span>                <a class="code hl_function" href="group__xwos__lib__rbtree.html#gaef7f6608cd37a0fb765adb003428ec38">xwlib_rbtree_link</a>(sl.left, node-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>); <span class="comment">/* Inherit color */</span></div>
<div class="line"><span class="lineno">  478</span>                sibling = <a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  479</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  480</span>                <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  481</span><span class="comment">                 * 情况 1.3 待删除的节点(n)同时存在左右子节点</span></div>
<div class="line"><span class="lineno">  482</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">  483</span>                <span class="keyword">struct </span><a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * successor;</div>
<div class="line"><span class="lineno">  484</span> </div>
<div class="line"><span class="lineno">  485</span>                successor = <a class="code hl_function" href="group__xwos__lib__rbtree.html#ga2502fed0a895591911885bd8725de911">xwlib_rbtree_get_successor</a>(node);</div>
<div class="line"><span class="lineno">  486</span>                <span class="keywordflow">if</span> (successor == rr.right) {</div>
<div class="line"><span class="lineno">  487</span>                        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  488</span><span class="comment">                         * 情况 1.3.1 待删除的节点(n)的后继节点(s)是它的右节点</span></div>
<div class="line"><span class="lineno">  489</span><span class="comment">                         * ====================================================</span></div>
<div class="line"><span class="lineno">  490</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  491</span><span class="comment">                         *        |</span></div>
<div class="line"><span class="lineno">  492</span><span class="comment">                         *       n(*)</span></div>
<div class="line"><span class="lineno">  493</span><span class="comment">                         *      /   \</span></div>
<div class="line"><span class="lineno">  494</span><span class="comment">                         *  l(*)     s(B)</span></div>
<div class="line"><span class="lineno">  495</span><span class="comment">                         *               \</span></div>
<div class="line"><span class="lineno">  496</span><span class="comment">                         *                c(r)_or_NULL(B)</span></div>
<div class="line"><span class="lineno">  497</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  498</span><span class="comment">                         *   transplant(s, n)</span></div>
<div class="line"><span class="lineno">  499</span><span class="comment">                         *  --------------------------------------------&gt;</span></div>
<div class="line"><span class="lineno">  500</span><span class="comment">                         *  s把自己的颜色留给了c，n把自己的颜色留给了s</span></div>
<div class="line"><span class="lineno">  501</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  502</span><span class="comment">                         *      |</span></div>
<div class="line"><span class="lineno">  503</span><span class="comment">                         *    s(*)                          n()</span></div>
<div class="line"><span class="lineno">  504</span><span class="comment">                         *        \                         /</span></div>
<div class="line"><span class="lineno">  505</span><span class="comment">                         *         c(rB)_or_NULL(BB)    l(*)</span></div>
<div class="line"><span class="lineno">  506</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  507</span><span class="comment">                         *   link(l, ((&amp;s-&gt;left) | (RBTREE_LEFT) | color(l)))</span></div>
<div class="line"><span class="lineno">  508</span><span class="comment">                         *  --------------------------------------------------&gt;</span></div>
<div class="line"><span class="lineno">  509</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  510</span><span class="comment">                         *         |</span></div>
<div class="line"><span class="lineno">  511</span><span class="comment">                         *       s(*)                       n()</span></div>
<div class="line"><span class="lineno">  512</span><span class="comment">                         *       /   \</span></div>
<div class="line"><span class="lineno">  513</span><span class="comment">                         *   l(*)     c(rB)_or_NULL(BB)</span></div>
<div class="line"><span class="lineno">  514</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  515</span><span class="comment">                         * ******** ******** ******** OR ******** ******** ********</span></div>
<div class="line"><span class="lineno">  516</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  517</span><span class="comment">                         *        |</span></div>
<div class="line"><span class="lineno">  518</span><span class="comment">                         *       n(*)</span></div>
<div class="line"><span class="lineno">  519</span><span class="comment">                         *      /   \</span></div>
<div class="line"><span class="lineno">  520</span><span class="comment">                         *  l(*)     s(r)</span></div>
<div class="line"><span class="lineno">  521</span><span class="comment">                         *               \</span></div>
<div class="line"><span class="lineno">  522</span><span class="comment">                         *                NULL(B)</span></div>
<div class="line"><span class="lineno">  523</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  524</span><span class="comment">                         *   transplant(s, n)</span></div>
<div class="line"><span class="lineno">  525</span><span class="comment">                         *  --------------------------------------------&gt;</span></div>
<div class="line"><span class="lineno">  526</span><span class="comment">                         *  s把自己的颜色留给了c，n把自己的颜色留给了s</span></div>
<div class="line"><span class="lineno">  527</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  528</span><span class="comment">                         *      |</span></div>
<div class="line"><span class="lineno">  529</span><span class="comment">                         *    s(*)                          n()</span></div>
<div class="line"><span class="lineno">  530</span><span class="comment">                         *        \                         /</span></div>
<div class="line"><span class="lineno">  531</span><span class="comment">                         *         NULL(rB)             l(*)</span></div>
<div class="line"><span class="lineno">  532</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  533</span><span class="comment">                         *   link(l, ((&amp;s-&gt;left) | (RBTREE_LEFT) | color(l)))</span></div>
<div class="line"><span class="lineno">  534</span><span class="comment">                         *  --------------------------------------------------&gt;</span></div>
<div class="line"><span class="lineno">  535</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  536</span><span class="comment">                         *         |</span></div>
<div class="line"><span class="lineno">  537</span><span class="comment">                         *       s(*)                       n()</span></div>
<div class="line"><span class="lineno">  538</span><span class="comment">                         *       /   \</span></div>
<div class="line"><span class="lineno">  539</span><span class="comment">                         *   l(*)     NULL(rB)</span></div>
<div class="line"><span class="lineno">  540</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  541</span><span class="comment">                         * ******** ******** ******** ******** ******** ********</span></div>
<div class="line"><span class="lineno">  542</span><span class="comment">                         * + 如果后继接点(s)是黑色，则只存在两种情况：</span></div>
<div class="line"><span class="lineno">  543</span><span class="comment">                         *   - 后继节点(s)有红色右子节点（根据性质4和5），transplant</span></div>
<div class="line"><span class="lineno">  544</span><span class="comment">                         *     操作后，s把黑色留给右子节点，黑+红=黑；</span></div>
<div class="line"><span class="lineno">  545</span><span class="comment">                         *   - 后继节点(s)没有右子节，(s)的兄弟节点(l)必然</span></div>
<div class="line"><span class="lineno">  546</span><span class="comment">                         *     存在（根据性质5），transplant操作后，会产生一个双黑的</span></div>
<div class="line"><span class="lineno">  547</span><span class="comment">                         *     叶子，需要修复颜色；</span></div>
<div class="line"><span class="lineno">  548</span><span class="comment">                         * + 如果后继节点(s)为红色，其不可能存在子节点（根据性质5），</span></div>
<div class="line"><span class="lineno">  549</span><span class="comment">                         *   transplant操作后，不会产生双黑的叶子；</span></div>
<div class="line"><span class="lineno">  550</span><span class="comment">                         */</span></div>
<div class="line"><span class="lineno">  551</span> </div>
<div class="line"><span class="lineno">  552</span>                        <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> != successor-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a>) {</div>
<div class="line"><span class="lineno">  553</span>                                <a class="code hl_function" href="group__xwos__lib__rbtree.html#ga692ff81d9c30fac79a823c5c2ff2357d">xwlib_rbtree_set_black</a>(successor-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a>);</div>
<div class="line"><span class="lineno">  554</span>                                sibling = <a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  555</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  556</span>                                <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__rbtree.html#gadd781d7c569eb6e8fea3f789c797c740">xwlib_rbtree_tst_black</a>(successor-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>)) {</div>
<div class="line"><span class="lineno">  557</span>                                        sibling = sl.<a class="code hl_variable" href="structxwlib__rbtree__node.html#a305d52ccf12a4bffa8d7e8a346a5ef2d">left</a>;</div>
<div class="line"><span class="lineno">  558</span>                                        parent = successor;</div>
<div class="line"><span class="lineno">  559</span>                                        rotation = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga5c1fcedb5c3fde622b548379204e4098">xwlib_rbtree_gen_rr</a>(sibling);</div>
<div class="line"><span class="lineno">  560</span>                                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  561</span>                                        sibling = <a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  562</span>                                }</div>
<div class="line"><span class="lineno">  563</span>                        }</div>
<div class="line"><span class="lineno">  564</span>                        <a class="code hl_function" href="group__xwos__lib__rbtree.html#ga7b281445f2079f235077400ee79f15ea">xwlib_rbtree_transplant</a>(successor, node);</div>
<div class="line"><span class="lineno">  565</span>                        cc.color = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga753430d9b81161df27b7fa2ff540ee86">xwlib_rbtree_get_color</a>(sl.left-&gt;lpc.v);</div>
<div class="line"><span class="lineno">  566</span>                        <a class="code hl_function" href="group__xwos__lib__rbtree.html#gaef7f6608cd37a0fb765adb003428ec38">xwlib_rbtree_link</a>(sl.left,</div>
<div class="line"><span class="lineno">  567</span>                                          <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga5c25f935b75b0a79cbcf19adfc636e8d">xwlib_rbtree_gen_lc</a>(successor, cc.color));</div>
<div class="line"><span class="lineno">  568</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  569</span>                        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  570</span><span class="comment">                         * 情况 1.3.2 (n)的后继节点(s)是(n)的右子树上最左端的节点</span></div>
<div class="line"><span class="lineno">  571</span><span class="comment">                         * ======================================================</span></div>
<div class="line"><span class="lineno">  572</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  573</span><span class="comment">                         *        |</span></div>
<div class="line"><span class="lineno">  574</span><span class="comment">                         *      n(*)</span></div>
<div class="line"><span class="lineno">  575</span><span class="comment">                         *      /   \</span></div>
<div class="line"><span class="lineno">  576</span><span class="comment">                         *     l     r</span></div>
<div class="line"><span class="lineno">  577</span><span class="comment">                         *          / \</span></div>
<div class="line"><span class="lineno">  578</span><span class="comment">                         *         p</span></div>
<div class="line"><span class="lineno">  579</span><span class="comment">                         *        / \</span></div>
<div class="line"><span class="lineno">  580</span><span class="comment">                         *    s(*)</span></div>
<div class="line"><span class="lineno">  581</span><span class="comment">                         *       \</span></div>
<div class="line"><span class="lineno">  582</span><span class="comment">                         *        c(r)_or_NULL(B)</span></div>
<div class="line"><span class="lineno">  583</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  584</span><span class="comment">                         *   transplant(s-&gt;right, s)</span></div>
<div class="line"><span class="lineno">  585</span><span class="comment">                         *  -------------------------&gt;</span></div>
<div class="line"><span class="lineno">  586</span><span class="comment">                         *   s把自己的颜色留给了c</span></div>
<div class="line"><span class="lineno">  587</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  588</span><span class="comment">                         *                  |</span></div>
<div class="line"><span class="lineno">  589</span><span class="comment">                         *                n(*)             s()</span></div>
<div class="line"><span class="lineno">  590</span><span class="comment">                         *                /   \</span></div>
<div class="line"><span class="lineno">  591</span><span class="comment">                         *               l     r</span></div>
<div class="line"><span class="lineno">  592</span><span class="comment">                         *                    / \</span></div>
<div class="line"><span class="lineno">  593</span><span class="comment">                         *                   p</span></div>
<div class="line"><span class="lineno">  594</span><span class="comment">                         *                  / \</span></div>
<div class="line"><span class="lineno">  595</span><span class="comment">                         * c(rB)_or_NULL(BB)</span></div>
<div class="line"><span class="lineno">  596</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  597</span><span class="comment">                         *   link(r, ((&amp;s-&gt;right) | (RBTREE_RIGHT) | color(r)))</span></div>
<div class="line"><span class="lineno">  598</span><span class="comment">                         *  ----------------------------------------------------&gt;</span></div>
<div class="line"><span class="lineno">  599</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  600</span><span class="comment">                         *      |</span></div>
<div class="line"><span class="lineno">  601</span><span class="comment">                         *    n(*)               s()</span></div>
<div class="line"><span class="lineno">  602</span><span class="comment">                         *    /                    \</span></div>
<div class="line"><span class="lineno">  603</span><span class="comment">                         *   l                      r</span></div>
<div class="line"><span class="lineno">  604</span><span class="comment">                         *                         / \</span></div>
<div class="line"><span class="lineno">  605</span><span class="comment">                         *                        p</span></div>
<div class="line"><span class="lineno">  606</span><span class="comment">                         *                       / \</span></div>
<div class="line"><span class="lineno">  607</span><span class="comment">                         *       c(B)_or_NULL(BB)</span></div>
<div class="line"><span class="lineno">  608</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  609</span><span class="comment">                         *   link(l, ((&amp;s-&gt;left) | (RBTREE_LEFT) | color(l)))</span></div>
<div class="line"><span class="lineno">  610</span><span class="comment">                         *  --------------------------------------------------&gt;</span></div>
<div class="line"><span class="lineno">  611</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  612</span><span class="comment">                         *       |</span></div>
<div class="line"><span class="lineno">  613</span><span class="comment">                         *     n(*)             s()</span></div>
<div class="line"><span class="lineno">  614</span><span class="comment">                         *                      / \</span></div>
<div class="line"><span class="lineno">  615</span><span class="comment">                         *                     l   r</span></div>
<div class="line"><span class="lineno">  616</span><span class="comment">                         *                        / \</span></div>
<div class="line"><span class="lineno">  617</span><span class="comment">                         *                       p</span></div>
<div class="line"><span class="lineno">  618</span><span class="comment">                         *                      / \</span></div>
<div class="line"><span class="lineno">  619</span><span class="comment">                         *      c(B)_or_NULL(BB)</span></div>
<div class="line"><span class="lineno">  620</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  621</span><span class="comment">                         *   transplant(s, n)</span></div>
<div class="line"><span class="lineno">  622</span><span class="comment">                         *  ---------------------&gt;</span></div>
<div class="line"><span class="lineno">  623</span><span class="comment">                         *   n把自己的颜色留给了s</span></div>
<div class="line"><span class="lineno">  624</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  625</span><span class="comment">                         *                    |</span></div>
<div class="line"><span class="lineno">  626</span><span class="comment">                         *                  s(*)</span></div>
<div class="line"><span class="lineno">  627</span><span class="comment">                         *                  /   \</span></div>
<div class="line"><span class="lineno">  628</span><span class="comment">                         *                 l     r</span></div>
<div class="line"><span class="lineno">  629</span><span class="comment">                         *                      / \</span></div>
<div class="line"><span class="lineno">  630</span><span class="comment">                         *                     p</span></div>
<div class="line"><span class="lineno">  631</span><span class="comment">                         *                    / \</span></div>
<div class="line"><span class="lineno">  632</span><span class="comment">                         *    C(B)_or_NULL(BB)</span></div>
<div class="line"><span class="lineno">  633</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  634</span><span class="comment">                         * + 如果后继节点(s)的右子节点(r)存在，根据性质5，</span></div>
<div class="line"><span class="lineno">  635</span><span class="comment">                         *   (r)一定是红色，再根据性质4，(s)一定为黑色；</span></div>
<div class="line"><span class="lineno">  636</span><span class="comment">                         * + 根据性质5，如果后继节点(s)没有右子节点且(s)为黑色，</span></div>
<div class="line"><span class="lineno">  637</span><span class="comment">                         *   (n)的左子节点(l)必然存在。</span></div>
<div class="line"><span class="lineno">  638</span><span class="comment">                         */</span></div>
<div class="line"><span class="lineno">  639</span>                        parent = <a class="code hl_function" href="group__xwos__lib__rbtree.html#ga8e9025d3e8bade2a627001fb58251047">xwlib_rbtree_get_parent</a>(successor);</div>
<div class="line"><span class="lineno">  640</span>                        <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a> = successor-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>; <span class="comment">/* cache */</span></div>
<div class="line"><span class="lineno">  641</span>                        cc.child = successor-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a>;</div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>                        *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>) = cc.child;</div>
<div class="line"><span class="lineno">  644</span>                        <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> != cc.child) {</div>
<div class="line"><span class="lineno">  645</span>                                cc.child-&gt;lpc.v = <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>; <span class="comment">/* Inherit color */</span></div>
<div class="line"><span class="lineno">  646</span>                                sibling = <a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  647</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  648</span>                                <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__rbtree.html#gadd781d7c569eb6e8fea3f789c797c740">xwlib_rbtree_tst_black</a>(successor-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>)) {</div>
<div class="line"><span class="lineno">  649</span>                                        sibling = parent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a>;</div>
<div class="line"><span class="lineno">  650</span>                                        rotation = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga51fb1ab093e073c1b48dc0ce9c77424e">xwlib_rbtree_gen_lr</a>(sibling);</div>
<div class="line"><span class="lineno">  651</span>                                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  652</span>                                        sibling = <a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  653</span>                                }</div>
<div class="line"><span class="lineno">  654</span>                        }</div>
<div class="line"><span class="lineno">  655</span> </div>
<div class="line"><span class="lineno">  656</span>                        <span class="comment">/* link(r, ((&amp;s-&gt;right) | (RBTREE_RIGHT) | color(r))) */</span></div>
<div class="line"><span class="lineno">  657</span>                        cc.color = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga753430d9b81161df27b7fa2ff540ee86">xwlib_rbtree_get_color</a>(rr.right-&gt;lpc.v);</div>
<div class="line"><span class="lineno">  658</span>                        <a class="code hl_function" href="group__xwos__lib__rbtree.html#gaef7f6608cd37a0fb765adb003428ec38">xwlib_rbtree_link</a>(rr.right,</div>
<div class="line"><span class="lineno">  659</span>                                          <a class="code hl_define" href="group__xwos__lib__rbtree.html#gafc2c4fbf162015fc971dd26677ec5b19">xwlib_rbtree_gen_rc</a>(successor, cc.color));</div>
<div class="line"><span class="lineno">  660</span> </div>
<div class="line"><span class="lineno">  661</span>                        <span class="comment">/* link(r, ((&amp;s-&gt;right) | (RBTREE_RIGHT) | color(r))) */</span></div>
<div class="line"><span class="lineno">  662</span>                        cc.color = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga753430d9b81161df27b7fa2ff540ee86">xwlib_rbtree_get_color</a>(sl.left-&gt;lpc.v);</div>
<div class="line"><span class="lineno">  663</span>                        <a class="code hl_function" href="group__xwos__lib__rbtree.html#gaef7f6608cd37a0fb765adb003428ec38">xwlib_rbtree_link</a>(sl.left,</div>
<div class="line"><span class="lineno">  664</span>                                          <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga5c25f935b75b0a79cbcf19adfc636e8d">xwlib_rbtree_gen_lc</a>(successor, cc.color));</div>
<div class="line"><span class="lineno">  665</span> </div>
<div class="line"><span class="lineno">  666</span>                        <span class="comment">/* transplant(s, n) */</span></div>
<div class="line"><span class="lineno">  667</span>                        <a class="code hl_function" href="group__xwos__lib__rbtree.html#ga7b281445f2079f235077400ee79f15ea">xwlib_rbtree_transplant</a>(successor, node);</div>
<div class="line"><span class="lineno">  668</span>                }</div>
<div class="line"><span class="lineno">  669</span>        }</div>
<div class="line"><span class="lineno">  670</span> </div>
<div class="line"><span class="lineno">  671</span>        <span class="comment">/* 步骤 2：修复颜色 */</span></div>
<div class="line"><span class="lineno">  672</span>        <span class="comment">/* X有可能是NULL或节点(n) */</span></div>
<div class="line"><span class="lineno">  673</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> == sibling) {</div>
<div class="line"><span class="lineno">  674</span>                <span class="keywordflow">return</span>; <span class="comment">// cppcheck-suppress [misra-c2012-15.5]</span></div>
<div class="line"><span class="lineno">  675</span>        }</div>
<div class="line"><span class="lineno">  676</span> </div>
<div class="line"><span class="lineno">  677</span>recursively_fix:</div>
<div class="line"><span class="lineno">  678</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga299661aeef70eaa3e8ae1c6205f93fea">xwlib_rbtree_tst_red</a>(sibling-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>)) {</div>
<div class="line"><span class="lineno">  679</span>                <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  680</span><span class="comment">                 * 情况 2.1 兄弟节点(s)是红色</span></div>
<div class="line"><span class="lineno">  681</span><span class="comment">                 * ===================================================</span></div>
<div class="line"><span class="lineno">  682</span><span class="comment">                 *                          *</span></div>
<div class="line"><span class="lineno">  683</span><span class="comment">                 *         |                *           |</span></div>
<div class="line"><span class="lineno">  684</span><span class="comment">                 *        p(B)              *          p(B)</span></div>
<div class="line"><span class="lineno">  685</span><span class="comment">                 *        /  \              *          /  \</span></div>
<div class="line"><span class="lineno">  686</span><span class="comment">                 *   X(BB)    s(r)          *      s(r)    X(BB)</span></div>
<div class="line"><span class="lineno">  687</span><span class="comment">                 *            /  \          *      /  \</span></div>
<div class="line"><span class="lineno">  688</span><span class="comment">                 *        l(B)    r(B)      *  l(B)    r(B)</span></div>
<div class="line"><span class="lineno">  689</span><span class="comment">                 *                          *</span></div>
<div class="line"><span class="lineno">  690</span><span class="comment">                 *  left_rotate(p)          *  right_rotate(p)</span></div>
<div class="line"><span class="lineno">  691</span><span class="comment">                 * ----------------&gt;        * -----------------&gt;</span></div>
<div class="line"><span class="lineno">  692</span><span class="comment">                 *                          *</span></div>
<div class="line"><span class="lineno">  693</span><span class="comment">                 *            |             *           |</span></div>
<div class="line"><span class="lineno">  694</span><span class="comment">                 *           s(r)           *          s(r)</span></div>
<div class="line"><span class="lineno">  695</span><span class="comment">                 *           /  \           *          /  \</span></div>
<div class="line"><span class="lineno">  696</span><span class="comment">                 *       P(B)    r(B)       *      l(B)    P(B)</span></div>
<div class="line"><span class="lineno">  697</span><span class="comment">                 *       /  \               *              /  \</span></div>
<div class="line"><span class="lineno">  698</span><span class="comment">                 *  X(BB)    l(B)           *          r(B)    X(BB)</span></div>
<div class="line"><span class="lineno">  699</span><span class="comment">                 *                          *</span></div>
<div class="line"><span class="lineno">  700</span><span class="comment">                 *  flip_color(s);          *  flip_color(s);</span></div>
<div class="line"><span class="lineno">  701</span><span class="comment">                 * ----------------&gt;        * ----------------&gt;</span></div>
<div class="line"><span class="lineno">  702</span><span class="comment">                 *  flip_color(P);          *  flip_color(P);</span></div>
<div class="line"><span class="lineno">  703</span><span class="comment">                 *                          *</span></div>
<div class="line"><span class="lineno">  704</span><span class="comment">                 *            |             *           |</span></div>
<div class="line"><span class="lineno">  705</span><span class="comment">                 *           s(B)           *          s(B)</span></div>
<div class="line"><span class="lineno">  706</span><span class="comment">                 *           /  \           *          /  \</span></div>
<div class="line"><span class="lineno">  707</span><span class="comment">                 *       p(r)    r(B)       *      l(B)    p(r)</span></div>
<div class="line"><span class="lineno">  708</span><span class="comment">                 *       /  \               *              /  \</span></div>
<div class="line"><span class="lineno">  709</span><span class="comment">                 *  X(BB)    l(B)           *          r(B)    X(BB)</span></div>
<div class="line"><span class="lineno">  710</span><span class="comment">                 *                          *</span></div>
<div class="line"><span class="lineno">  711</span><span class="comment">                 * l是新的兄弟节点          * r是新的兄弟节点</span></div>
<div class="line"><span class="lineno">  712</span><span class="comment">                 *                          *</span></div>
<div class="line"><span class="lineno">  713</span><span class="comment">                 * + 根据性质4，父节点(p)一定为黑色；</span></div>
<div class="line"><span class="lineno">  714</span><span class="comment">                 * + 根据性质5，兄弟节点(s)有两个黑色的子节点。</span></div>
<div class="line"><span class="lineno">  715</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">  716</span>                <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a> = sibling-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>;</div>
<div class="line"><span class="lineno">  717</span>                cc.child = *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(rotation);</div>
<div class="line"><span class="lineno">  718</span> </div>
<div class="line"><span class="lineno">  719</span>                *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(parent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>) = sibling;</div>
<div class="line"><span class="lineno">  720</span>                sibling-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a> = parent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>; <span class="comment">/* flip_color: 黑色 */</span></div>
<div class="line"><span class="lineno">  721</span> </div>
<div class="line"><span class="lineno">  722</span>                *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>) = cc.child;</div>
<div class="line"><span class="lineno">  723</span>                cc.child-&gt;lpc.v = <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a> | (<a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)<a class="code hl_enumvalue" href="group__xwos__lib__rbtree.html#gga467e395cb91757101b795f111050319ca960c9838798d56964ca2cc6127e1a999">XWLIB_RBTREE_COLOR_BLACK</a>;</div>
<div class="line"><span class="lineno">  724</span> </div>
<div class="line"><span class="lineno">  725</span>                <span class="comment">/* xwlib_rbtree_link(parent, rotation); */</span></div>
<div class="line"><span class="lineno">  726</span>                *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(rotation) = parent;</div>
<div class="line"><span class="lineno">  727</span>                parent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a> = rotation; <span class="comment">/* flip_color: 红色 */</span></div>
<div class="line"><span class="lineno">  728</span> </div>
<div class="line"><span class="lineno">  729</span>                <span class="comment">/* parent = parent; */</span> <span class="comment">/* omitted */</span></div>
<div class="line"><span class="lineno">  730</span>                sibling = cc.child;</div>
<div class="line"><span class="lineno">  731</span>        }</div>
<div class="line"><span class="lineno">  732</span> </div>
<div class="line"><span class="lineno">  733</span>black_sibling:</div>
<div class="line"><span class="lineno">  734</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  735</span><span class="comment">         * 情况 2.2 兄弟节点(s)是黑色</span></div>
<div class="line"><span class="lineno">  736</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  737</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga92eedf95d97d18a5dde5f43d96c148f6">xwlib_rbtree_tst_right</a>(sibling-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>)) {</div>
<div class="line"><span class="lineno">  738</span>                rotation = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga51fb1ab093e073c1b48dc0ce9c77424e">xwlib_rbtree_gen_lr</a>(sibling); <span class="comment">/* 用于情况2.2.3中左旋 */</span></div>
<div class="line"><span class="lineno">  739</span>                rr.reverse = sibling-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a305d52ccf12a4bffa8d7e8a346a5ef2d">left</a>;</div>
<div class="line"><span class="lineno">  740</span>                sl.same = sibling-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a>;</div>
<div class="line"><span class="lineno">  741</span>                <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> != rr.reverse) {</div>
<div class="line"><span class="lineno">  742</span>                        <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a> = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga5c1fcedb5c3fde622b548379204e4098">xwlib_rbtree_gen_rr</a>(rr.reverse); <span class="comment">/* 用于情况2.2.2中右旋 */</span></div>
<div class="line"><span class="lineno">  743</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  744</span>                        <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a> = 0;</div>
<div class="line"><span class="lineno">  745</span>                }</div>
<div class="line"><span class="lineno">  746</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  747</span>                rotation = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga5c1fcedb5c3fde622b548379204e4098">xwlib_rbtree_gen_rr</a>(sibling); <span class="comment">/* 用于情况2.2.3中右旋 */</span></div>
<div class="line"><span class="lineno">  748</span>                rr.reverse = sibling-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a>;</div>
<div class="line"><span class="lineno">  749</span>                sl.same = sibling-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a305d52ccf12a4bffa8d7e8a346a5ef2d">left</a>;</div>
<div class="line"><span class="lineno">  750</span>                <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> != rr.reverse) {</div>
<div class="line"><span class="lineno">  751</span>                        <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a> = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga51fb1ab093e073c1b48dc0ce9c77424e">xwlib_rbtree_gen_lr</a>(rr.reverse); <span class="comment">/* 用于情况2.2.2中左旋 */</span></div>
<div class="line"><span class="lineno">  752</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  753</span>                        <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a> = 0;</div>
<div class="line"><span class="lineno">  754</span>                }</div>
<div class="line"><span class="lineno">  755</span>        }</div>
<div class="line"><span class="lineno">  756</span> </div>
<div class="line"><span class="lineno">  757</span>        <span class="keywordflow">if</span> ((<a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> == sl.same) || <a class="code hl_define" href="group__xwos__lib__rbtree.html#gadd781d7c569eb6e8fea3f789c797c740">xwlib_rbtree_tst_black</a>(sl.same-&gt;lpc.v)) {</div>
<div class="line"><span class="lineno">  758</span>                <span class="keywordflow">if</span> ((<a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> == rr.reverse) || <a class="code hl_define" href="group__xwos__lib__rbtree.html#gadd781d7c569eb6e8fea3f789c797c740">xwlib_rbtree_tst_black</a>(rr.reverse-&gt;lpc.v)) {</div>
<div class="line"><span class="lineno">  759</span>                        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  760</span><span class="comment">                         * 情况 2.2.1 兄弟节点(s)没有红色的子节点</span></div>
<div class="line"><span class="lineno">  761</span><span class="comment">                         * =====================================</span></div>
<div class="line"><span class="lineno">  762</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  763</span><span class="comment">                         *               |</span></div>
<div class="line"><span class="lineno">  764</span><span class="comment">                         *             p(*)</span></div>
<div class="line"><span class="lineno">  765</span><span class="comment">                         *             /   \</span></div>
<div class="line"><span class="lineno">  766</span><span class="comment">                         *         s(B)     x(BB)</span></div>
<div class="line"><span class="lineno">  767</span><span class="comment">                         *         /  \</span></div>
<div class="line"><span class="lineno">  768</span><span class="comment">                         *  same(B)    reverse(B)</span></div>
<div class="line"><span class="lineno">  769</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  770</span><span class="comment">                         *  flip_color(p); flip_color(s); flip_color(x);</span></div>
<div class="line"><span class="lineno">  771</span><span class="comment">                         * ----------------------------------------------&gt;</span></div>
<div class="line"><span class="lineno">  772</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  773</span><span class="comment">                         *                |</span></div>
<div class="line"><span class="lineno">  774</span><span class="comment">                         *             p(rB_or_BB)</span></div>
<div class="line"><span class="lineno">  775</span><span class="comment">                         *             /    \</span></div>
<div class="line"><span class="lineno">  776</span><span class="comment">                         *         s(r)      X(B)</span></div>
<div class="line"><span class="lineno">  777</span><span class="comment">                         *         /  \</span></div>
<div class="line"><span class="lineno">  778</span><span class="comment">                         *  same(B)    reverse(B)</span></div>
<div class="line"><span class="lineno">  779</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  780</span><span class="comment">                         *  如果p是红色，就把p设置为黑色</span></div>
<div class="line"><span class="lineno">  781</span><span class="comment">                         * ---------------------------------------&gt;</span></div>
<div class="line"><span class="lineno">  782</span><span class="comment">                         *  如果p是黑色，p就作为新的X递归调整颜色</span></div>
<div class="line"><span class="lineno">  783</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  784</span><span class="comment">                         * ******** ******** ******** OR ******** ******** ********</span></div>
<div class="line"><span class="lineno">  785</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  786</span><span class="comment">                         *            |</span></div>
<div class="line"><span class="lineno">  787</span><span class="comment">                         *          p(*)</span></div>
<div class="line"><span class="lineno">  788</span><span class="comment">                         *          /   \</span></div>
<div class="line"><span class="lineno">  789</span><span class="comment">                         *     X(BB)     s(B)</span></div>
<div class="line"><span class="lineno">  790</span><span class="comment">                         *               /  \</span></div>
<div class="line"><span class="lineno">  791</span><span class="comment">                         *     reverse(B)    same(B)</span></div>
<div class="line"><span class="lineno">  792</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  793</span><span class="comment">                         *  flip_color(p); flip_color(S); flip_color(X);</span></div>
<div class="line"><span class="lineno">  794</span><span class="comment">                         * ----------------------------------------------&gt;</span></div>
<div class="line"><span class="lineno">  795</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  796</span><span class="comment">                         *            |</span></div>
<div class="line"><span class="lineno">  797</span><span class="comment">                         *          p(rB_or_BB)</span></div>
<div class="line"><span class="lineno">  798</span><span class="comment">                         *          /    \</span></div>
<div class="line"><span class="lineno">  799</span><span class="comment">                         *      X(B)      s(r)</span></div>
<div class="line"><span class="lineno">  800</span><span class="comment">                         *                /  \</span></div>
<div class="line"><span class="lineno">  801</span><span class="comment">                         *      reverse(B)    same(B)</span></div>
<div class="line"><span class="lineno">  802</span><span class="comment">                         *</span></div>
<div class="line"><span class="lineno">  803</span><span class="comment">                         *  如果p是红色，就把p设置为黑色</span></div>
<div class="line"><span class="lineno">  804</span><span class="comment">                         * ---------------------------------------&gt;</span></div>
<div class="line"><span class="lineno">  805</span><span class="comment">                         *  如果p是黑色，p就作为新的X递归调整颜色</span></div>
<div class="line"><span class="lineno">  806</span><span class="comment">                         */</span></div>
<div class="line"><span class="lineno">  807</span>                        <a class="code hl_function" href="group__xwos__lib__rbtree.html#ga3d27937625dc93286c012da5e82945b8">xwlib_rbtree_flip_color</a>(sibling);</div>
<div class="line"><span class="lineno">  808</span>                        <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__rbtree.html#gadd781d7c569eb6e8fea3f789c797c740">xwlib_rbtree_tst_black</a>(parent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>)) {</div>
<div class="line"><span class="lineno">  809</span>                                <span class="keywordflow">if</span> (parent != tree-&gt;<a class="code hl_variable" href="structxwlib__rbtree.html#a05d1bdd1cf62a0a083a576d914250270">root</a>) {</div>
<div class="line"><span class="lineno">  810</span>                                        cc.child = parent;</div>
<div class="line"><span class="lineno">  811</span>                                        parent = <a class="code hl_function" href="group__xwos__lib__rbtree.html#ga8e9025d3e8bade2a627001fb58251047">xwlib_rbtree_get_parent</a>(cc.child);</div>
<div class="line"><span class="lineno">  812</span>                                        <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga92eedf95d97d18a5dde5f43d96c148f6">xwlib_rbtree_tst_right</a>(cc.child-&gt;lpc.v)) {</div>
<div class="line"><span class="lineno">  813</span>                                                sibling = parent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a305d52ccf12a4bffa8d7e8a346a5ef2d">left</a>;</div>
<div class="line"><span class="lineno">  814</span>                                                rotation = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga5c1fcedb5c3fde622b548379204e4098">xwlib_rbtree_gen_rr</a>(sibling);</div>
<div class="line"><span class="lineno">  815</span>                                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  816</span>                                                sibling = parent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a>;</div>
<div class="line"><span class="lineno">  817</span>                                                rotation = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga51fb1ab093e073c1b48dc0ce9c77424e">xwlib_rbtree_gen_lr</a>(sibling);</div>
<div class="line"><span class="lineno">  818</span>                                        }</div>
<div class="line"><span class="lineno">  819</span>                                        <span class="comment">// cppcheck-suppress [misra-c2012-15.2]</span></div>
<div class="line"><span class="lineno">  820</span>                                        <span class="keywordflow">goto</span> recursively_fix;</div>
<div class="line"><span class="lineno">  821</span>                                }</div>
<div class="line"><span class="lineno">  822</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  823</span>                                <a class="code hl_function" href="group__xwos__lib__rbtree.html#ga3d27937625dc93286c012da5e82945b8">xwlib_rbtree_flip_color</a>(parent);</div>
<div class="line"><span class="lineno">  824</span>                        }</div>
<div class="line"><span class="lineno">  825</span>                        <span class="keywordflow">return</span>; <span class="comment">// cppcheck-suppress [misra-c2012-15.5]</span></div>
<div class="line"><span class="lineno">  826</span>                }</div>
<div class="line"><span class="lineno">  827</span> </div>
<div class="line"><span class="lineno">  828</span>                <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  829</span><span class="comment">                 * 情况 2.2.2 与兄弟节点(s)位置相同的子节点为黑色，</span></div>
<div class="line"><span class="lineno">  830</span><span class="comment">                 *            位置相反的子节点为红色</span></div>
<div class="line"><span class="lineno">  831</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  832</span><span class="comment">                 *               |</span></div>
<div class="line"><span class="lineno">  833</span><span class="comment">                 *             p(*)</span></div>
<div class="line"><span class="lineno">  834</span><span class="comment">                 *             /   \</span></div>
<div class="line"><span class="lineno">  835</span><span class="comment">                 *         s(B)     X(BB)</span></div>
<div class="line"><span class="lineno">  836</span><span class="comment">                 *         /  \</span></div>
<div class="line"><span class="lineno">  837</span><span class="comment">                 *  same(B)    reverse(r)</span></div>
<div class="line"><span class="lineno">  838</span><span class="comment">                 *            /</span></div>
<div class="line"><span class="lineno">  839</span><span class="comment">                 *        z(B)</span></div>
<div class="line"><span class="lineno">  840</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  841</span><span class="comment">                 *  left_rotate(s);</span></div>
<div class="line"><span class="lineno">  842</span><span class="comment">                 * -----------------&gt;</span></div>
<div class="line"><span class="lineno">  843</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  844</span><span class="comment">                 *                  |</span></div>
<div class="line"><span class="lineno">  845</span><span class="comment">                 *                p(*)</span></div>
<div class="line"><span class="lineno">  846</span><span class="comment">                 *                /   \</span></div>
<div class="line"><span class="lineno">  847</span><span class="comment">                 *      reverse(r)     X(BB)</span></div>
<div class="line"><span class="lineno">  848</span><span class="comment">                 *             /</span></div>
<div class="line"><span class="lineno">  849</span><span class="comment">                 *         s(B)</span></div>
<div class="line"><span class="lineno">  850</span><span class="comment">                 *         /  \</span></div>
<div class="line"><span class="lineno">  851</span><span class="comment">                 *  same(B)    z(B)</span></div>
<div class="line"><span class="lineno">  852</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  853</span><span class="comment">                 *  flip_color(reverse); flip_color(s)</span></div>
<div class="line"><span class="lineno">  854</span><span class="comment">                 * -----------------------------------&gt;</span></div>
<div class="line"><span class="lineno">  855</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  856</span><span class="comment">                 *                  |</span></div>
<div class="line"><span class="lineno">  857</span><span class="comment">                 *                p(*)</span></div>
<div class="line"><span class="lineno">  858</span><span class="comment">                 *                /   \</span></div>
<div class="line"><span class="lineno">  859</span><span class="comment">                 *      reverse(B)     X(BB)</span></div>
<div class="line"><span class="lineno">  860</span><span class="comment">                 *             /</span></div>
<div class="line"><span class="lineno">  861</span><span class="comment">                 *         s(r)</span></div>
<div class="line"><span class="lineno">  862</span><span class="comment">                 *         /  \</span></div>
<div class="line"><span class="lineno">  863</span><span class="comment">                 *  same(B)    z(B)</span></div>
<div class="line"><span class="lineno">  864</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  865</span><span class="comment">                 * ******** ******** ******** OR ******** ******** ********</span></div>
<div class="line"><span class="lineno">  866</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  867</span><span class="comment">                 *            |</span></div>
<div class="line"><span class="lineno">  868</span><span class="comment">                 *          p(*)</span></div>
<div class="line"><span class="lineno">  869</span><span class="comment">                 *          /   \</span></div>
<div class="line"><span class="lineno">  870</span><span class="comment">                 *     X(BB)     s(B)</span></div>
<div class="line"><span class="lineno">  871</span><span class="comment">                 *               /  \</span></div>
<div class="line"><span class="lineno">  872</span><span class="comment">                 *     reverse(r)    same(B)</span></div>
<div class="line"><span class="lineno">  873</span><span class="comment">                 *              \</span></div>
<div class="line"><span class="lineno">  874</span><span class="comment">                 *               z(B)</span></div>
<div class="line"><span class="lineno">  875</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  876</span><span class="comment">                 *  right_rotate(s);</span></div>
<div class="line"><span class="lineno">  877</span><span class="comment">                 * ------------------&gt;</span></div>
<div class="line"><span class="lineno">  878</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  879</span><span class="comment">                 *            |</span></div>
<div class="line"><span class="lineno">  880</span><span class="comment">                 *          p(*)</span></div>
<div class="line"><span class="lineno">  881</span><span class="comment">                 *          /  \</span></div>
<div class="line"><span class="lineno">  882</span><span class="comment">                 *     X(BB)    reverse(r)</span></div>
<div class="line"><span class="lineno">  883</span><span class="comment">                 *                  \</span></div>
<div class="line"><span class="lineno">  884</span><span class="comment">                 *                   s(B)</span></div>
<div class="line"><span class="lineno">  885</span><span class="comment">                 *                   /  \</span></div>
<div class="line"><span class="lineno">  886</span><span class="comment">                 *               z(B)    same(B)</span></div>
<div class="line"><span class="lineno">  887</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  888</span><span class="comment">                 *  flip_color(reverse); flip_color(s)</span></div>
<div class="line"><span class="lineno">  889</span><span class="comment">                 * -----------------------------------&gt;</span></div>
<div class="line"><span class="lineno">  890</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  891</span><span class="comment">                 *            |</span></div>
<div class="line"><span class="lineno">  892</span><span class="comment">                 *          p(*)</span></div>
<div class="line"><span class="lineno">  893</span><span class="comment">                 *          /   \</span></div>
<div class="line"><span class="lineno">  894</span><span class="comment">                 *     X(BB)     reverse(B)</span></div>
<div class="line"><span class="lineno">  895</span><span class="comment">                 *                   \</span></div>
<div class="line"><span class="lineno">  896</span><span class="comment">                 *                    s(r)</span></div>
<div class="line"><span class="lineno">  897</span><span class="comment">                 *                    /  \</span></div>
<div class="line"><span class="lineno">  898</span><span class="comment">                 *                z(B)    same(B)</span></div>
<div class="line"><span class="lineno">  899</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  900</span><span class="comment">                 * 转换为情况 2.2.3</span></div>
<div class="line"><span class="lineno">  901</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">  902</span>                <span class="comment">/* lpc 由black_sibling:处的条件语句赋值为</span></div>
<div class="line"><span class="lineno">  903</span><span class="comment">                       xwlib_rbtree_gen_lr(rr.reverse)</span></div>
<div class="line"><span class="lineno">  904</span><span class="comment">                       或 xwlib_rbtree_gen_rr(rr.reverse) */</span></div>
<div class="line"><span class="lineno">  905</span>                rotation = sibling-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>; <span class="comment">/* rotation在此处作为临时变量</span></div>
<div class="line"><span class="lineno">  906</span><span class="comment">                                              用于记录sibling的位置 */</span></div>
<div class="line"><span class="lineno">  907</span>                cc.child = *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>); <span class="comment">/* child is z */</span></div>
<div class="line"><span class="lineno">  908</span> </div>
<div class="line"><span class="lineno">  909</span>                <span class="comment">/* xwlib_rbtree_link(sibling, lpc); */</span></div>
<div class="line"><span class="lineno">  910</span>                *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>) = sibling;</div>
<div class="line"><span class="lineno">  911</span>                sibling-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a> = <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>; <span class="comment">/* flip_color(S): red */</span></div>
<div class="line"><span class="lineno">  912</span> </div>
<div class="line"><span class="lineno">  913</span>                <span class="comment">/* omitted */</span></div>
<div class="line"><span class="lineno">  914</span>                <span class="comment">/* if (cc.child) {                                                 */</span></div>
<div class="line"><span class="lineno">  915</span>                <span class="comment">/*      xwlib_rbtree_link(cc.child,                                */</span></div>
<div class="line"><span class="lineno">  916</span>                <span class="comment">/*                        rr.reverse-&gt;lpc.v |                      */</span></div>
<div class="line"><span class="lineno">  917</span>                <span class="comment">/*                        XWLIB_RBTREE_COLOR_BLACK);               */</span></div>
<div class="line"><span class="lineno">  918</span>                <span class="comment">/* } else {                                                        */</span></div>
<div class="line"><span class="lineno">  919</span>                <span class="comment">/*      xwlib_rbtree_link_nil(rr.reverse-&gt;lpc.v);                  */</span></div>
<div class="line"><span class="lineno">  920</span>                <span class="comment">/* }                                                               */</span></div>
<div class="line"><span class="lineno">  921</span>                *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(rr.reverse-&gt;lpc.v) = cc.child;</div>
<div class="line"><span class="lineno">  922</span>                <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> != cc.child) {</div>
<div class="line"><span class="lineno">  923</span>                        cc.child-&gt;lpc.v = rr.reverse-&gt;lpc.v |</div>
<div class="line"><span class="lineno">  924</span>                                        (<a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)<a class="code hl_enumvalue" href="group__xwos__lib__rbtree.html#gga467e395cb91757101b795f111050319ca960c9838798d56964ca2cc6127e1a999">XWLIB_RBTREE_COLOR_BLACK</a>;</div>
<div class="line"><span class="lineno">  925</span>                }</div>
<div class="line"><span class="lineno">  926</span> </div>
<div class="line"><span class="lineno">  927</span>                <span class="comment">/* xwlib_rbtree_link(rr.reverse,</span></div>
<div class="line"><span class="lineno">  928</span><span class="comment">                                     (rotation | XWLIB_RBTREE_COLOR_BLACK));       */</span></div>
<div class="line"><span class="lineno">  929</span>                *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(rotation) = rr.reverse;</div>
<div class="line"><span class="lineno">  930</span>                <span class="comment">/* flip_color(cr) */</span></div>
<div class="line"><span class="lineno">  931</span>                rr.reverse-&gt;lpc.v = rotation | (<a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)<a class="code hl_enumvalue" href="group__xwos__lib__rbtree.html#gga467e395cb91757101b795f111050319ca960c9838798d56964ca2cc6127e1a999">XWLIB_RBTREE_COLOR_BLACK</a>;</div>
<div class="line"><span class="lineno">  932</span> </div>
<div class="line"><span class="lineno">  933</span>                <span class="comment">/* 转换为情况 2.2 */</span></div>
<div class="line"><span class="lineno">  934</span>                sibling = rr.reverse;</div>
<div class="line"><span class="lineno">  935</span>                <span class="keywordflow">goto</span> black_sibling; <span class="comment">// cppcheck-suppress [misra-c2012-15.2]</span></div>
<div class="line"><span class="lineno">  936</span>        }</div>
<div class="line"><span class="lineno">  937</span> </div>
<div class="line"><span class="lineno">  938</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  939</span><span class="comment">         * 情况 2.2.3 与兄弟节点(s)位置相同的子节点为红色</span></div>
<div class="line"><span class="lineno">  940</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  941</span><span class="comment">         *               |</span></div>
<div class="line"><span class="lineno">  942</span><span class="comment">         *             p(*)</span></div>
<div class="line"><span class="lineno">  943</span><span class="comment">         *             /   \</span></div>
<div class="line"><span class="lineno">  944</span><span class="comment">         *         s(B)     X(BB)</span></div>
<div class="line"><span class="lineno">  945</span><span class="comment">         *         /  \</span></div>
<div class="line"><span class="lineno">  946</span><span class="comment">         *  same(r)    reverse(*)</span></div>
<div class="line"><span class="lineno">  947</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  948</span><span class="comment">         *  right_rotate(p);</span></div>
<div class="line"><span class="lineno">  949</span><span class="comment">         * ------------------&gt;</span></div>
<div class="line"><span class="lineno">  950</span><span class="comment">         *  s, p, X留下颜色</span></div>
<div class="line"><span class="lineno">  951</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  952</span><span class="comment">         *               |</span></div>
<div class="line"><span class="lineno">  953</span><span class="comment">         *             s(*)</span></div>
<div class="line"><span class="lineno">  954</span><span class="comment">         *             /   \</span></div>
<div class="line"><span class="lineno">  955</span><span class="comment">         *     same(rB)     p(B)</span></div>
<div class="line"><span class="lineno">  956</span><span class="comment">         *                  /  \</span></div>
<div class="line"><span class="lineno">  957</span><span class="comment">         *        reverse(*)    X(B)</span></div>
<div class="line"><span class="lineno">  958</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  959</span><span class="comment">         * ******** ******** ******** ******** ******** ********</span></div>
<div class="line"><span class="lineno">  960</span><span class="comment">         *  OR</span></div>
<div class="line"><span class="lineno">  961</span><span class="comment">         * ******** ******** ******** ******** ******** ********</span></div>
<div class="line"><span class="lineno">  962</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  963</span><span class="comment">         *             |</span></div>
<div class="line"><span class="lineno">  964</span><span class="comment">         *           p(*)</span></div>
<div class="line"><span class="lineno">  965</span><span class="comment">         *           /   \</span></div>
<div class="line"><span class="lineno">  966</span><span class="comment">         *      X(BB)     s(B)</span></div>
<div class="line"><span class="lineno">  967</span><span class="comment">         *                /  \</span></div>
<div class="line"><span class="lineno">  968</span><span class="comment">         *      reverse(*)    same(r)</span></div>
<div class="line"><span class="lineno">  969</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  970</span><span class="comment">         *  left_rotate(p);</span></div>
<div class="line"><span class="lineno">  971</span><span class="comment">         * ------------------&gt;</span></div>
<div class="line"><span class="lineno">  972</span><span class="comment">         *  s, p, X留下颜色</span></div>
<div class="line"><span class="lineno">  973</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  974</span><span class="comment">         *               |</span></div>
<div class="line"><span class="lineno">  975</span><span class="comment">         *             s(*)</span></div>
<div class="line"><span class="lineno">  976</span><span class="comment">         *             /   \</span></div>
<div class="line"><span class="lineno">  977</span><span class="comment">         *         p(B)     same(rB)</span></div>
<div class="line"><span class="lineno">  978</span><span class="comment">         *         /  \</span></div>
<div class="line"><span class="lineno">  979</span><span class="comment">         *     X(B)    reverse(*)</span></div>
<div class="line"><span class="lineno">  980</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  981</span><span class="comment">         * + s把黑色留给same，然后继承p的颜色；</span></div>
<div class="line"><span class="lineno">  982</span><span class="comment">         * + p留下颜色然后继承X的一份黑色，X带走另一份；</span></div>
<div class="line"><span class="lineno">  983</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  984</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  985</span>        <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a> = parent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>;</div>
<div class="line"><span class="lineno">  986</span> </div>
<div class="line"><span class="lineno">  987</span>        <span class="comment">/* xwlib_rbtree_link(parent, rotation | XWLIB_RBTREE_COLOR_BLACK); */</span></div>
<div class="line"><span class="lineno">  988</span>        *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(rotation) = parent;</div>
<div class="line"><span class="lineno">  989</span>        parent-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a> = rotation | (<a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)<a class="code hl_enumvalue" href="group__xwos__lib__rbtree.html#gga467e395cb91757101b795f111050319ca960c9838798d56964ca2cc6127e1a999">XWLIB_RBTREE_COLOR_BLACK</a>;</div>
<div class="line"><span class="lineno">  990</span> </div>
<div class="line"><span class="lineno">  991</span>        <span class="comment">/* cc.color = xwlib_rbtree_get_color(rr.reverse-&gt;lpc.v); */</span></div>
<div class="line"><span class="lineno">  992</span>        <span class="comment">/* xwlib_rbtree_link(rr.reverse,</span></div>
<div class="line"><span class="lineno">  993</span><span class="comment">                             xwlib_rbtree_get_lnpos(sibling-&gt;lpc.v) | cc.color); */</span></div>
<div class="line"><span class="lineno">  994</span>        *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(sibling-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>) = rr.reverse;</div>
<div class="line"><span class="lineno">  995</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> != rr.reverse) {</div>
<div class="line"><span class="lineno">  996</span>                cc.color = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga753430d9b81161df27b7fa2ff540ee86">xwlib_rbtree_get_color</a>(rr.reverse-&gt;lpc.v);</div>
<div class="line"><span class="lineno">  997</span>                rr.reverse-&gt;lpc.v = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga017bd2d836367eff3d94ecb402fa4e62">xwlib_rbtree_get_lnpos</a>(sibling-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>) | cc.color;</div>
<div class="line"><span class="lineno">  998</span>        }</div>
<div class="line"><span class="lineno">  999</span> </div>
<div class="line"><span class="lineno"> 1000</span>        <span class="comment">/* xwlib_rbtree_link(sibling, lpc); */</span></div>
<div class="line"><span class="lineno"> 1001</span>        sibling-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a> = <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>; <span class="comment">/* Inherit color. */</span></div>
<div class="line"><span class="lineno"> 1002</span>        *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>) = sibling;</div>
<div class="line"><span class="lineno"> 1003</span>        <a class="code hl_function" href="group__xwos__lib__rbtree.html#ga692ff81d9c30fac79a823c5c2ff2357d">xwlib_rbtree_set_black</a>(sl.same); <span class="comment">/* Inherit color of sibling */</span></div>
<div class="line"><span class="lineno"> 1004</span>}</div>
<div class="ttc" id="agroup__xwos__lib__rbtree_html_ga017bd2d836367eff3d94ecb402fa4e62"><div class="ttname"><a href="group__xwos__lib__rbtree.html#ga017bd2d836367eff3d94ecb402fa4e62">xwlib_rbtree_get_lnpos</a></div><div class="ttdeci">#define xwlib_rbtree_get_lnpos(lpc)</div><div class="ttdoc">获取lpc信息中的link指针和位置信息（屏蔽颜色信息）</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00134">rbtree.h:134</a></div></div>
<div class="ttc" id="agroup__xwos__lib__rbtree_html_ga2502fed0a895591911885bd8725de911"><div class="ttname"><a href="group__xwos__lib__rbtree.html#ga2502fed0a895591911885bd8725de911">xwlib_rbtree_get_successor</a></div><div class="ttdeci">static struct xwlib_rbtree_node * xwlib_rbtree_get_successor(struct xwlib_rbtree_node *node)</div><div class="ttdoc">返回节点的后继节点</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00393">rbtree.h:393</a></div></div>
<div class="ttc" id="agroup__xwos__lib__rbtree_html_ga5c25f935b75b0a79cbcf19adfc636e8d"><div class="ttname"><a href="group__xwos__lib__rbtree.html#ga5c25f935b75b0a79cbcf19adfc636e8d">xwlib_rbtree_gen_lc</a></div><div class="ttdeci">#define xwlib_rbtree_gen_lc(n, color)</div><div class="ttdoc">生成节点左边的链指针、位置和颜色信息</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00167">rbtree.h:167</a></div></div>
<div class="ttc" id="agroup__xwos__lib__rbtree_html_ga692ff81d9c30fac79a823c5c2ff2357d"><div class="ttname"><a href="group__xwos__lib__rbtree.html#ga692ff81d9c30fac79a823c5c2ff2357d">xwlib_rbtree_set_black</a></div><div class="ttdeci">static void xwlib_rbtree_set_black(struct xwlib_rbtree_node *node)</div><div class="ttdoc">将节点设置为黑色</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00329">rbtree.h:329</a></div></div>
<div class="ttc" id="agroup__xwos__lib__rbtree_html_ga753430d9b81161df27b7fa2ff540ee86"><div class="ttname"><a href="group__xwos__lib__rbtree.html#ga753430d9b81161df27b7fa2ff540ee86">xwlib_rbtree_get_color</a></div><div class="ttdeci">#define xwlib_rbtree_get_color(lpc)</div><div class="ttdoc">获取lpc信息中的颜色信息</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00212">rbtree.h:212</a></div></div>
<div class="ttc" id="agroup__xwos__lib__rbtree_html_ga7b281445f2079f235077400ee79f15ea"><div class="ttname"><a href="group__xwos__lib__rbtree.html#ga7b281445f2079f235077400ee79f15ea">xwlib_rbtree_transplant</a></div><div class="ttdeci">static void xwlib_rbtree_transplant(struct xwlib_rbtree_node *newn, struct xwlib_rbtree_node *oldn)</div><div class="ttdoc">用新节点代替旧节点并继承它的链指针、颜色和位置信息， 但新节点并不接管旧节点的子节点</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00413">rbtree.h:413</a></div></div>
<div class="ttc" id="agroup__xwos__lib__rbtree_html_gaef7f6608cd37a0fb765adb003428ec38"><div class="ttname"><a href="group__xwos__lib__rbtree.html#gaef7f6608cd37a0fb765adb003428ec38">xwlib_rbtree_link</a></div><div class="ttdeci">static void xwlib_rbtree_link(struct xwlib_rbtree_node *node, xwptr_t lpc)</div><div class="ttdoc">链接节点，并设置位置及颜色信息</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00350">rbtree.h:350</a></div></div>
<div class="ttc" id="agroup__xwos__lib__rbtree_html_gafc2c4fbf162015fc971dd26677ec5b19"><div class="ttname"><a href="group__xwos__lib__rbtree.html#gafc2c4fbf162015fc971dd26677ec5b19">xwlib_rbtree_gen_rc</a></div><div class="ttdeci">#define xwlib_rbtree_gen_rc(n, color)</div><div class="ttdoc">生成节点右边的链指针、位置和颜色信息</div><div class="ttdef"><b>Definition</b> <a href="rbtree_8h_source.html#l00176">rbtree.h:176</a></div></div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__lib__rbtree_gac57fdaeef6a9dc2ee2bedbf5ac885f96_cgraph.png" border="0" usemap="#agroup__xwos__lib__rbtree_gac57fdaeef6a9dc2ee2bedbf5ac885f96_cgraph" alt=""/></div>
<map name="agroup__xwos__lib__rbtree_gac57fdaeef6a9dc2ee2bedbf5ac885f96_cgraph" id="agroup__xwos__lib__rbtree_gac57fdaeef6a9dc2ee2bedbf5ac885f96_cgraph">
<area shape="rect" title="删除一个节点，并修正红黑树的颜色" alt="" coords="5,129,148,155"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#ga3d27937625dc93286c012da5e82945b8" title="反转节点的颜色" alt="" coords="213,5,363,31"/>
<area shape="poly" title=" " alt="" coords="88,127,132,84,162,60,195,40,210,33,212,38,197,44,165,65,135,88,91,131"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#ga8e9025d3e8bade2a627001fb58251047" title="返回节点的父节点指针" alt="" coords="208,55,368,80"/>
<area shape="poly" title=" " alt="" coords="104,127,195,89,220,81,221,86,197,94,106,132"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#ga2502fed0a895591911885bd8725de911" title="返回节点的后继节点" alt="" coords="196,104,380,129"/>
<area shape="poly" title=" " alt="" coords="148,131,182,127,182,132,148,136"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#gaef7f6608cd37a0fb765adb003428ec38" title="链接节点，并设置位置及颜色信息" alt="" coords="229,153,347,179"/>
<area shape="poly" title=" " alt="" coords="148,147,215,155,214,160,148,153"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#ga692ff81d9c30fac79a823c5c2ff2357d" title="将节点设置为黑色" alt="" coords="211,203,365,228"/>
<area shape="poly" title=" " alt="" coords="108,152,197,187,224,196,223,201,195,193,106,157"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#ga7b281445f2079f235077400ee79f15ea" title="用新节点代替旧节点并继承它的链指针、颜色和位置信息， 但新节点并不接管旧节点的子节点" alt="" coords="210,252,366,277"/>
<area shape="poly" title=" " alt="" coords="92,153,136,194,165,217,197,237,215,245,213,250,195,242,162,222,132,198,88,157"/>
</map>
</div>
<div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__lib__rbtree_gac57fdaeef6a9dc2ee2bedbf5ac885f96_icgraph.png" border="0" usemap="#agroup__xwos__lib__rbtree_gac57fdaeef6a9dc2ee2bedbf5ac885f96_icgraph" alt=""/></div>
<map name="agroup__xwos__lib__rbtree_gac57fdaeef6a9dc2ee2bedbf5ac885f96_icgraph" id="agroup__xwos__lib__rbtree_gac57fdaeef6a9dc2ee2bedbf5ac885f96_icgraph">
<area shape="rect" title="删除一个节点，并修正红黑树的颜色" alt="" coords="2196,70,2339,95"/>
<area shape="rect" href="group__xwos__lib__map.html#gae0a9e603da5733ebdf899a7969227cf8" title="删除键值对容器" alt="" coords="1981,13,2104,38"/>
<area shape="poly" title=" " alt="" coords="2206,69,2147,53,2097,41,2098,35,2149,48,2208,64"/>
<area shape="rect" href="page_8c.html#ab54f23d0058e1bff33377fc2d7b0a48c" title="从阶红黑树中选择一页" alt="" coords="1937,63,2148,103"/>
<area shape="poly" title=" " alt="" coords="2182,85,2148,85,2148,80,2182,80"/>
<area shape="rect" href="page_8c.html#a0803eb38a9059618cf4c98136dc70033" title="从阶红黑树中删除页" alt="" coords="1937,127,2148,167"/>
<area shape="poly" title=" " alt="" coords="2210,102,2114,129,2113,124,2208,97"/>
<area shape="rect" href="group__xwmm__mempool.html#ga7cbe7d0a7d7052c887dc7723c5010ec1" title="XWMM API：申请一页内存" alt="" coords="1421,70,1629,95"/>
<area shape="poly" title=" " alt="" coords="1924,85,1629,85,1629,80,1924,80"/>
<area shape="rect" href="objcache_8c.html#a23e4915feeaf7a05d46ec2affe504642" title="获取一页，准备从页内存中分配对象" alt="" coords="1193,5,1373,45"/>
<area shape="poly" title=" " alt="" coords="1457,69,1368,48,1369,43,1458,64"/>
<area shape="rect" href="group__xwmm__mempool.html#gaa72ed546dbddbbb8dd035c01c6334a24" title="XWMM API：预留对象到对象缓存中" alt="" coords="937,69,1117,109"/>
<area shape="poly" title=" " alt="" coords="1407,87,1118,91,1118,85,1407,82"/>
<area shape="rect" href="page_8c.html#a4b4868cc6b3b9570ba579c040c6d11a2" title="i_allocator接口函数：申请内存" alt="" coords="1200,184,1367,224"/>
<area shape="poly" title=" " alt="" coords="1468,102,1423,125,1409,137,1400,149,1390,162,1375,174,1352,186,1350,181,1372,170,1386,158,1395,146,1405,133,1420,120,1466,98"/>
<area shape="rect" href="group__xwmm__mempool.html#ga86e445faf7ecf95130e042fa9b96a41b" title="XWMM API：从对象缓存中申请一个对象" alt="" coords="937,5,1117,45"/>
<area shape="poly" title=" " alt="" coords="1180,28,1117,28,1117,23,1180,23"/>
<area shape="rect" href="objcache_8c.html#a27d6631115c7033bfb49d22d5d3d992d" title="i_allocator接口函数：申请内存" alt="" coords="681,35,861,75"/>
<area shape="poly" title=" " alt="" coords="924,40,862,47,861,42,923,35"/>
<area shape="rect" href="group__xwmm__mempool.html#ga15d8fc6d72d2ef920927bd6702174c3a" title="XWMM API：初始化对象缓存" alt="" coords="429,134,633,159"/>
<area shape="poly" title=" " alt="" coords="706,82,567,136,565,131,704,77"/>
<area shape="rect" href="allocator_8c.html#a6e1f6748cc378d09e931897b69231d0d" title="构建内存池" alt="" coords="199,163,381,189"/>
<area shape="poly" title=" " alt="" coords="416,163,382,168,381,162,415,158"/>
<area shape="rect" href="group__xwmm__mempool.html#gaad8340a12043c383e489a786788e89af" title="XWMM API：初始化内存池" alt="" coords="5,163,151,189"/>
<area shape="poly" title=" " alt="" coords="184,179,151,179,151,173,184,173"/>
<area shape="rect" href="group__xwmm__mempool.html#gaeac7d28f7509e0c764b9f995ebd45f12" title="XWMM API：初始化页分配器" alt="" coords="909,191,1145,217"/>
<area shape="poly" title=" " alt="" coords="1186,207,1145,207,1145,201,1186,201"/>
<area shape="poly" title=" " alt="" coords="895,202,382,182,382,177,896,196"/>
<area shape="rect" href="page_8c.html#a8e9302d65eea335934b13f63caea64aa" title="合并空闲的伙伴页" alt="" coords="1677,134,1889,159"/>
<area shape="poly" title=" " alt="" coords="1924,149,1890,149,1890,144,1924,144"/>
<area shape="rect" href="group__xwmm__mempool.html#ga52f11e08dc37a0cc72717169b6ae4131" title="XWMM API：释放一页内存" alt="" coords="1433,134,1618,159"/>
<area shape="poly" title=" " alt="" coords="1664,149,1618,149,1618,144,1664,144"/>
<area shape="rect" href="objcache_8c.html#a21221e21cca4abbdfc36138c1cecb3f5" title="释放空闲页" alt="" coords="1193,120,1373,160"/>
<area shape="poly" title=" " alt="" coords="1419,146,1373,145,1373,140,1419,141"/>
<area shape="rect" href="page_8c.html#a4fff326383599e57562dd2d1bd8dbc2b" title="i_allocator接口函数：释放内存" alt="" coords="1200,248,1367,288"/>
<area shape="poly" title=" " alt="" coords="1495,169,1440,203,1374,238,1346,250,1344,246,1372,234,1437,199,1492,165"/>
<area shape="poly" title=" " alt="" coords="1179,122,1117,110,1118,104,1180,117"/>
<area shape="rect" href="group__xwmm__mempool.html#gae7d39e7ba00cc3926284e6ba8775121b" title="XWMM API：释放对象到对象缓存中" alt="" coords="923,134,1132,159"/>
<area shape="poly" title=" " alt="" coords="1180,145,1132,147,1132,141,1179,140"/>
<area shape="rect" href="objcache_8c.html#a7214f0b448c3680b68f84d3bb6d7155a" title="i_allocator接口函数：释放内存" alt="" coords="681,127,861,167"/>
<area shape="poly" title=" " alt="" coords="909,149,862,149,862,144,909,144"/>
<area shape="poly" title=" " alt="" coords="668,149,634,149,634,144,668,144"/>
<area shape="poly" title=" " alt="" coords="1189,247,1078,219,1080,214,1190,242"/>
</map>
</div>

</div>
</div>
<a id="gaf8646036885c32c8a323c5b8169603fd" name="gaf8646036885c32c8a323c5b8169603fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf8646036885c32c8a323c5b8169603fd">&#9670;&#160;</a></span>xwlib_rbtree_replace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xwlib_rbtree_replace </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *&#160;</td>
          <td class="paramname"><em>newn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *&#160;</td>
          <td class="paramname"><em>oldn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>用一个新节点代替旧节点，继承它的颜色、位置信息并接管它的子树 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">newn</td><td>新节点的指针 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">oldn</td><td>旧节点的指针 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="rbtree_8c_source.html">rbtree.c</a> 第 <a class="el" href="rbtree_8c_source.html#l01007">1007</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1009</span>{</div>
<div class="line"><span class="lineno"> 1010</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * <a class="code hl_variable" href="structxwlib__rbtree__node.html#a305d52ccf12a4bffa8d7e8a346a5ef2d">left</a> = oldn-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a305d52ccf12a4bffa8d7e8a346a5ef2d">left</a>;</div>
<div class="line"><span class="lineno"> 1011</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * <a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a> = oldn-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a>;</div>
<div class="line"><span class="lineno"> 1012</span> </div>
<div class="line"><span class="lineno"> 1013</span>        <a class="code hl_function" href="group__xwos__lib__rbtree.html#ga7b281445f2079f235077400ee79f15ea">xwlib_rbtree_transplant</a>(newn, oldn);</div>
<div class="line"><span class="lineno"> 1014</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> != <a class="code hl_variable" href="structxwlib__rbtree__node.html#a305d52ccf12a4bffa8d7e8a346a5ef2d">left</a>) {</div>
<div class="line"><span class="lineno"> 1015</span>                <a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a> <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a> = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga753430d9b81161df27b7fa2ff540ee86">xwlib_rbtree_get_color</a>(<a class="code hl_variable" href="structxwlib__rbtree__node.html#a305d52ccf12a4bffa8d7e8a346a5ef2d">left</a>-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>);</div>
<div class="line"><span class="lineno"> 1016</span>                <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a> |= (<a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)(&amp;newn-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a305d52ccf12a4bffa8d7e8a346a5ef2d">left</a>);</div>
<div class="line"><span class="lineno"> 1017</span>                <a class="code hl_function" href="group__xwos__lib__rbtree.html#gaef7f6608cd37a0fb765adb003428ec38">xwlib_rbtree_link</a>(<a class="code hl_variable" href="structxwlib__rbtree__node.html#a305d52ccf12a4bffa8d7e8a346a5ef2d">left</a>, <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>);</div>
<div class="line"><span class="lineno"> 1018</span>        }</div>
<div class="line"><span class="lineno"> 1019</span> </div>
<div class="line"><span class="lineno"> 1020</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> != <a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a>) {</div>
<div class="line"><span class="lineno"> 1021</span>                <a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a> <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a> = <a class="code hl_define" href="group__xwos__lib__rbtree.html#ga753430d9b81161df27b7fa2ff540ee86">xwlib_rbtree_get_color</a>(<a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a>-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>);</div>
<div class="line"><span class="lineno"> 1022</span>                <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a> |= ((<a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)(&amp;newn-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a>) | (<a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)<a class="code hl_enumvalue" href="group__xwos__lib__rbtree.html#gga24db3abd791e1b31e4147f1aea0dda5fa80511d7804ed626c9b0a6f571e69fab7">XWLIB_RBTREE_POS_RIGHT</a>);</div>
<div class="line"><span class="lineno"> 1023</span>                <a class="code hl_function" href="group__xwos__lib__rbtree.html#gaef7f6608cd37a0fb765adb003428ec38">xwlib_rbtree_link</a>(<a class="code hl_variable" href="structxwlib__rbtree__node.html#a5a64519a3b225248f1d7321ecc5295fd">right</a>, <a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>);</div>
<div class="line"><span class="lineno"> 1024</span>        }</div>
<div class="line"><span class="lineno"> 1025</span>}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__lib__rbtree_gaf8646036885c32c8a323c5b8169603fd_cgraph.png" border="0" usemap="#agroup__xwos__lib__rbtree_gaf8646036885c32c8a323c5b8169603fd_cgraph" alt=""/></div>
<map name="agroup__xwos__lib__rbtree_gaf8646036885c32c8a323c5b8169603fd_cgraph" id="agroup__xwos__lib__rbtree_gaf8646036885c32c8a323c5b8169603fd_cgraph">
<area shape="rect" title="用一个新节点代替旧节点，继承它的颜色、位置信息并接管它的子树" alt="" coords="5,31,147,56"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#gaef7f6608cd37a0fb765adb003428ec38" title="链接节点，并设置位置及颜色信息" alt="" coords="213,5,332,31"/>
<area shape="poly" title=" " alt="" coords="146,32,199,25,200,30,147,37"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#ga7b281445f2079f235077400ee79f15ea" title="用新节点代替旧节点并继承它的链指针、颜色和位置信息， 但新节点并不接管旧节点的子节点" alt="" coords="195,55,351,80"/>
<area shape="poly" title=" " alt="" coords="147,49,181,54,181,59,146,55"/>
</map>
</div>

</div>
</div>
<a id="ga692ff81d9c30fac79a823c5c2ff2357d" name="ga692ff81d9c30fac79a823c5c2ff2357d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga692ff81d9c30fac79a823c5c2ff2357d">&#9670;&#160;</a></span>xwlib_rbtree_set_black()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void xwlib_rbtree_set_black </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>将节点设置为黑色 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">node</td><td>红黑树节点指针 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00329">329</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  330</span>{</div>
<div class="line"><span class="lineno">  331</span>        node-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#a4f10043d87e11f0bb0b1a9ff4f398177">color</a> |= (<a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)2UL;</div>
<div class="line"><span class="lineno">  332</span>}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__lib__rbtree_ga692ff81d9c30fac79a823c5c2ff2357d_icgraph.png" border="0" usemap="#agroup__xwos__lib__rbtree_ga692ff81d9c30fac79a823c5c2ff2357d_icgraph" alt=""/></div>
<map name="agroup__xwos__lib__rbtree_ga692ff81d9c30fac79a823c5c2ff2357d_icgraph" id="agroup__xwos__lib__rbtree_ga692ff81d9c30fac79a823c5c2ff2357d_icgraph">
<area shape="rect" title="将节点设置为黑色" alt="" coords="2387,70,2541,95"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#gac57fdaeef6a9dc2ee2bedbf5ac885f96" title="删除一个节点，并修正红黑树的颜色" alt="" coords="2196,70,2339,95"/>
<area shape="poly" title=" " alt="" coords="2373,85,2339,85,2339,80,2373,80"/>
<area shape="rect" href="group__xwos__lib__map.html#gae0a9e603da5733ebdf899a7969227cf8" title="删除键值对容器" alt="" coords="1981,13,2104,38"/>
<area shape="poly" title=" " alt="" coords="2206,69,2147,53,2097,41,2098,35,2149,48,2208,64"/>
<area shape="rect" href="page_8c.html#ab54f23d0058e1bff33377fc2d7b0a48c" title="从阶红黑树中选择一页" alt="" coords="1937,63,2148,103"/>
<area shape="poly" title=" " alt="" coords="2182,85,2148,85,2148,80,2182,80"/>
<area shape="rect" href="page_8c.html#a0803eb38a9059618cf4c98136dc70033" title="从阶红黑树中删除页" alt="" coords="1937,127,2148,167"/>
<area shape="poly" title=" " alt="" coords="2210,102,2114,129,2113,124,2208,97"/>
<area shape="rect" href="group__xwmm__mempool.html#ga7cbe7d0a7d7052c887dc7723c5010ec1" title="XWMM API：申请一页内存" alt="" coords="1421,70,1629,95"/>
<area shape="poly" title=" " alt="" coords="1924,85,1629,85,1629,80,1924,80"/>
<area shape="rect" href="objcache_8c.html#a23e4915feeaf7a05d46ec2affe504642" title="获取一页，准备从页内存中分配对象" alt="" coords="1193,5,1373,45"/>
<area shape="poly" title=" " alt="" coords="1457,69,1368,48,1369,43,1458,64"/>
<area shape="rect" href="group__xwmm__mempool.html#gaa72ed546dbddbbb8dd035c01c6334a24" title="XWMM API：预留对象到对象缓存中" alt="" coords="937,69,1117,109"/>
<area shape="poly" title=" " alt="" coords="1407,87,1118,91,1118,85,1407,82"/>
<area shape="rect" href="page_8c.html#a4b4868cc6b3b9570ba579c040c6d11a2" title="i_allocator接口函数：申请内存" alt="" coords="1200,184,1367,224"/>
<area shape="poly" title=" " alt="" coords="1468,102,1423,125,1409,137,1400,149,1390,162,1375,174,1352,186,1350,181,1372,170,1386,158,1395,146,1405,133,1420,120,1466,98"/>
<area shape="rect" href="group__xwmm__mempool.html#ga86e445faf7ecf95130e042fa9b96a41b" title="XWMM API：从对象缓存中申请一个对象" alt="" coords="937,5,1117,45"/>
<area shape="poly" title=" " alt="" coords="1180,28,1117,28,1117,23,1180,23"/>
<area shape="rect" href="objcache_8c.html#a27d6631115c7033bfb49d22d5d3d992d" title="i_allocator接口函数：申请内存" alt="" coords="681,35,861,75"/>
<area shape="poly" title=" " alt="" coords="924,40,862,47,861,42,923,35"/>
<area shape="rect" href="group__xwmm__mempool.html#ga15d8fc6d72d2ef920927bd6702174c3a" title="XWMM API：初始化对象缓存" alt="" coords="429,134,633,159"/>
<area shape="poly" title=" " alt="" coords="706,82,567,136,565,131,704,77"/>
<area shape="rect" href="allocator_8c.html#a6e1f6748cc378d09e931897b69231d0d" title="构建内存池" alt="" coords="199,163,381,189"/>
<area shape="poly" title=" " alt="" coords="416,163,382,168,381,162,415,158"/>
<area shape="rect" href="group__xwmm__mempool.html#gaad8340a12043c383e489a786788e89af" title="XWMM API：初始化内存池" alt="" coords="5,163,151,189"/>
<area shape="poly" title=" " alt="" coords="184,179,151,179,151,173,184,173"/>
<area shape="rect" href="group__xwmm__mempool.html#gaeac7d28f7509e0c764b9f995ebd45f12" title="XWMM API：初始化页分配器" alt="" coords="909,191,1145,217"/>
<area shape="poly" title=" " alt="" coords="1186,207,1145,207,1145,201,1186,201"/>
<area shape="poly" title=" " alt="" coords="895,202,382,182,382,177,896,196"/>
<area shape="rect" href="page_8c.html#a8e9302d65eea335934b13f63caea64aa" title="合并空闲的伙伴页" alt="" coords="1677,134,1889,159"/>
<area shape="poly" title=" " alt="" coords="1924,149,1890,149,1890,144,1924,144"/>
<area shape="rect" href="group__xwmm__mempool.html#ga52f11e08dc37a0cc72717169b6ae4131" title="XWMM API：释放一页内存" alt="" coords="1433,134,1618,159"/>
<area shape="poly" title=" " alt="" coords="1664,149,1618,149,1618,144,1664,144"/>
<area shape="rect" href="objcache_8c.html#a21221e21cca4abbdfc36138c1cecb3f5" title="释放空闲页" alt="" coords="1193,120,1373,160"/>
<area shape="poly" title=" " alt="" coords="1419,146,1373,145,1373,140,1419,141"/>
<area shape="rect" href="page_8c.html#a4fff326383599e57562dd2d1bd8dbc2b" title="i_allocator接口函数：释放内存" alt="" coords="1200,248,1367,288"/>
<area shape="poly" title=" " alt="" coords="1495,169,1440,203,1374,238,1346,250,1344,246,1372,234,1437,199,1492,165"/>
<area shape="poly" title=" " alt="" coords="1179,122,1117,110,1118,104,1180,117"/>
<area shape="rect" href="group__xwmm__mempool.html#gae7d39e7ba00cc3926284e6ba8775121b" title="XWMM API：释放对象到对象缓存中" alt="" coords="923,134,1132,159"/>
<area shape="poly" title=" " alt="" coords="1180,145,1132,147,1132,141,1179,140"/>
<area shape="rect" href="objcache_8c.html#a7214f0b448c3680b68f84d3bb6d7155a" title="i_allocator接口函数：释放内存" alt="" coords="681,127,861,167"/>
<area shape="poly" title=" " alt="" coords="909,149,862,149,862,144,909,144"/>
<area shape="poly" title=" " alt="" coords="668,149,634,149,634,144,668,144"/>
<area shape="poly" title=" " alt="" coords="1189,247,1078,219,1080,214,1190,242"/>
</map>
</div>

</div>
</div>
<a id="ga7b22d492211a5b38af47e3e37c637bb4" name="ga7b22d492211a5b38af47e3e37c637bb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7b22d492211a5b38af47e3e37c637bb4">&#9670;&#160;</a></span>xwlib_rbtree_set_red()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void xwlib_rbtree_set_red </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>将节点设置为红色 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">node</td><td>红黑树节点指针 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00339">339</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  340</span>{</div>
<div class="line"><span class="lineno">  341</span>        node-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#a4f10043d87e11f0bb0b1a9ff4f398177">color</a> &amp;= ~((<a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)(2UL));</div>
<div class="line"><span class="lineno">  342</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga7b281445f2079f235077400ee79f15ea" name="ga7b281445f2079f235077400ee79f15ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7b281445f2079f235077400ee79f15ea">&#9670;&#160;</a></span>xwlib_rbtree_transplant()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void xwlib_rbtree_transplant </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *&#160;</td>
          <td class="paramname"><em>newn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *&#160;</td>
          <td class="paramname"><em>oldn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>用新节点代替旧节点并继承它的链指针、颜色和位置信息， 但新节点并不接管旧节点的子节点 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">newn</td><td>新节点指针 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">oldn</td><td>旧节点指针 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00413">413</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  415</span>{</div>
<div class="line"><span class="lineno">  416</span>        newn-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a> = oldn-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>;</div>
<div class="line"><span class="lineno">  417</span>        *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(oldn-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>) = newn;</div>
<div class="line"><span class="lineno">  418</span>}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__lib__rbtree_ga7b281445f2079f235077400ee79f15ea_icgraph.png" border="0" usemap="#agroup__xwos__lib__rbtree_ga7b281445f2079f235077400ee79f15ea_icgraph" alt=""/></div>
<map name="agroup__xwos__lib__rbtree_ga7b281445f2079f235077400ee79f15ea_icgraph" id="agroup__xwos__lib__rbtree_ga7b281445f2079f235077400ee79f15ea_icgraph">
<area shape="rect" title="用新节点代替旧节点并继承它的链指针、颜色和位置信息， 但新节点并不接管旧节点的子节点" alt="" coords="2387,95,2543,121"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#gac57fdaeef6a9dc2ee2bedbf5ac885f96" title="删除一个节点，并修正红黑树的颜色" alt="" coords="2196,70,2339,95"/>
<area shape="poly" title=" " alt="" coords="2373,99,2338,94,2339,89,2373,94"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#gaf8646036885c32c8a323c5b8169603fd" title="用一个新节点代替旧节点，继承它的颜色、位置信息并接管它的子树" alt="" coords="2197,119,2338,145"/>
<area shape="poly" title=" " alt="" coords="2373,122,2338,126,2338,121,2372,117"/>
<area shape="rect" href="group__xwos__lib__map.html#gae0a9e603da5733ebdf899a7969227cf8" title="删除键值对容器" alt="" coords="1981,13,2104,38"/>
<area shape="poly" title=" " alt="" coords="2206,69,2147,53,2097,41,2098,35,2149,48,2208,64"/>
<area shape="rect" href="page_8c.html#ab54f23d0058e1bff33377fc2d7b0a48c" title="从阶红黑树中选择一页" alt="" coords="1937,63,2148,103"/>
<area shape="poly" title=" " alt="" coords="2182,85,2148,85,2148,80,2182,80"/>
<area shape="rect" href="page_8c.html#a0803eb38a9059618cf4c98136dc70033" title="从阶红黑树中删除页" alt="" coords="1937,127,2148,167"/>
<area shape="poly" title=" " alt="" coords="2210,102,2114,129,2113,124,2208,97"/>
<area shape="rect" href="group__xwmm__mempool.html#ga7cbe7d0a7d7052c887dc7723c5010ec1" title="XWMM API：申请一页内存" alt="" coords="1421,70,1629,95"/>
<area shape="poly" title=" " alt="" coords="1924,85,1629,85,1629,80,1924,80"/>
<area shape="rect" href="objcache_8c.html#a23e4915feeaf7a05d46ec2affe504642" title="获取一页，准备从页内存中分配对象" alt="" coords="1193,5,1373,45"/>
<area shape="poly" title=" " alt="" coords="1457,69,1368,48,1369,43,1458,64"/>
<area shape="rect" href="group__xwmm__mempool.html#gaa72ed546dbddbbb8dd035c01c6334a24" title="XWMM API：预留对象到对象缓存中" alt="" coords="937,69,1117,109"/>
<area shape="poly" title=" " alt="" coords="1407,87,1118,91,1118,85,1407,82"/>
<area shape="rect" href="page_8c.html#a4b4868cc6b3b9570ba579c040c6d11a2" title="i_allocator接口函数：申请内存" alt="" coords="1200,184,1367,224"/>
<area shape="poly" title=" " alt="" coords="1468,102,1423,125,1409,137,1400,149,1390,162,1375,174,1352,186,1350,181,1372,170,1386,158,1395,146,1405,133,1420,120,1466,98"/>
<area shape="rect" href="group__xwmm__mempool.html#ga86e445faf7ecf95130e042fa9b96a41b" title="XWMM API：从对象缓存中申请一个对象" alt="" coords="937,5,1117,45"/>
<area shape="poly" title=" " alt="" coords="1180,28,1117,28,1117,23,1180,23"/>
<area shape="rect" href="objcache_8c.html#a27d6631115c7033bfb49d22d5d3d992d" title="i_allocator接口函数：申请内存" alt="" coords="681,35,861,75"/>
<area shape="poly" title=" " alt="" coords="924,40,862,47,861,42,923,35"/>
<area shape="rect" href="group__xwmm__mempool.html#ga15d8fc6d72d2ef920927bd6702174c3a" title="XWMM API：初始化对象缓存" alt="" coords="429,134,633,159"/>
<area shape="poly" title=" " alt="" coords="706,82,567,136,565,131,704,77"/>
<area shape="rect" href="allocator_8c.html#a6e1f6748cc378d09e931897b69231d0d" title="构建内存池" alt="" coords="199,163,381,189"/>
<area shape="poly" title=" " alt="" coords="416,163,382,168,381,162,415,158"/>
<area shape="rect" href="group__xwmm__mempool.html#gaad8340a12043c383e489a786788e89af" title="XWMM API：初始化内存池" alt="" coords="5,163,151,189"/>
<area shape="poly" title=" " alt="" coords="184,179,151,179,151,173,184,173"/>
<area shape="rect" href="group__xwmm__mempool.html#gaeac7d28f7509e0c764b9f995ebd45f12" title="XWMM API：初始化页分配器" alt="" coords="909,191,1145,217"/>
<area shape="poly" title=" " alt="" coords="1186,207,1145,207,1145,201,1186,201"/>
<area shape="poly" title=" " alt="" coords="895,202,382,182,382,177,896,196"/>
<area shape="rect" href="page_8c.html#a8e9302d65eea335934b13f63caea64aa" title="合并空闲的伙伴页" alt="" coords="1677,134,1889,159"/>
<area shape="poly" title=" " alt="" coords="1924,149,1890,149,1890,144,1924,144"/>
<area shape="rect" href="group__xwmm__mempool.html#ga52f11e08dc37a0cc72717169b6ae4131" title="XWMM API：释放一页内存" alt="" coords="1433,134,1618,159"/>
<area shape="poly" title=" " alt="" coords="1664,149,1618,149,1618,144,1664,144"/>
<area shape="rect" href="objcache_8c.html#a21221e21cca4abbdfc36138c1cecb3f5" title="释放空闲页" alt="" coords="1193,120,1373,160"/>
<area shape="poly" title=" " alt="" coords="1419,146,1373,145,1373,140,1419,141"/>
<area shape="rect" href="page_8c.html#a4fff326383599e57562dd2d1bd8dbc2b" title="i_allocator接口函数：释放内存" alt="" coords="1200,248,1367,288"/>
<area shape="poly" title=" " alt="" coords="1495,169,1440,203,1374,238,1346,250,1344,246,1372,234,1437,199,1492,165"/>
<area shape="poly" title=" " alt="" coords="1179,122,1117,110,1118,104,1180,117"/>
<area shape="rect" href="group__xwmm__mempool.html#gae7d39e7ba00cc3926284e6ba8775121b" title="XWMM API：释放对象到对象缓存中" alt="" coords="923,134,1132,159"/>
<area shape="poly" title=" " alt="" coords="1180,145,1132,147,1132,141,1179,140"/>
<area shape="rect" href="objcache_8c.html#a7214f0b448c3680b68f84d3bb6d7155a" title="i_allocator接口函数：释放内存" alt="" coords="681,127,861,167"/>
<area shape="poly" title=" " alt="" coords="909,149,862,149,862,144,909,144"/>
<area shape="poly" title=" " alt="" coords="668,149,634,149,634,144,668,144"/>
<area shape="poly" title=" " alt="" coords="1189,247,1078,219,1080,214,1190,242"/>
</map>
</div>

</div>
</div>
<a id="ga42f6822125f499ac53a278462009b0ee" name="ga42f6822125f499ac53a278462009b0ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga42f6822125f499ac53a278462009b0ee">&#9670;&#160;</a></span>xwlib_rbtree_transplant_nil()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void xwlib_rbtree_transplant_nil </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *&#160;</td>
          <td class="paramname"><em>oldn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>用叶子(NIL)替换一个旧节点 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">oldn</td><td>旧节点指针 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00425">425</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  426</span>{</div>
<div class="line"><span class="lineno">  427</span>        *<a class="code hl_define" href="group__xwos__lib__rbtree.html#ga55c3b92f4fbb4b8b429f2f2fa62697f7">xwlib_rbtree_get_link</a>(oldn-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>) = <a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  428</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga5d7a78a792db32bf139e0346e108a955" name="ga5d7a78a792db32bf139e0346e108a955"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5d7a78a792db32bf139e0346e108a955">&#9670;&#160;</a></span>xwlib_rbtree_tst_empty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool xwlib_rbtree_tst_empty </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree.html">xwlib_rbtree</a> *&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>测试一棵红黑树是否为空树 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">t</td><td>红黑树指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>非空 </td></tr>
    <tr><td class="paramname">true</td><td>空 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00437">437</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  438</span>{</div>
<div class="line"><span class="lineno">  439</span>        <span class="keywordflow">return</span> !!(<a class="code hl_define" href="group__xwos__lib__type.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> == t-&gt;<a class="code hl_variable" href="structxwlib__rbtree.html#a05d1bdd1cf62a0a083a576d914250270">root</a>);</div>
<div class="line"><span class="lineno">  440</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga23349674f77ef164e1771a3244c766ab" name="ga23349674f77ef164e1771a3244c766ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga23349674f77ef164e1771a3244c766ab">&#9670;&#160;</a></span>xwlib_rbtree_tst_link_root()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool xwlib_rbtree_tst_link_root </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree.html">xwlib_rbtree</a> *&#160;</td>
          <td class="paramname"><em>rbt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> **&#160;</td>
          <td class="paramname"><em>link</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>测试是否连接到根节点（是否为根节点的子节点） </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rbt</td><td>红黑树指针 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">link</td><td>链指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>布尔值 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>是 </td></tr>
    <tr><td class="paramname">false</td><td>否 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00308">308</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  310</span>{</div>
<div class="line"><span class="lineno">  311</span>        <span class="keywordflow">return</span> !!(link == &amp;rbt-&gt;<a class="code hl_variable" href="structxwlib__rbtree.html#a05d1bdd1cf62a0a083a576d914250270">root</a>);</div>
<div class="line"><span class="lineno">  312</span>}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__lib__rbtree_ga23349674f77ef164e1771a3244c766ab_icgraph.png" border="0" usemap="#agroup__xwos__lib__rbtree_ga23349674f77ef164e1771a3244c766ab_icgraph" alt=""/></div>
<map name="agroup__xwos__lib__rbtree_ga23349674f77ef164e1771a3244c766ab_icgraph" id="agroup__xwos__lib__rbtree_ga23349674f77ef164e1771a3244c766ab_icgraph">
<area shape="rect" title="测试是否连接到根节点（是否为根节点的子节点）" alt="" coords="176,5,347,31"/>
<area shape="rect" href="group__xwos__lib__map.html#ga99035462773a66c0872014a1419193f5" title="插入键值对容器" alt="" coords="5,5,128,31"/>
<area shape="poly" title=" " alt="" coords="162,21,128,21,128,15,162,15"/>
</map>
</div>

</div>
</div>
<a id="ga34948173cd9da4b654370873eb4f73d6" name="ga34948173cd9da4b654370873eb4f73d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga34948173cd9da4b654370873eb4f73d6">&#9670;&#160;</a></span>xwlib_rbtree_tst_node_unlinked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool xwlib_rbtree_tst_node_unlinked </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>测试红黑树节点是否已经链接到红黑树中 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>节点指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">false</td><td>已链接 </td></tr>
    <tr><td class="paramname">true</td><td>未链接 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00449">449</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  450</span>{</div>
<div class="line"><span class="lineno">  451</span>        <span class="keywordflow">return</span> !!((<a class="code hl_typedef" href="group__xwos__lib__type.html#gacef49946313c8d1985a8279bb40e31c4">xwptr_t</a>)0 == n-&gt;<a class="code hl_variable" href="structxwlib__rbtree__node.html#af6c8abb6b11cbe0764c96cf85ed6db82">lpc</a>.<a class="code hl_variable" href="structxwlib__rbtree__node.html#ae210272645162ea044c30a64a513fe7a">v</a>);</div>
<div class="line"><span class="lineno">  452</span>}</div>
</div><!-- fragment --><div class="dynheader">
这是这个函数的调用关系图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__lib__rbtree_ga34948173cd9da4b654370873eb4f73d6_icgraph.png" border="0" usemap="#agroup__xwos__lib__rbtree_ga34948173cd9da4b654370873eb4f73d6_icgraph" alt=""/></div>
<map name="agroup__xwos__lib__rbtree_ga34948173cd9da4b654370873eb4f73d6_icgraph" id="agroup__xwos__lib__rbtree_ga34948173cd9da4b654370873eb4f73d6_icgraph">
<area shape="rect" title="测试红黑树节点是否已经链接到红黑树中" alt="" coords="176,5,325,45"/>
<area shape="rect" href="group__xwos__lib__map.html#gae0a9e603da5733ebdf899a7969227cf8" title="删除键值对容器" alt="" coords="5,13,128,38"/>
<area shape="poly" title=" " alt="" coords="162,28,128,28,128,23,162,23"/>
</map>
</div>

</div>
</div>
<a id="gae795faa7d01de02b82b8d68be66a0e2e" name="gae795faa7d01de02b82b8d68be66a0e2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae795faa7d01de02b82b8d68be66a0e2e">&#9670;&#160;</a></span>xwlib_rbtree_tst_root()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool xwlib_rbtree_tst_root </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree.html">xwlib_rbtree</a> *&#160;</td>
          <td class="paramname"><em>rbt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>测试当前节点是否为根节点 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rbt</td><td>红黑树指针 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">node</td><td>节点指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>布尔值 </dd></dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>是 </td></tr>
    <tr><td class="paramname">false</td><td>否 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="rbtree_8h_source.html">rbtree.h</a> 第 <a class="el" href="rbtree_8h_source.html#l00290">290</a> 行定义.</p>
<div class="fragment"><div class="line"><span class="lineno">  292</span>{</div>
<div class="line"><span class="lineno">  293</span>        <span class="keyword">struct </span><a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> * p;</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>        p = <a class="code hl_function" href="group__xwos__lib__rbtree.html#ga8e9025d3e8bade2a627001fb58251047">xwlib_rbtree_get_parent</a>(node);</div>
<div class="line"><span class="lineno">  296</span>        <span class="keywordflow">return</span> !!(p == (<span class="keyword">struct </span><a class="code hl_struct" href="structxwlib__rbtree__node.html">xwlib_rbtree_node</a> *)&amp;rbt-&gt;<a class="code hl_variable" href="structxwlib__rbtree.html#a05d1bdd1cf62a0a083a576d914250270">root</a>);</div>
<div class="line"><span class="lineno">  297</span>}</div>
</div><!-- fragment --><div class="dynheader">
函数调用图:</div>
<div class="dyncontent">
<div class="center"><img src="group__xwos__lib__rbtree_gae795faa7d01de02b82b8d68be66a0e2e_cgraph.png" border="0" usemap="#agroup__xwos__lib__rbtree_gae795faa7d01de02b82b8d68be66a0e2e_cgraph" alt=""/></div>
<map name="agroup__xwos__lib__rbtree_gae795faa7d01de02b82b8d68be66a0e2e_cgraph" id="agroup__xwos__lib__rbtree_gae795faa7d01de02b82b8d68be66a0e2e_cgraph">
<area shape="rect" title="测试当前节点是否为根节点" alt="" coords="5,5,148,31"/>
<area shape="rect" href="group__xwos__lib__rbtree.html#ga8e9025d3e8bade2a627001fb58251047" title="返回节点的父节点指针" alt="" coords="196,5,356,31"/>
<area shape="poly" title=" " alt="" coords="148,15,182,15,182,21,148,21"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
